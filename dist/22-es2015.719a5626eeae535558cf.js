(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Ve1e:function(e,t,i){"use strict";i.r(t);var s=i("aceb"),n=i("tmjD"),r=i("3Pt+"),o=i("RS3s"),a=i("vTDv"),c=i("tyNb"),l=i("ofXK"),d=i("sRfN"),u=i("OE9b"),b=i("nYR2"),m=i("fXoL");function f(e,t){if(1&e&&(m.Xb(0,"nb-option",11),m.Gc(1),m.Wb()),2&e){const e=t.$implicit;m.nc("value",e),m.Eb(1),m.Ic(" ",e.nome,"")}}function h(e,t){if(1&e&&(m.Xb(0,"nb-option",11),m.Gc(1),m.Wb()),2&e){const e=t.$implicit;m.nc("value",e.id),m.Eb(1),m.Hc(e.nome)}}const p=[{path:"",component:(()=>{class e{constructor(e,t,i){this.service=e,this.ProfessorService=t,this.sidebarService=i,this.settings={hideSubHeader:!0,noDataMessage:"N\xe3o h\xe1 nenhum dado para exibir",actions:{add:!1,position:"right",columnTitle:"A\xe7\xf5es",edit:!1,delete:!1},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{titulo:{title:"T\xedtulo",type:"html",editable:!1,valuePrepareFunction:(e,t)=>'<a href="#/professor/atividade/'+t.id+'" >'+e+"</a>"},descricao:{title:"Descri\xe7\xe3o",type:"string",editable:!1},tipo:{title:"Tipo",type:"string",editable:!1},prazoInicial:{title:"Prazo Inicial",type:"string",valuePrepareFunction:e=>new l.e("en-US").transform(e,"dd/MM/yyyy")},prazoFinal:{title:"Prazo Final",type:"string",valuePrepareFunction:e=>new l.e("en-US").transform(e,"dd/MM/yyyy")}}},this.source=new o.a,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[],this.service.getData(),this.getSimulados(),this.getDisciplinas(),this.getTurmasProfessor()}getTurmasProfessor(){this.ProfessorService.getTurmas().subscribe(e=>{this.isLoading=!1,this.turmas=e})}getDisciplinas(){this.disciplinas=this.ProfessorService.professorDetalhe.disciplinas}filtrarTurma(e){delete this.turmasFiltered,delete this.selectedTurma,this.turmasFiltered=this.turmas.filter(t=>t.disciplinas.some(t=>t.idProfessorDisciplina==e.idProfessorDisciplina))}getSimulados(){this.ProfessorService.getSimulados().pipe(Object(b.a)(()=>{})).subscribe(e=>{this.simulados=e.sort((e,t)=>new Date(t.prazoFinal)-new Date(e.prazoFinal)),this.source.load(this.simulados),this.source.refresh()})}filterSimulados(e,t){console.log("oi"),this.simuladosFiltered=this.simulados.filter(i=>i.contidoEm.some(e=>e.idTurma==t)&&i.contidoEm.some(t=>t.disciplina.nome==e.nome)),this.source.load(this.simuladosFiltered),this.source.refresh()}onSearch(e=""){""!=e?this.source.setFilter([{field:"id",search:e},{field:"titulo",search:e},{field:"descricao",search:e},{field:"tipo",search:e},{field:"prazoInicial",search:e},{field:"prazoFinal",search:e},{field:"onboardStatus",search:e}],!1):this.source.reset()}onDeleteConfirm(e){console.log(e),window.confirm("Tem certeza que deseja rejeitar a aprova\xe7\xe3o deste usu\xe1rio?")||e.confirm.reject()}onEditConfirm(e){console.log(e)}onUserRowSelect(e,t){console.log(e.settings)}}return e.\u0275fac=function(t){return new(t||e)(m.Rb(d.a),m.Rb(u.a),m.Rb(s.kb))},e.\u0275cmp=m.Lb({type:e,selectors:[["ngx-simulados"]],decls:17,vars:7,consts:[[1,"d-flex","flex-column","flex-md-row"],[1,""],[1,"ml-auto","text-right","d-flex","flex-column","flex-md-row"],["placeholder","Selecione uma disciplina","filled","","status","primary",1,"mr-4",3,"selected","selectedChange"],["disciplinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecione uma turma","filled","","status","primary",1,"mr-4",3,"selected","disabled","selectedChange"],["turmaSelect",""],["nbInput","","type","text","placeholder","Buscar",1,"search",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","editConfirm"],[3,"value"]],template:function(e,t){if(1&e){const e=m.Yb();m.Xb(0,"nb-card"),m.Xb(1,"nb-card-header"),m.Xb(2,"div",0),m.Xb(3,"div",1),m.Xb(4,"h4"),m.Gc(5,"Atividades"),m.Wb(),m.Wb(),m.Xb(6,"div",2),m.Xb(7,"nb-select",3,4),m.fc("selectedChange",(function(e){return t.selectedDisciplina=e}))("selectedChange",(function(){return t.filtrarTurma(t.selectedDisciplina)})),m.Ec(9,f,2,2,"nb-option",5),m.Wb(),m.Xb(10,"nb-select",6,7),m.fc("selectedChange",(function(e){return t.selectedTurma=e}))("selectedChange",(function(){return t.filterSimulados(t.selectedDisciplina,t.selectedTurma)})),m.Ec(12,h,2,2,"nb-option",5),m.Wb(),m.Xb(13,"input",8,9),m.fc("keydown.enter",(function(){m.wc(e);const i=m.uc(14);return t.onSearch(i.value)})),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"nb-card-body"),m.Xb(16,"ng2-smart-table",10),m.fc("deleteConfirm",(function(e){return t.onDeleteConfirm(e)}))("editConfirm",(function(e){return t.onEditConfirm(e)})),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(7),m.nc("selected",t.selectedDisciplina),m.Eb(2),m.nc("ngForOf",t.disciplinas),m.Eb(1),m.nc("selected",t.selectedTurma)("disabled",t.turmasFiltered.length<=0),m.Eb(2),m.nc("ngForOf",t.turmasFiltered),m.Eb(4),m.nc("settings",t.settings)("source",t.source))},directives:[s.x,s.z,s.gb,l.l,s.L,s.w,o.b,s.bb],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=m.Pb({type:e}),e.\u0275inj=m.Ob({factory:function(t){return new(t||e)},imports:[[c.g.forChild(p)],c.g]}),e})();var v=i("5+WD"),y=i("zioG");i.d(t,"SimuladosModule",(function(){return S})),i.d(t,"PageModule",(function(){return w}));let S=(()=>{class e{}return e.\u0275mod=m.Pb({type:e}),e.\u0275inj=m.Ob({factory:function(t){return new(t||e)},imports:[[s.A,s.vb,s.K,s.M,s.n,s.D,s.G,s.eb,s.hb,s.xb,a.a,s.t,g,o.c,r.y,n.b,s.mb,s.v,s.k,v.e,y.b]]}),e})();class w{}}}]);