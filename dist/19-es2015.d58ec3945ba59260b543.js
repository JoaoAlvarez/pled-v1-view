(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{ZEuG:function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),i=n("tyNb");const o=[{title:"Voltar",icon:"arrow-back-outline",link:"/"},{title:"Meus dados",icon:"people-outline",link:"/perfil/meusdados"}];var s=n("fXoL"),a=n("mgFL"),b=n("aceb");let c=(()=>{class e{constructor(){this.menu=o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Lb({type:e,selectors:[["ngx-perfil"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(s.Xb(0,"ngx-one-column-layout"),s.Sb(1,"nb-menu",0),s.Sb(2,"router-outlet"),s.Wb()),2&e&&(s.Eb(1),s.nc("items",t.menu))},directives:[a.a,b.Y,i.h],styles:[""]}),e})();var l=n("ORBq"),u=n("3Pt+"),d=n("nYR2"),p=n("lJxs"),m=n("tk/3");let f=(()=>{class e{constructor(e){this.httpClient=e}getUserDetail(){return this.httpClient.get("/user/detail").pipe(Object(p.a)(e=>{if(e)return e}))}atualizarSenha(e){return this.httpClient.put("/user/updatepassword",e).pipe(Object(p.a)(e=>{if(e)return e}))}}return e.\u0275fac=function(t){return new(t||e)(s.bc(m.b))},e.\u0275prov=s.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=n("PSD3"),g=n.n(h);function v(e,t){if(1&e){const e=s.Yb();s.Xb(0,"form",4),s.fc("ngSubmit",(function(){return s.wc(e),s.hc().submit()})),s.Xb(1,"div",5),s.Xb(2,"label",6),s.Gc(3,"E-mail"),s.Wb(),s.Xb(4,"div",7),s.Sb(5,"input",8),s.Wb(),s.Wb(),s.Xb(6,"div",5),s.Xb(7,"label",6),s.Gc(8,"CPF"),s.Wb(),s.Xb(9,"div",7),s.Sb(10,"input",9),s.Wb(),s.Wb(),s.Xb(11,"div",5),s.Xb(12,"label",6),s.Gc(13,"Senha"),s.Wb(),s.Xb(14,"div",7),s.Sb(15,"input",10),s.Wb(),s.Wb(),s.Xb(16,"div",5),s.Xb(17,"div",11),s.Xb(18,"button",12),s.Gc(19,"Alterar senha"),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.hc();s.nc("formGroup",e.form),s.Eb(18),s.nc("disabled",e.form.invalid||e.isLoading)}}const S=[{path:"",component:c,children:[{path:"meusdados",component:(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.PerfilService=t,this.router=n,this.isLoading=!1}ngOnInit(){}get userDetails(){return this.PerfilService.getUserDetail().pipe(Object(d.a)(()=>{})).subscribe(e=>{this.createForm(e)})}createForm(e){console.log(e),this.form=this.formBuilder.group({email:[e.email,u.A.required],cpf:[e.cpf,u.A.required],password:["",u.A.required]})}submit(){this.isLoading=!0;const e=Object.assign({},this.form.value);this.PerfilService.atualizarSenha(e).pipe(Object(d.a)(()=>{this.isLoading=!1})).subscribe(e=>{this.isLoading=!1,e&&g.a.fire("Ok","Senha alterada com sucesso","success")})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(u.d),s.Rb(f),s.Rb(i.c))},e.\u0275cmp=s.Lb({type:e,selectors:[["ngx-meusdados"]],decls:8,vars:2,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],["action","",3,"formGroup","ngSubmit",4,"ngIf"],["action","",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","nome",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","nbInput","","fullWidth","","id","email","placeholder","Nome","formControlName","email","disabled",""],["type","text","nbInput","","fullWidth","","id","cpf","placeholder","CPF","formControlName","cpf","disabled",""],["type","text","nbInput","","fullWidth","","id","password","placeholder","Nova senha","formControlName","password"],[1,"offset-sm-2","col-sm-10"],["type","submit","nbButton","","status","primary",3,"disabled"]],template:function(e,t){1&e&&(s.Xb(0,"nb-card",0),s.Xb(1,"nb-card-header"),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"h4"),s.Gc(5,"Meus dados"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"nb-card-body"),s.Ec(7,v,20,2,"form",3),s.Wb(),s.Wb()),2&e&&(s.nc("nbSpinner",t.isLoading),s.Eb(7),s.nc("ngIf",t.form))},directives:[b.x,b.lb,b.z,b.w,r.m,u.C,u.q,u.h,b.L,u.b,u.p,u.g,b.s],styles:[""]}),e})()},{path:"**",component:l.a}]}];let W=(()=>{class e{}return e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({factory:function(t){return new(t||e)},imports:[[i.g.forChild(S)],i.g]}),e})();var X=n("vTDv"),w=n("iPsQ"),y=n("tmjD");n.d(t,"PerfilModule",(function(){return L}));let L=(()=>{class e{}return e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({factory:function(t){return new(t||e)},imports:[[r.c,X.a,b.Z,w.a,W,u.x,y.b,b.t,b.M,b.A,b.mb]]}),e})()}}]);