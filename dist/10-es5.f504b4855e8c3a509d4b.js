function _defineProperties(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{pr3Z:function(t,e,s){"use strict";s.r(e);var i,n,a,o=s("aceb"),r=s("tmjD"),c=s("3Pt+"),u=s("RS3s"),l=s("vTDv"),b=s("tyNb"),d=s("fXoL"),f=((i=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Lb({type:i,selectors:[["usuarios"]],decls:1,vars:0,template:function(t,e){1&t&&d.Sb(0,"router-outlet")},directives:[b.h],encapsulation:2}),i),h=s("FIB3"),p=s("nYR2"),m=s("PSD3"),v=s.n(m),g=s("UXd6"),C=[{path:"",component:f,children:[{path:"",redirectTo:"listar",pathMatch:"full"},{path:"listar",component:(n=function(){function t(e,s){_classCallCheck(this,t),this.UsuariosService=e,this.router=s,this.settingsDefault={hideSubHeader:!0,noDataMessage:"N\xe3o h\xe1 nenhum dado para exibir",actions:{position:"right",columnTitle:"A\xe7\xf5es",add:!1,edit:!1,delete:!1},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{nome:{title:"Nome",type:"string",editable:!0},cpf:{title:"CPF",type:"string",editable:!1},email:{title:"E-Mail",type:"string",editable:!1},perfil:{title:"Perfil",type:"string"},validated:{title:"Validado",type:"custom",renderComponent:g.a},isAtivo:{title:"Status",type:"string",valuePrepareFunction:function(t){return t?"Ativo":"Inativo"}}}},this.settings1=Object.assign(Object.assign({},this.settingsDefault),{actions:Object.assign(Object.assign({},this.settingsDefault.actions),{custom:[{name:"status",title:'<i class="nb-trash" title="Desativar usu\xe1rio"></i>'}]})}),this.settings2=Object.assign(Object.assign({},this.settingsDefault),{actions:Object.assign(Object.assign({},this.settingsDefault.actions),{custom:[{name:"status",title:'<i class="nb-loop" title="Ativar usu\xe1rio"></i>'}]})}),this.source=new u.a,this.source2=new u.a,this.getUsuarios()}return _createClass(t,[{key:"getUsuarios",value:function(){var t=this;this.UsuariosService.getUsuarios().pipe(Object(p.a)((function(){}))).subscribe((function(e){var s=e.filter((function(t){return t.isAtivo})),i=e.filter((function(t){return!t.isAtivo}));t.source.load(s),t.source2.load(i),t.source.refresh(),t.source2.refresh()}))}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""!=t?this.source.setFilter([{field:"id",search:t},{field:"name",search:t},{field:"cpf",search:t},{field:"turma",search:t},{field:"onboardStatus",search:t}],!1):this.source.reset()}},{key:"onDeleteConfirm",value:function(t,e){var s=this;if(window.confirm("Tem certeza que deseja "+(t.data.isAtivo?"desativar":"ativar")+" este usu\xe1rio?")){var i="";"source1"==e?i="desativado":"source2"==e&&(i="ativado"),this.UsuariosService.deleteUser({id:t.data._id,status:!t.data.isAtivo}).pipe(Object(p.a)((function(){}))).subscribe((function(e){v.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"success",title:"O usu\xe1rio "+t.data.nome+" "+i+" com sucesso"}),s.getUsuarios()}))}}},{key:"onCustomAction",value:function(t,e){"status"==t.action&&this.onDeleteConfirm(t,e)}}]),t}(),n.\u0275fac=function(t){return new(t||n)(d.Rb(h.a),d.Rb(b.c))},n.\u0275cmp=d.Lb({type:n,selectors:[["usuarios-listar"]],decls:15,vars:4,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-5","ml-auto","text-right"],["nbInput","","type","text","placeholder","Buscar",1,"search",3,"keydown.enter"],["search",""],["tabTitle","Ativos"],[3,"settings","source","custom"],["tabTitle","Inativos"]],template:function(t,e){if(1&t){var s=d.Yb();d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Xb(2,"div",0),d.Xb(3,"div",1),d.Xb(4,"h4"),d.Gc(5,"Usu\xe1rios"),d.Wb(),d.Wb(),d.Xb(6,"div",2),d.Xb(7,"input",3,4),d.fc("keydown.enter",(function(){d.wc(s);var t=d.uc(8);return e.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"nb-card-body"),d.Xb(10,"nb-tabset"),d.Xb(11,"nb-tab",5),d.Xb(12,"ng2-smart-table",6),d.fc("custom",(function(t){return e.onCustomAction(t,"source1")})),d.Wb(),d.Wb(),d.Xb(13,"nb-tab",7),d.Xb(14,"ng2-smart-table",6),d.fc("custom",(function(t){return e.onCustomAction(t,"source2")})),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}2&t&&(d.Eb(12),d.nc("settings",e.settings1)("source",e.source),d.Eb(2),d.nc("settings",e.settings2)("source",e.source2))},directives:[o.x,o.z,o.L,o.w,o.pb,o.ob,u.b],styles:["[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding-left:0;padding-right:0}"]}),n)}]}],y=((a=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:a}),a.\u0275inj=d.Ob({factory:function(t){return new(t||a)},imports:[[b.g.forChild(C)],b.g]}),a);s.d(e,"UsuariosModule",(function(){return k}));var w,k=((w=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:w}),w.\u0275inj=d.Ob({factory:function(t){return new(t||w)},imports:[[o.A,o.vb,o.K,o.M,o.n,o.D,o.G,o.eb,o.hb,o.xb,l.a,o.t,y,u.c,c.x,r.b,o.mb,o.ub,o.qb]]}),w)}}]);