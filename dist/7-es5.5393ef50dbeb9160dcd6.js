function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,o=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(n=(r=c.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(s){o=!0,a=s}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{OE9b:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("lJxs"),o=i("fXoL"),a=i("tk/3"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this.httpClient=t}return _createClass(e,[{key:"getSimulados",value:function(){return this.httpClient.get("/professor/simulado/listar").pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"criarSimulado",value:function(e){return this.httpClient.post("/professor/simulado/novo",e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getTurmas",value:function(){return this.httpClient.get("/professor/turma").pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getProfessorDetalhes",value:function(){return this.httpClient.get("/professor/detalhado").pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"inserirSimuladoTurma",value:function(e){return this.httpClient.post("/professor/simulado/turma",e).pipe(Object(n.a)((function(e){return e})))}},{key:"getMateriais",value:function(e,t){return this.httpClient.put("/professor/turma/material/listar",{turma:t,disciplina:e}).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"inserirMateriais",value:function(e){var t,i;return console.log(e),"arquivo"==e.tipo_material?((t=new FormData).append("file",e.fileSource),t.append("dados",JSON.stringify(e)),i="/professor/turma/material/arquivo"):"url"==e.tipo_material&&(i="/professor/turma/material/url",delete(t=e).file),console.log("SEND",t),this.httpClient.post(i,t,void 0).pipe(Object(n.a)((function(e){return e})))}},{key:"editarMateriais",value:function(e){return this.httpClient.put("/professor/turma/material",e).pipe(Object(n.a)((function(e){return e})))}},{key:"deletarMaterial",value:function(e){return this.httpClient.delete("/professor/turma/material/"+e).pipe(Object(n.a)((function(e){return e})))}},{key:"criarPlanejamento",value:function(e){return this.httpClient.post("/professor/turma/planodeaula",e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getPlanejamentos",value:function(e,t){return this.httpClient.put("/professor/turma/planodeaula/listar",{turmaId:t,disciplinaProfessor:e}).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getTimelineAtividades",value:function(e){return this.httpClient.get("/timeline/simulados/"+e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getTimelineAulas",value:function(e){return this.httpClient.get("/timeline/aulas/"+e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getTimelineMateriais",value:function(e){return this.httpClient.get("/timeline/materiais/"+e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getTurmaDetalhe",value:function(e){return this.httpClient.get("/professor/turma/id/"+e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getAtividade",value:function(e){return this.httpClient.get("/professor/simulado/id/"+e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"getRespostasAlunos",value:function(e){return this.httpClient.get("/professor/simulado/poraluno/idsimulado/"+e).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"enviarRespostas",value:function(e,t){return this.httpClient.put("/professor/simulado/corrigir/"+e,t).pipe(Object(n.a)((function(e){if(e)return e})))}},{key:"professorDetalhe",get:function(){return JSON.parse(localStorage.getItem("professor"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.bc(a.b))},e.\u0275prov=o.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},PTne:function(e,t,i){"use strict";i.r(t);var n=i("aceb"),o=i("tmjD"),a=i("RS3s"),r=i("vTDv"),c=i("3Pt+"),s=i("tyNb"),b=[{title:"Home",icon:"home-outline",link:"/professor/home"},{title:"Turmas",icon:"people-outline",children:[{title:"Listar",link:"/professor/turmas"}]},{title:"Atividades",icon:"edit-2-outline",children:[{title:"Criar",link:"/professor/atividades/criar"},{title:"Listar",link:"/professor/atividades"}]},{title:"Materiais",icon:"book-open-outline",children:[{title:"Criar",link:"/professor/materiais/cadastrar"},{title:"Listar",link:"/professor/materiais/listar"}]},{title:"Planejamento de Aulas",icon:"calendar-outline",children:[{title:"Planos de aula",link:"/professor/planejamento/criar"}]}],l=i("OE9b"),u=i("fXoL"),d=i("ofXK"),f=i("mgFL");function p(e,t){if(1&e&&(u.Xb(0,"nb-option",9),u.Gc(1),u.Wb()),2&e){var i=t.$implicit;u.nc("value",i),u.Eb(1),u.Hc(i.nome)}}function m(e,t){if(1&e){var i=u.Yb();u.Xb(0,"ngx-one-column-layout"),u.Sb(1,"nb-menu",1),u.Xb(2,"div",2),u.Xb(3,"div",3),u.Xb(4,"h6",4),u.Gc(5),u.Wb(),u.Wb(),u.Xb(6,"div",5),u.Xb(7,"nb-select",6,7),u.fc("selectedChange",(function(e){return u.wc(i),u.hc().selectedTurma=e}))("selectedChange",(function(){u.wc(i);var e=u.hc();return e.navigateToTurma(e.selectedTurma)})),u.Ec(9,p,2,2,"nb-option",8),u.Wb(),u.Wb(),u.Wb(),u.Sb(10,"router-outlet"),u.Wb()}if(2&e){var n=u.hc();u.Eb(1),u.nc("items",n.menu),u.Eb(4),u.Ic("Ol\xe1 ",n.professor.nome," "),u.Eb(2),u.nc("selected",n.selectedTurma),u.Eb(2),u.nc("ngForOf",n.turmas)}}var v,h=((v=function(){function e(t,i,n,o){_classCallCheck(this,e),this.professorService=t,this.router=i,this.route=n,this.sidebarService=o,this.menu=b,this.isLoading=!0,this.turmas=[],this.selectedTurma="",console.log(this.router.url),this.router.url.includes("/professor/home/")||"/professor"===this.router.url?this.getTurmas(!0):this.getTurmas(!1)}return _createClass(e,[{key:"ngOnInit",value:function(){this.getProfessorDetalhes()}},{key:"getProfessorDetalhes",value:function(){var e=this;this.professorService.getProfessorDetalhes().subscribe((function(t){e.isLoading=!1,e.professor=t,localStorage.setItem("professor",JSON.stringify(e.professor))}))}},{key:"getTurmas",value:function(e){var t=this;this.professorService.getTurmas().subscribe((function(i){if(t.isLoading=!1,t.turmas=i,localStorage.getItem("turmaSelected")){var n=JSON.parse(localStorage.getItem("turmaSelected")),o=t.turmas.filter((function(e){return e.id==n.id}));t.selectedTurma=o[0]}else t.selectedTurma=t.turmas[0];e&&t.navigateToTurma(t.selectedTurma)}))}},{key:"navigateToTurma",value:function(e){console.log("Select turma",e),this.router.navigate(["/professor/home/"+e.id]),localStorage.setItem("turmaSelected",JSON.stringify(e))}},{key:"navigate",value:function(e){return this.router.navigate([e]),!1}},{key:"ngOnDestroy",value:function(){localStorage.removeItem("professor")}}]),e}()).\u0275fac=function(e){return new(e||v)(u.Rb(l.a),u.Rb(s.c),u.Rb(s.a),u.Rb(n.kb))},v.\u0275cmp=u.Lb({type:v,selectors:[["ngx-professor"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"items"],["sub-header","",1,"sub-header"],[1,"sub-header__displayname"],[1,"text-alternate","mb-0","subtitle"],[1,"sub-header__actions"],["placeholder","Selecione uma turma","filled","","status","primary",1,"mr-md-4","action__select",3,"selected","selectedChange"],["turmaSelect",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&u.Ec(0,m,11,4,"ngx-one-column-layout",0),2&e&&u.nc("ngIf",t.professor)},directives:[d.m,f.a,n.Y,n.gb,d.l,s.h,n.bb],encapsulation:2}),v),g=i("nYR2"),W=i("PSD3"),X=i.n(W),y=i("5+WD"),E=i("UBqL");function S(e,t){if(1&e&&(u.Xb(0,"div"),u.Gc(1),u.ic(2,"date"),u.ic(3,"date"),u.Sb(4,"nb-icon",37),u.Wb()),2&e){var i=u.hc();u.Eb(1),u.Jc(" ",u.kc(2,2,i.form.controls.prazoInicial.value,"dd/MM/yyyy")," | ",u.kc(3,5,i.form.controls.prazoInicial.value,"HH:mm")+"h "," ")}}function k(e,t){1&e&&(u.Xb(0,"div"),u.Gc(1," Data inicial "),u.Sb(2,"nb-icon",37),u.Wb())}function I(e,t){if(1&e&&(u.Xb(0,"div"),u.Gc(1),u.ic(2,"date"),u.ic(3,"date"),u.Sb(4,"nb-icon",37),u.Wb()),2&e){var i=u.hc();u.Eb(1),u.Jc(" ",u.kc(2,2,i.form.controls.prazoFinal.value,"dd/MM/yyyy")," | ",u.kc(3,5,i.form.controls.prazoFinal.value,"HH:mm")+"h "," ")}}function x(e,t){1&e&&(u.Xb(0,"div"),u.Gc(1," Prazo final "),u.Sb(2,"nb-icon",37),u.Wb())}function C(e,t){if(1&e&&(u.Xb(0,"nb-option",38),u.Gc(1),u.Wb()),2&e){var i=t.$implicit;u.nc("value",i.idProfessorDisciplina),u.Eb(1),u.Ic(" ",i.nome," ")}}function G(e,t){if(1&e&&(u.Xb(0,"nb-option",38),u.Gc(1),u.Wb()),2&e){var i=t.$implicit;u.nc("value",i.id),u.Eb(1),u.Hc(i.nome)}}function O(e,t){1&e&&u.Sb(0,"div",50)}function A(e,t){1&e&&u.Sb(0,"div",63)}function P(e,t){if(1&e){var i=u.Yb();u.Xb(0,"nb-card",56),u.Ec(1,A,1,0,"div",57),u.Xb(2,"nb-card-header",58),u.Sb(3,"nb-icon",41),u.Xb(4,"div",52),u.Gc(5),u.Wb(),u.Xb(6,"button",59),u.fc("click",(function(){u.wc(i);var e=t.index,n=u.hc(2).$implicit;return u.hc().deleteAlternativa(n.controls.alternativas,e)})),u.Sb(7,"nb-icon",43),u.Wb(),u.Wb(),u.Xb(8,"nb-card-body",60),u.Xb(9,"div",44),u.Sb(10,"input",61),u.Wb(),u.Xb(11,"nb-checkbox",62),u.Gc(12,"Esta \xe9 a resposta certa? "),u.Wb(),u.Wb(),u.Wb()}if(2&e){var n=t.index;u.Eb(5),u.Ic("Resposta ",n+1,""),u.Eb(3),u.nc("formGroupName",n),u.Eb(2),u.pc("placeholder","Resposta ",n+1,"")}}function j(e,t){if(1&e){var i=u.Yb();u.Xb(0,"nb-card",51),u.Xb(1,"nb-card-header"),u.Xb(2,"h6",52),u.Gc(3,"Alternativas"),u.Wb(),u.Wb(),u.Xb(4,"nb-card-body",30),u.fc("cdkDropListDropped",(function(e){return u.wc(i),u.hc(2).onDrop(e)})),u.Ec(5,P,13,3,"nb-card",53),u.Wb(),u.Xb(6,"nb-card-footer"),u.Xb(7,"div",54),u.Xb(8,"button",55),u.fc("click",(function(){u.wc(i);var e=u.hc().$implicit;return u.hc().addAlternativa(e.controls.alternativas)})),u.Sb(9,"nb-icon",34),u.Gc(10," Adicionar alternativa "),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var n=u.hc().$implicit;u.Eb(4),u.nc("cdkDropListData",n.get("alternativas").controls),u.Eb(1),u.nc("ngForOf",n.get("alternativas").controls)}}function T(e,t){if(1&e){var i=u.Yb();u.Xb(0,"nb-accordion-item",39),u.Ec(1,O,1,0,"div",40),u.Xb(2,"nb-accordion-item-header"),u.Sb(3,"nb-icon",41),u.Xb(4,"div"),u.Xb(5,"span"),u.Gc(6),u.Wb(),u.Sb(7,"br"),u.Xb(8,"small"),u.Gc(9),u.Wb(),u.Wb(),u.Xb(10,"button",42),u.fc("click",(function(){u.wc(i);var e=t.index;return u.hc().deleteQuestoes(e)})),u.Sb(11,"nb-icon",43),u.Wb(),u.Wb(),u.Xb(12,"nb-accordion-item-body"),u.Xb(13,"div",44),u.Sb(14,"textarea",45),u.Wb(),u.Xb(15,"div",4),u.Xb(16,"div",46),u.Sb(17,"input",47),u.Wb(),u.Xb(18,"div",46),u.Xb(19,"nb-checkbox",48),u.Gc(20," Tem alternativas?"),u.Wb(),u.Wb(),u.Wb(),u.Ec(21,j,11,2,"nb-card",49),u.Wb(),u.Wb()}if(2&e){var n=t.$implicit,o=t.index;u.nc("formGroupName",o),u.Eb(6),u.Ic("Quest\xe3o ",o+1,""),u.Eb(3),u.Hc(n.controls.enunciado.value),u.Eb(12),u.nc("ngIf",n.get("isMultiplaEscolha").value)}}var D,_=((D=function(){function e(t,i,n){_classCallCheck(this,e),this.formBuilder=t,this.ProfessorService=i,this.router=n,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getTurmasProfessor(),this.getDetalhesProfessor(),this.createForm(),this.form.get("disciplina").valueChanges.subscribe((function(t){e.turmasFiltered=e.turmas.filter((function(e){return e.disciplinas.some((function(e){return e.idProfessorDisciplina==t}))}))}))}},{key:"onDrop",value:function(e){e.previousContainer===e.container?Object(y.f)(e.container.data,e.previousIndex,e.currentIndex):Object(y.g)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}},{key:"getTurmasProfessor",value:function(){var e=this;this.ProfessorService.getTurmas().subscribe((function(t){e.isLoading=!1,e.turmas=t}))}},{key:"getDetalhesProfessor",value:function(){var e=this;this.ProfessorService.getProfessorDetalhes().subscribe((function(t){e.isLoading=!1,e.disciplinas=t.disciplinas}))}},{key:"addQuestoes",value:function(){this.questoes.push(this.formBuilder.group({enunciado:["",c.A.required],pontos:["",c.A.required],isMultiplaEscolha:[!0,c.A.required],alternativas:this.formBuilder.array([])}))}},{key:"deleteQuestoes",value:function(e){this.questoes.removeAt(e)}},{key:"addAlternativa",value:function(e){e.push(this.formBuilder.group({texto:["",c.A.required],isResposta:[!1,c.A.required]}))}},{key:"deleteAlternativa",value:function(e,t){e.removeAt(t)}},{key:"filterDisciplinas",value:function(e){console.log(e)}},{key:"createForm",value:function(){this.form=this.formBuilder.group({titulo:["",c.A.required],descricao:["",c.A.required],tipo:["",c.A.required],questoes:this.formBuilder.array([]),prazoInicial:["",c.A.required],prazoFinal:["",c.A.required],turmas:["",c.A.required],disciplina:["",c.A.required]})}},{key:"createFormSimuladoTurma",value:function(){this.formSimuladoTurma=this.formBuilder.group({idSimulado:["",c.A.required],turmas:["",c.A.required],disciplina:["",c.A.required]})}},{key:"Adicionar",value:function(){var e=this;this.isLoading=!0;var t=Object.assign({},this.form.value);this.ProfessorService.criarSimulado(t).pipe(Object(g.a)((function(){e.isLoading=!1}))).subscribe((function(t){e.isLoading=!1,t&&e.inserirSimuladoTurma(t._id)}))}},{key:"inserirSimuladoTurma",value:function(e){var t=this;this.isLoading=!0;var i={idSimulado:e,turmas:this.form.controls.turmas.value,idDisciplinaProfessor:this.form.controls.disciplina.value};console.log(i),this.ProfessorService.inserirSimuladoTurma(i).pipe(Object(g.a)((function(){t.isLoading=!1}))).subscribe((function(e){t.isLoading=!1,e&&(X.a.fire("Ok","Atividade adicionada com sucesso","success"),t.router.navigateByUrl("/atividades"))}))}},{key:"questoes",get:function(){return this.form.get("questoes")}}]),e}()).\u0275fac=function(e){return new(e||D)(u.Rb(c.d),u.Rb(l.a),u.Rb(s.c))},D.\u0275cmp=u.Lb({type:D,selectors:[["nb-select-clean"]],decls:71,vars:17,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],["action","",3,"formGroup"],[1,"form-group","row"],["for","titulo",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","nbInput","","fullWidth","","id","titulo","placeholder","T\xedtulo","formControlName","titulo"],["for","descricao",1,"label","col-sm-2","col-form-label"],["type","text","nbInput","","fullWidth","","id","descricao","placeholder","Descri\xe7\xe3o","formControlName","descricao"],["for","tipo",1,"label","col-sm-2","col-form-label"],["fullWidth","","id","tipo","placeholder","Selecione um Tipo","formControlName","tipo"],["value","Exercicio"],["value","Prova"],["value","Simulado"],["for","prazoInicial",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10","d-flex"],[1,"mr-2","timepicker"],[1,"timepicker__placeholder","btn","btn-outline-secondary"],[4,"ngIf"],["type","text","nbInput","","id","prazoInicial","placeholder","Data Inicio","formControlName","prazoInicial","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],[1,"timepicker"],["type","text","nbInput","","id","prazoFinal","placeholder","Prazo Final","formControlName","prazoFinal","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],["for","disciplina",1,"label","col-sm-2","col-form-label"],["placeholder","Selecione a disciplina","id","disciplina","formControlName","disciplina"],[3,"value",4,"ngFor","ngForOf"],["for","turmas",1,"label","col-sm-2","col-form-label"],["multiple","","placeholder","Selecione as turmas","id","turmas","formControlName","turmas",3,"selectedChange"],["formArrayName","questoes",1,"form-group","row"],["for","questao",1,"label","col-sm-2","col-form-label"],["cdkDropList","",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"offset-sm-2","col-sm-10","mb-4"],["type","button","nbButton","","status","info","size","small",3,"click"],["icon","plus-outline"],[1,"offset-sm-2","col-sm-10"],["type","submit","nbButton","","status","primary",3,"disabled","click"],["icon","calendar-outline",1,"text-hint"],[3,"value"],["cdkDrag","",3,"formGroupName"],["class","questao-placeholder",4,"cdkDragPlaceholder"],["icon","move-outline","cdkDragHandle","",1,"mr-4","text-disabled"],["type","button","nbButton","","status","danger","size","tiny",1,"ml-auto","mr-5",3,"click"],["icon","trash-2-outline"],[1,"form-group"],["type","text","nbInput","","fullWidth","","id","enunciado","placeholder","Enunciado","formControlName","enunciado"],[1,"col-sm-6"],["type","number","min","1","max","10","nbInput","","fullWidth","","id","pontos","placeholder","Pontos","formControlName","pontos"],["id","isMultiplaEscolha","formControlName","isMultiplaEscolha"],["formArrayName","alternativas",4,"ngIf"],[1,"questao-placeholder"],["formArrayName","alternativas"],[1,"subtitle"],["accent","info","cdkDrag","",4,"ngFor","ngForOf"],[1,"text-center"],["nbButton","","status","info","size","small","status","primary","type","button",3,"click"],["accent","info","cdkDrag",""],["class","alternativa-placeholder",4,"cdkDragPlaceholder"],[1,"d-flex"],["type","button","nbButton","","status","danger","size","tiny",1,"ml-auto",3,"click"],[3,"formGroupName"],["type","text","nbInput","","fullWidth","","formControlName","texto",3,"placeholder"],["formControlName","isResposta"],[1,"alternativa-placeholder"]],template:function(e,t){1&e&&(u.Xb(0,"nb-card",0),u.Xb(1,"nb-card-header"),u.Xb(2,"div",1),u.Xb(3,"div",2),u.Xb(4,"h4"),u.Gc(5,"Criar atividade"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(6,"nb-card-body"),u.Xb(7,"form",3),u.Xb(8,"div",4),u.Xb(9,"label",5),u.Gc(10,"T\xedtulo"),u.Wb(),u.Xb(11,"div",6),u.Sb(12,"input",7),u.Wb(),u.Wb(),u.Xb(13,"div",4),u.Xb(14,"label",8),u.Gc(15,"Descri\xe7\xe3o"),u.Wb(),u.Xb(16,"div",6),u.Sb(17,"input",9),u.Wb(),u.Wb(),u.Xb(18,"div",4),u.Xb(19,"label",10),u.Gc(20,"Tipo"),u.Wb(),u.Xb(21,"div",6),u.Xb(22,"nb-select",11),u.Xb(23,"nb-option",12),u.Gc(24,"Exerc\xedcio"),u.Wb(),u.Xb(25,"nb-option",13),u.Gc(26,"Avalia\xe7\xe3o"),u.Wb(),u.Xb(27,"nb-option",14),u.Gc(28,"Simulado"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(29,"div",4),u.Xb(30,"label",15),u.Gc(31,"Prazo"),u.Wb(),u.Xb(32,"div",16),u.Xb(33,"div",17),u.Xb(34,"div",18),u.Xb(35,"div"),u.Ec(36,S,5,8,"div",19),u.Ec(37,k,3,0,"div",19),u.Wb(),u.Wb(),u.Sb(38,"input",20),u.Wb(),u.Xb(39,"div",21),u.Xb(40,"div",18),u.Xb(41,"div"),u.Ec(42,I,5,8,"div",19),u.Ec(43,x,3,0,"div",19),u.Wb(),u.Wb(),u.Sb(44,"input",22),u.Wb(),u.Wb(),u.Wb(),u.Xb(45,"div",4),u.Xb(46,"label",23),u.Gc(47,"Disciplina"),u.Wb(),u.Xb(48,"div",16),u.Xb(49,"nb-select",24),u.Ec(50,C,2,2,"nb-option",25),u.Wb(),u.Wb(),u.Wb(),u.Xb(51,"div",4),u.Xb(52,"label",26),u.Gc(53,"Turmas"),u.Wb(),u.Xb(54,"div",16),u.Xb(55,"nb-select",27),u.fc("selectedChange",(function(e){return t.filterDisciplinas(e)})),u.Ec(56,G,2,2,"nb-option",25),u.Wb(),u.Wb(),u.Wb(),u.Xb(57,"div",28),u.Xb(58,"label",29),u.Gc(59," Quest\xf5es:"),u.Wb(),u.Xb(60,"div",6),u.Xb(61,"nb-accordion",30),u.fc("cdkDropListDropped",(function(e){return t.onDrop(e)})),u.Ec(62,T,22,4,"nb-accordion-item",31),u.Wb(),u.Wb(),u.Wb(),u.Xb(63,"div",4),u.Xb(64,"div",32),u.Xb(65,"button",33),u.fc("click",(function(){return t.addQuestoes()})),u.Sb(66,"nb-icon",34),u.Gc(67," Adicionar quest\xe3o "),u.Wb(),u.Wb(),u.Xb(68,"div",35),u.Xb(69,"button",36),u.fc("click",(function(){return t.Adicionar()})),u.Gc(70,"Adicionar"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.nc("nbSpinner",t.isLoading),u.Eb(7),u.nc("formGroup",t.form),u.Eb(29),u.nc("ngIf",t.form.controls.prazoInicial.value),u.Eb(1),u.nc("ngIf",!t.form.controls.prazoInicial.value),u.Eb(1),u.nc("altInput",!1)("enableTime",!0)("time24hr",!0),u.Eb(4),u.nc("ngIf",t.form.controls.prazoFinal.value),u.Eb(1),u.nc("ngIf",!t.form.controls.prazoFinal.value),u.Eb(1),u.nc("altInput",!1)("enableTime",!0)("time24hr",!0),u.Eb(6),u.nc("ngForOf",t.disciplinas),u.Eb(6),u.nc("ngForOf",t.turmasFiltered),u.Eb(5),u.nc("cdkDropListData",t.questoes.controls),u.Eb(1),u.nc("ngForOf",t.questoes.controls),u.Eb(7),u.nc("disabled",t.form.invalid||t.isLoading))},directives:[n.x,n.lb,n.z,n.w,c.C,c.q,c.h,n.L,c.b,c.p,c.g,n.gb,n.bb,d.m,E.b,d.l,c.c,n.g,y.d,n.s,n.I,n.i,y.a,c.i,y.c,n.j,y.b,n.h,c.v,n.C,n.y],pipes:[d.e],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;padding:1.25rem}.cdk-drag-animating[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.questao-placeholder[_ngcontent-%COMP%]{min-height:60px}.alternativa-placeholder[_ngcontent-%COMP%], .questao-placeholder[_ngcontent-%COMP%]{background:#fff6f6;border:3px dotted #ddd;transition:transform .25s cubic-bezier(0,0,.2,1)}.alternativa-placeholder[_ngcontent-%COMP%]{min-height:100px}"]}),D),M=i("cp0P");function w(e,t){1&e&&u.Sb(0,"nb-icon",26)}function L(e,t){1&e&&u.Sb(0,"nb-icon",27)}function F(e,t){if(1&e&&(u.Xb(0,"div"),u.Ec(1,w,1,0,"nb-icon",24),u.Ec(2,L,1,0,"nb-icon",25),u.Xb(3,"span"),u.Gc(4),u.Wb(),u.Wb()),2&e){var i=t.$implicit;u.Eb(1),u.nc("ngIf",i.isResposta),u.Eb(1),u.nc("ngIf",!i.isResposta),u.Eb(2),u.Hc(i.texto)}}function z(e,t){if(1&e&&(u.Xb(0,"div",22),u.Xb(1,"div"),u.Ec(2,F,5,3,"div",23),u.Wb(),u.Wb()),2&e){var i=u.hc(2).$implicit;u.Eb(2),u.nc("ngForOf",i.alternativas)}}var H=function(e,t){return{"badge-success":e,"badge-danger":t}};function R(e,t){if(1&e&&(u.Xb(0,"div",28),u.Xb(1,"div",0),u.Xb(2,"div",29),u.Sb(3,"nb-icon",30),u.Gc(4),u.Wb(),u.Xb(5,"div",31),u.Xb(6,"span",32),u.Gc(7),u.Wb(),u.Wb(),u.Wb(),u.Sb(8,"hr",33),u.Wb()),2&e){var i=t.$implicit;u.Eb(4),u.Ic(" ",i.aluno.nome," "),u.Eb(2),u.nc("ngClass",u.sc(3,H,i.acertou,!i.acertou)),u.Eb(1),u.Ic(" ",i.acertou?"Acertou":"Errou"," ")}}function q(e,t){if(1&e&&(u.Xb(0,"div"),u.Ec(1,z,3,1,"div",18),u.Xb(2,"nb-accordion"),u.Xb(3,"nb-accordion-item"),u.Xb(4,"nb-accordion-item-header"),u.Xb(5,"h6",19),u.Sb(6,"nb-icon",20),u.Gc(7," Respostas dos alunos: "),u.Wb(),u.Wb(),u.Xb(8,"nb-accordion-item-body"),u.Ec(9,R,9,6,"div",21),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.hc().$implicit;u.Eb(1),u.nc("ngIf",i.isMultiplaEscolha),u.Eb(8),u.nc("ngForOf",i.respostasAlunos)}}function N(e,t){if(1&e&&(u.Xb(0,"div",39),u.Xb(1,"span",32),u.Gc(2),u.Wb(),u.Wb()),2&e){var i=u.hc().$implicit;u.Eb(1),u.nc("ngClass",u.sc(2,H,i.acertou,!i.acertou)),u.Eb(1),u.Ic(" ",i.acertou?"Acertou":"Errou"," ")}}function $(e,t){if(1&e&&(u.Xb(0,"div",39),u.Xb(1,"span",40),u.Gc(2),u.Wb(),u.Wb()),2&e){var i=u.hc().$implicit;u.Eb(2),u.Ic(" ",i.comentarioProfessor," ")}}var B=function(e){return[e]};function J(e,t){if(1&e){var i=u.Yb();u.Xb(0,"nb-accordion-item-body",34),u.Xb(1,"div",41),u.Xb(2,"textarea",42),u.fc("ngModelChange",(function(e){return u.wc(i),[u.hc().$implicit.idResposta].comentarioProfessor=e})),u.Wb(),u.Wb(),u.Xb(3,"div",41),u.Xb(4,"nb-radio-group",43),u.fc("ngModelChange",(function(e){return u.wc(i),[u.hc().$implicit.idResposta].acertou=e})),u.Xb(5,"nb-radio",44),u.Gc(6," Acertou "),u.Wb(),u.Xb(7,"nb-radio",44),u.Gc(8," Errou "),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var n=u.hc().$implicit;u.oc("ngModelGroup",n.idResposta),u.Eb(2),u.pc("placeholder","Deseja comentar a resposta de ",n.aluno.nome," ?"),u.nc("ngModel",u.rc(7,B,n.idResposta).comentarioProfessor),u.Eb(2),u.pc("name","acertou_",n.idResposta,""),u.nc("ngModel",u.rc(9,B,n.idResposta).acertou),u.Eb(1),u.nc("value",!0),u.Eb(2),u.nc("value",!1)}}function Y(e,t){if(1&e&&(u.Xb(0,"nb-accordion-item-body"),u.Xb(1,"nb-card",45),u.Xb(2,"nb-card-header"),u.Xb(3,"h6",19),u.Sb(4,"nb-icon",20),u.Gc(5," Sua resposta "),u.Wb(),u.Wb(),u.Xb(6,"nb-card-body"),u.Xb(7,"div",41),u.Xb(8,"p"),u.Sb(9,"nb-icon",37),u.Gc(10),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.hc().$implicit;u.Eb(1),u.nc("accent",i.acertou?"success":"danger"),u.Eb(9),u.Ic(" ",i.comentarioProfessor," ")}}function Q(e,t){if(1&e&&(u.Xb(0,"nb-accordion-item"),u.Xb(1,"nb-accordion-item-header"),u.Xb(2,"div"),u.Xb(3,"span"),u.Sb(4,"nb-icon",30),u.Gc(5),u.Wb(),u.Sb(6,"br"),u.Xb(7,"small"),u.Sb(8,"nb-icon",37),u.Gc(9),u.Wb(),u.Wb(),u.Ec(10,N,3,5,"div",38),u.Ec(11,$,3,1,"div",38),u.Wb(),u.Ec(12,J,9,11,"nb-accordion-item-body",17),u.Ec(13,Y,11,2,"nb-accordion-item-body",4),u.Wb()),2&e){var i=t.$implicit,n=u.hc(5);u.Eb(5),u.Ic(" ",i.aluno.nome," "),u.Eb(4),u.Ic(" ",i.respostaAberta," "),u.Eb(1),u.nc("ngIf",i.comentarioProfessor!=n.strRespostaProfessor),u.Eb(1),u.nc("ngIf",i.comentarioProfessor==n.strRespostaProfessor),u.Eb(1),u.nc("ngIf",i.comentarioProfessor==n.strRespostaProfessor),u.Eb(1),u.nc("ngIf",i.comentarioProfessor!=n.strRespostaProfessor)}}function V(e,t){if(1&e&&(u.Xb(0,"div",36),u.Xb(1,"h6",19),u.Sb(2,"nb-icon",20),u.Gc(3," Respostas dos alunos: "),u.Wb(),u.Xb(4,"nb-accordion"),u.Ec(5,Q,14,6,"nb-accordion-item",23),u.Wb(),u.Wb()),2&e){var i=u.hc(2).$implicit;u.Eb(5),u.nc("ngForOf",i.respostasAlunos)}}function U(e,t){if(1&e&&(u.Xb(0,"div",34),u.Ec(1,V,6,1,"div",35),u.Wb()),2&e){var i=u.hc().$implicit;u.oc("ngModelGroup",i.id),u.Eb(1),u.nc("ngIf",i.respostasAlunos.length>0)}}function K(e,t){if(1&e&&(u.Xb(0,"nb-card",13),u.Xb(1,"nb-card-header",14),u.Xb(2,"h6"),u.Gc(3),u.Wb(),u.Xb(4,"div",15),u.Gc(5),u.Wb(),u.Wb(),u.Xb(6,"nb-card-body"),u.Xb(7,"h6",16),u.Gc(8),u.Wb(),u.Ec(9,q,10,2,"div",4),u.Ec(10,U,2,2,"div",17),u.Wb(),u.Wb()),2&e){var i=t.$implicit,n=t.index;u.Eb(3),u.Ic("Quest\xe3o ",n+1," "),u.Eb(2),u.Ic(" Pontos: ",i.pontos," "),u.Eb(3),u.Hc(i.enunciado),u.Eb(1),u.nc("ngIf",i.alternativas&&0!=i.alternativas.length),u.Eb(1),u.nc("ngIf",i.alternativas&&0==i.alternativas.length)}}function Z(e,t){1&e&&(u.Xb(0,"button",46),u.Gc(1,"Corrigir atividade"),u.Wb())}function ee(e,t){if(1&e){var i=u.Yb();u.Xb(0,"div",5),u.Xb(1,"nb-tabset"),u.Xb(2,"nb-tab",6),u.Xb(3,"form",7,8),u.fc("ngSubmit",(function(){u.wc(i);var e=u.uc(4);return u.hc().submitForm(e.value)})),u.Ec(5,K,11,5,"nb-card",9),u.Ec(6,Z,2,0,"button",10),u.Wb(),u.Wb(),u.Xb(7,"nb-tab",11),u.Sb(8,"ng2-smart-table",12),u.Wb(),u.Wb(),u.Wb()}if(2&e){var n=u.hc();u.Eb(3),u.nc("nbSpinner",n.isLoading),u.Eb(2),u.nc("ngForOf",n.atividade.questoes),u.Eb(1),u.nc("ngIf",!n.atividade.isExecutado),u.Eb(2),u.nc("settings",n.settings)("source",n.source)}}function te(e,t){if(1&e&&(u.Xb(0,"div",47),u.Xb(1,"div",48),u.Sb(2,"nb-icon",26),u.Wb(),u.Xb(3,"div"),u.Xb(4,"h6",16),u.Gc(5,"Pontua\xe7\xe3o obtida "),u.Xb(6,"strong"),u.Xb(7,"span",55),u.Gc(8),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.hc(2);u.Eb(7),u.nc("ngClass",u.sc(2,H,i.atividade.pontuacaoObtida>0,0==i.atividade.pontuacaoObtida)),u.Eb(1),u.Hc(i.atividade.pontuacaoObtida)}}function ie(e,t){if(1&e&&(u.Xb(0,"nb-card-body"),u.Xb(1,"div",47),u.Xb(2,"div",48),u.Sb(3,"nb-icon",49),u.Wb(),u.Xb(4,"div"),u.Xb(5,"small",50),u.Gc(6),u.Wb(),u.Xb(7,"h6",16),u.Gc(8),u.Wb(),u.Xb(9,"p",51),u.Gc(10),u.Wb(),u.Wb(),u.Wb(),u.Xb(11,"div",47),u.Xb(12,"div",48),u.Sb(13,"nb-icon",52),u.Wb(),u.Xb(14,"div"),u.Xb(15,"h6",16),u.Gc(16,"Prazo final: "),u.Xb(17,"strong"),u.Gc(18),u.ic(19,"date"),u.ic(20,"date"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(21,"div",47),u.Xb(22,"div",48),u.Sb(23,"nb-icon",53),u.Wb(),u.Xb(24,"div"),u.Xb(25,"h6",16),u.Gc(26,"Professor "),u.Xb(27,"strong"),u.Gc(28),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Ec(29,te,9,5,"div",54),u.Wb()),2&e){var i=u.hc();u.Eb(6),u.Hc(i.atividade.tipo),u.Eb(2),u.Hc(i.atividade.titulo),u.Eb(2),u.Hc(i.atividade.descricao),u.Eb(8),u.Jc("",u.kc(19,7,i.atividade.prazoFinal,"dd/MM/yyyy")," as ",u.kc(20,10,i.atividade.prazoFinal,"HH:mm")+"h ",""),u.Eb(10),u.Hc(i.atividade.professor.nome),u.Eb(1),u.nc("ngIf",i.atividade.isExecutado)}}var ne,oe=((ne=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.route=t,this.professorService=i,this.isLoading=!0,this.strRespostaProfessor="Aguardando corre\xe7\xe3o do professor",this.settings={hideSubHeader:!0,noDataMessage:"N\xe3o h\xe1 nenhum dado para exibir",actions:{add:!1,position:"right",columnTitle:"A\xe7\xf5es",edit:!1,delete:!1},columns:{aluno:{title:"Aluno",type:"string",editable:!1,valuePrepareFunction:function(e,t){return e.nome}},pontuacaoObtida:{title:"Pontua\xe7\xe3o na atividade",type:"string",editable:!1}}},this.source=new a.a,this.teste=[{id:"",acertou:"",comentarioProfessor:""}],this.route.paramMap.subscribe((function(e){n.atividadeId=e.get("id"),n.turmaId=e.get("turmaid"),console.log("Turma id sala",n.atividadeId),n.getAtividade(n.atividadeId)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getAtividade",value:function(e){var t=this;this.isLoading=!0,Object(M.a)([this.professorService.getAtividade(e),this.professorService.getRespostasAlunos(e)]).subscribe((function(e){t.isLoading=!1,t.atividade=e[0],t.respostasAlunos=e[1],t.source.load(t.respostasAlunos)}))}},{key:"getValueOfKey",value:function(e){for(var t=0,i=Object.entries(e);t<i.length;t++){var n=_slicedToArray(i[t],2),o=n[0],a=n[1];if(o.includes("acertou"))return a}}},{key:"submitForm",value:function(e){var t=this;this.isLoading=!0;for(var i=[],n=0,o=Object.entries(e);n<o.length;n++){for(var a=_slicedToArray(o[n],2),r=a[0],c=a[1],s=[],b=0,l=Object.entries(c);b<l.length;b++){var u=_slicedToArray(l[b],2),d=u[0],f=u[1];console.log("respostaAluno",d),console.log("respostaAlunoValues",f),f.comentarioProfessor&&null!=this.getValueOfKey(f)&&s.push({id:d,comentarioProfessor:f.comentarioProfessor,acertou:this.getValueOfKey(f)})}0!=s.length&&i.push({id:r,respostasAlunos:s})}console.log("Respostas >>>>",i),this.professorService.enviarRespostas(this.atividadeId,i).subscribe((function(e){t.isLoading=!1,e&&(X.a.fire("Ok","Atividade respondida com sucesso","success"),t.getAtividade(t.atividadeId))}),(function(e){t.isLoading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||ne)(u.Rb(s.a),u.Rb(l.a))},ne.\u0275cmp=u.Lb({type:ne,selectors:[["ngx-atividade"]],decls:8,vars:3,consts:[[1,"row"],["class","col-sm-9",4,"ngIf"],[1,"col-sm-3"],["nbSpinnerStatus","primary","nbSpinnerSize","large",3,"nbSpinner"],[4,"ngIf"],[1,"col-sm-9"],["tabTitle","Quest\xf5es"],["action","","nbSpinnerSize","giant","nbSpinnerStatus","primary",3,"nbSpinner","ngSubmit"],["form","ngForm"],["class","shadow",4,"ngFor","ngForOf"],["type","submit","nbButton","","status","primary",4,"ngIf"],["tabTitle","Pontua\xe7\xf5es"],[3,"settings","source"],[1,"shadow"],[1,"d-flex","align-items-center",2,"position","relative"],[1,"ml-auto","subtitle-2","text-hint"],[1,"subtitle"],[3,"ngModelGroup",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"subtitle-2","text-hint"],["icon","people-outline",1,"text-hint"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-4"],[4,"ngFor","ngForOf"],["icon","checkmark-outline","class","text-success",4,"ngIf"],["icon","close-outline","class","text-danger",4,"ngIf"],["icon","checkmark-outline",1,"text-success"],["icon","close-outline",1,"text-danger"],[1,"mb-3"],[1,"col-sm-6"],["icon","person-outline",1,"mr-2","text-hint"],[1,"col-sm-6","text-right"],["type","button","status","primary","size","tiny",1,"badge","p-1",3,"ngClass"],[1,"text-hint"],[3,"ngModelGroup"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["icon","corner-down-right-outline",1,"mr-2","text-disabled"],["class","ml-auto text-right mr-5 d-flex align-items-center",4,"ngIf"],[1,"ml-auto","text-right","mr-5","d-flex","align-items-center"],["type","button","status","primary","size","tiny",1,"badge","p-1","badge-secondary"],[1,"form-group"],["nbInput","","fullWidth","","name","comentarioProfessor",3,"ngModel","placeholder","ngModelChange"],[3,"ngModel","name","ngModelChange"],[3,"value"],[3,"accent"],["type","submit","nbButton","","status","primary"],[1,"d-flex"],[1,"mr-3"],["icon","edit-2-outline"],[1,"badge","badge-primary","design"],[1,"paragraph-2","text-hint"],["icon","calendar-outline"],["icon","person-outline"],["class","d-flex",4,"ngIf"],[1,"badge","badge-pill",3,"ngClass"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Ec(1,ee,9,5,"div",1),u.Xb(2,"div",2),u.Xb(3,"nb-card",3),u.Xb(4,"nb-card-header"),u.Xb(5,"h6"),u.Gc(6,"Atividade"),u.Wb(),u.Wb(),u.Ec(7,ie,30,13,"nb-card-body",4),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(1),u.nc("ngIf",t.atividade),u.Eb(2),u.nc("nbSpinner",t.isLoading),u.Eb(4),u.nc("ngIf",t.atividade))},directives:[d.m,n.x,n.lb,n.z,n.pb,n.ob,c.C,c.q,c.r,d.l,a.b,n.w,n.g,n.i,n.j,n.I,n.h,d.k,c.t,n.L,c.b,c.p,c.s,n.db,n.cb,n.s],pipes:[d.e],styles:["[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding-left:0;padding-right:0}"]}),ne);function ae(e,t){if(1&e&&(u.Xb(0,"div",12),u.Xb(1,"div",13),u.Sb(2,"nb-icon",14),u.Wb(),u.Xb(3,"div"),u.Xb(4,"small",15),u.Gc(5),u.Wb(),u.Xb(6,"h6",16),u.Gc(7),u.Wb(),u.Xb(8,"p",17),u.Gc(9),u.Wb(),u.Wb(),u.Xb(10,"div",18),u.Xb(11,"div"),u.Xb(12,"small"),u.Gc(13),u.ic(14,"date"),u.Wb(),u.Sb(15,"br"),u.Xb(16,"small"),u.Gc(17),u.ic(18,"date"),u.Wb(),u.Xb(19,"small"),u.Gc(20),u.ic(21,"date"),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.hc().$implicit;u.Eb(4),u.Dc("background-color",i.disciplina.cor),u.Eb(1),u.Hc(i.disciplina.nome),u.Eb(2),u.Hc(i.objeto.titulo),u.Eb(2),u.Hc(i.objeto.descricao),u.Eb(4),u.Hc(u.kc(14,8,i.objeto.dataInicio,"dd/MM/yyyy")),u.Eb(4),u.Ic("De ",u.kc(18,11,i.objeto.dataInicio,"HH:mm"),"h"),u.Eb(3),u.Ic(" as ",u.kc(21,14,i.objeto.dataFim,"HH:mm"),"h")}}var re=function(e){return[e]};function ce(e,t){if(1&e&&(u.Xb(0,"nb-card",19),u.Xb(1,"nb-card-body",20),u.Xb(2,"div",13),u.Sb(3,"nb-icon",21),u.Wb(),u.Xb(4,"div"),u.Xb(5,"small",15),u.Gc(6),u.Wb(),u.Xb(7,"div",12),u.Xb(8,"h6",16),u.Gc(9),u.Wb(),u.Wb(),u.Xb(10,"p",17),u.Gc(11),u.Wb(),u.Wb(),u.Xb(12,"div",22),u.Xb(13,"div",23),u.Xb(14,"small",24),u.Gc(15,"Ao vivo agora"),u.Wb(),u.Xb(16,"div"),u.Xb(17,"small"),u.Gc(18),u.ic(19,"date"),u.Wb(),u.Sb(20,"br"),u.Xb(21,"small"),u.Gc(22),u.ic(23,"date"),u.Wb(),u.Xb(24,"small"),u.Gc(25),u.ic(26,"date"),u.Wb(),u.Wb(),u.Wb(),u.Xb(27,"div",25),u.Xb(28,"button",26),u.Gc(29,"Acessar sala de aula"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.hc().$implicit,n=u.hc(2);u.Eb(5),u.Dc("background-color",i.disciplina.cor),u.Eb(1),u.Hc(i.disciplina.nome),u.Eb(3),u.Hc(i.objeto.titulo),u.Eb(2),u.Hc(i.objeto.descricao),u.Eb(7),u.Hc(u.kc(19,9,i.objeto.dataInicio,"dd/MM/yyyy")),u.Eb(4),u.Ic("De ",u.kc(23,12,i.objeto.dataInicio,"HH:mm"),"h"),u.Eb(3),u.Ic(" as ",u.kc(26,15,i.objeto.dataFim,"HH:mm"),"h"),u.Eb(3),u.nc("routerLink",u.rc(18,re,"/professor/sala/"+n.selectedTurma.id))}}function se(e,t){if(1&e&&(u.Xb(0,"div"),u.Ec(1,ae,22,17,"div",10),u.Ec(2,ce,30,20,"nb-card",11),u.Wb()),2&e){var i=t.$implicit;u.Eb(1),u.nc("ngIf",!i.objeto.aovivo),u.Eb(1),u.nc("ngIf",i.objeto.aovivo)}}function be(e,t){if(1&e&&(u.Xb(0,"div",8),u.Ec(1,se,3,2,"div",9),u.Wb()),2&e){var i=u.hc();u.Eb(1),u.nc("ngForOf",i.aulas)}}var le=function(){return["/professor/planejamento/criar"]};function ue(e,t){1&e&&(u.Xb(0,"div"),u.Xb(1,"nb-card",27),u.Xb(2,"nb-card-body",28),u.Xb(3,"p",29),u.Gc(4,"Nenhuma aula pr\xf3xima. "),u.Sb(5,"br"),u.Gc(6," Talvez voc\xea deseje criar seu planejamento de aulas."),u.Wb(),u.Xb(7,"a",30),u.Gc(8,"Criar planejamento de aulas +"),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(7),u.nc("routerLink",u.qc(1,le)))}function de(e,t){1&e&&u.Sb(0,"nb-icon",37)}function fe(e,t){1&e&&u.Sb(0,"nb-icon",38)}var pe=function(e){return{"text-hint":e}};function me(e,t){if(1&e&&(u.Xb(0,"div",33),u.Xb(1,"div",13),u.Ec(2,de,1,0,"nb-icon",34),u.Ec(3,fe,1,0,"nb-icon",35),u.Wb(),u.Xb(4,"div"),u.Xb(5,"small",15),u.Gc(6),u.Wb(),u.Xb(7,"h6",36),u.Gc(8),u.Wb(),u.Xb(9,"p",17),u.Gc(10),u.Wb(),u.Wb(),u.Xb(11,"div",18),u.Xb(12,"div"),u.Xb(13,"small"),u.Gc(14),u.ic(15,"date"),u.ic(16,"date"),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=t.$implicit;u.Dc("border-left-color",i.disciplina.cor),u.nc("routerLink",u.rc(17,re,"/professor/atividade/"+i.objeto._id)),u.Eb(2),u.nc("ngIf",!i.objeto.isExecutado),u.Eb(1),u.nc("ngIf",i.objeto.isExecutado),u.Eb(3),u.Hc(i.disciplina.nome),u.Eb(1),u.nc("ngClass",u.rc(19,pe,i.objeto.isExecutado)),u.Eb(1),u.Ic(" ",i.objeto.titulo,""),u.Eb(2),u.Hc(i.objeto.descricao),u.Eb(4),u.Jc("Prazo: ",u.kc(15,11,i.objeto.prazoFinal,"dd/MM/yyyy")," as ",u.kc(16,14,i.objeto.prazoFinal,"HH:mm")+"h ","")}}function ve(e,t){if(1&e&&(u.Xb(0,"div",31),u.Ec(1,me,17,21,"div",32),u.Wb()),2&e){var i=u.hc();u.Eb(1),u.nc("ngForOf",i.atividades)}}var he=function(){return["/professor/atividades/criar"]};function ge(e,t){1&e&&(u.Xb(0,"div"),u.Xb(1,"nb-card"),u.Xb(2,"nb-card-body",28),u.Xb(3,"p",29),u.Gc(4,"N\xe3o h\xe1 atividades recententes. "),u.Sb(5,"br"),u.Gc(6," Deseja cadastar uma nova atividade?"),u.Wb(),u.Xb(7,"a",30),u.Gc(8,"Criar nova atividade +"),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(7),u.nc("routerLink",u.qc(1,he)))}var We,Xe=((We=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.professorService=t,this.route=i,this.disciplinas=[],this.simulados=[],this.turmas=[],this.timelineLoading=!0,this.aulas=[],this.atividades=[],this.route.paramMap.subscribe((function(e){n.turmaId=e.get("id"),n.getTimeline(n.turmaId)})),this.professorDetalhe=this.professorService.professorDetalhe}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getTimeline",value:function(e){var t=this;Object(M.a)([this.professorService.getTimelineAulas(e),this.professorService.getTimelineAtividades(e)]).subscribe((function(e){t.filtrarAulas(e[0]),t.filtrarAtividades(e[1]),t.timelineLoading=!1}))}},{key:"filtrarAtividades",value:function(e){var t=this;this.atividades=e.filter((function(e){return e.objeto.professor==t.professorDetalhe.id})),this.atividades=this.atividades.sort((function(e,t){return new Date(t.objeto.prazoFinal)-new Date(e.objeto.prazoFinal)}))}},{key:"filtrarAulas",value:function(e){var t=this;(e=e.filter((function(e){return e.disciplina.professor.id==t.professorDetalhe.id}))).forEach((function(e){e.objeto.aovivo=t.compareDates(e.objeto.dataInicio,e.objeto.dataFim)})),this.aulas=e}},{key:"compareDates",value:function(e,t){var i=new Date,n=new Date(e),o=new Date(t);return n.getTime()<i.getTime()&&o.getTime()>i.getTime()}},{key:"alunodetalhe",get:function(){if(localStorage.getItem("aluno"))return JSON.parse(localStorage.getItem("aluno"))}},{key:"selectedTurma",get:function(){if(localStorage.getItem("turmaSelected"))return JSON.parse(localStorage.getItem("turmaSelected"))}}]),e}()).\u0275fac=function(e){return new(e||We)(u.Rb(l.a),u.Rb(s.a))},We.\u0275cmp=u.Lb({type:We,selectors:[["ngx-home"]],decls:17,vars:6,consts:[[1,"row"],[1,"col-md-7"],["accent","info","nbSpinnerStatus","primary","nbSpinnerSize","large",1,"shadow-lg",3,"nbSpinner"],["class","p-4",4,"ngIf"],[4,"ngIf"],[1,"col-md-5"],["tabTitle","Atividades recentes",1,"atividades__lista"],["class","atividades__lista-itens",4,"ngIf"],[1,"p-4"],[4,"ngFor","ngForOf"],["class","d-flex",4,"ngIf"],["class","shadow","accent","danger",4,"ngIf"],[1,"d-flex"],[1,"mr-3"],["icon","calendar-outline",1,"text-disabled"],[1,"badge","badge-primary"],[1,"subtitle"],[1,"paragraph-2","text-hint"],[1,"ml-auto","d-flex"],["accent","danger",1,"shadow"],[1,"d-flex","align-items-center"],["icon","play-circle-outline"],[1,"ml-auto"],[1,"mb-3","d-flex","align-items-center"],[1,"d-block","mb-2","badge","badge-danger","mr-4","p-2"],[1,"text-right"],["nbButton","","size","small","shape","round","hero","","status","info",1,"shadow",3,"routerLink"],[1,"m-4"],[1,"text-center","p-4"],[1,"text-muted"],["nbButton","","nbButton","","hero","","shape","round","status","primary",1,"shadow",3,"routerLink"],[1,"atividades__lista-itens"],["class","d-flex atividades__lista-item","style","cursor:pointer",3,"routerLink","border-left-color",4,"ngFor","ngForOf"],[1,"d-flex","atividades__lista-item",2,"cursor","pointer",3,"routerLink"],["icon","edit-2-outline","class","text-disabled",4,"ngIf"],["icon","checkmark-outline","class","text-success",4,"ngIf"],[1,"subtitle",3,"ngClass"],["icon","edit-2-outline",1,"text-disabled"],["icon","checkmark-outline",1,"text-success"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"div",1),u.Xb(2,"nb-card",2),u.Xb(3,"nb-card-header"),u.Xb(4,"h6"),u.Gc(5,"Suas pr\xf3ximas aulas"),u.Wb(),u.Wb(),u.Ec(6,be,2,1,"div",3),u.Ec(7,ue,9,2,"div",4),u.Wb(),u.Wb(),u.Xb(8,"div",5),u.Xb(9,"nb-card",2),u.Xb(10,"nb-card-header"),u.Xb(11,"h6"),u.Gc(12,"Atividades recentes"),u.Wb(),u.Wb(),u.Xb(13,"nb-tabset"),u.Xb(14,"nb-tab",6),u.Ec(15,ve,2,1,"div",7),u.Ec(16,ge,9,2,"div",4),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(2),u.nc("nbSpinner",t.timelineLoading),u.Eb(4),u.nc("ngIf",t.aulas&&t.aulas.length>0&&!t.timelineLoading),u.Eb(1),u.nc("ngIf",t.aulas&&0==t.aulas.length&&!t.timelineLoading),u.Eb(2),u.nc("nbSpinner",t.timelineLoading),u.Eb(6),u.nc("ngIf",t.atividades&&t.atividades.length>0&&!t.timelineLoading),u.Eb(1),u.nc("ngIf",t.atividades&&0==t.atividades.length&&!t.timelineLoading))},directives:[n.x,n.lb,n.z,d.m,n.pb,n.ob,d.l,n.I,n.w,n.s,s.d,s.f,d.k],pipes:[d.e],styles:[".disciplina[_ngcontent-%COMP%]{border-left:3px solid}.webdesign[_ngcontent-%COMP%]{border-left-color:#8a2be2}.design[_ngcontent-%COMP%]{border-left-color:#ff8c00}.teste[_ngcontent-%COMP%]{border-left-color:#ff004c}.badge.webdesign[_ngcontent-%COMP%]{background-color:#8a2be2}.badge.design[_ngcontent-%COMP%]{background-color:#ff8c00}.badge.teste[_ngcontent-%COMP%]{background-color:#ff004c}"]}),We),ye=i("jhN1");function Ee(e,t){if(1&e){var i=u.Yb();u.Xb(0,"button",13),u.fc("click",(function(){return u.wc(i),u.hc().fullScreenMode=!0})),u.Gc(1,"Visualizar em tela cheia"),u.Wb()}}function Se(e,t){if(1&e){var i=u.Yb();u.Xb(0,"button",14),u.fc("click",(function(){return u.wc(i),u.hc().fullScreenMode=!1})),u.Gc(1,"Sair do modo tela cheia"),u.Wb()}}var ke=function(e){return{fullscreen:e}};function Ie(e,t){if(1&e&&(u.Xb(0,"nb-card-body"),u.Sb(1,"iframe",15),u.Wb()),2&e){var i=u.hc();u.Eb(1),u.nc("src",i.meetUrl,u.yc)("ngClass",u.rc(2,ke,i.fullScreenMode))}}function xe(e,t){if(1&e&&(u.Xb(0,"nb-card-body"),u.Xb(1,"div",8),u.Xb(2,"div",9),u.Sb(3,"nb-icon",16),u.Wb(),u.Xb(4,"div"),u.Xb(5,"h6",12),u.Gc(6,"Professor "),u.Xb(7,"strong"),u.Gc(8),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"div",8),u.Xb(10,"div",9),u.Sb(11,"nb-icon",17),u.Wb(),u.Xb(12,"div"),u.Xb(13,"small",18),u.Gc(14),u.Wb(),u.Xb(15,"h6",12),u.Gc(16),u.Wb(),u.Xb(17,"p",19),u.Gc(18),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(8),u.Hc(i.aovivo.disciplina.professor.nome),u.Eb(5),u.Dc("background-color",i.aovivo.disciplina.cor),u.Eb(1),u.Hc(i.aovivo.disciplina.nome),u.Eb(2),u.Hc(i.aovivo.objeto.titulo),u.Eb(2),u.Hc(i.aovivo.objeto.descricao)}}function Ce(e,t){if(1&e&&(u.Xb(0,"nb-card-body"),u.Xb(1,"div",8),u.Xb(2,"div",9),u.Sb(3,"nb-icon",16),u.Wb(),u.Xb(4,"div"),u.Xb(5,"h6",12),u.Gc(6,"Professor "),u.Xb(7,"strong"),u.Gc(8),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"div",8),u.Xb(10,"div",9),u.Sb(11,"nb-icon",17),u.Wb(),u.Xb(12,"div"),u.Xb(13,"small",18),u.Gc(14),u.Wb(),u.Xb(15,"h6",12),u.Gc(16),u.Wb(),u.Xb(17,"p",19),u.Gc(18),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(8),u.Hc(i.aulas[0].disciplina.professor.nome),u.Eb(5),u.Dc("background-color",i.aulas[0].disciplina.cor),u.Eb(1),u.Hc(i.aulas[0].disciplina.nome),u.Eb(2),u.Hc(i.aulas[0].objeto.titulo),u.Eb(2),u.Hc(i.aulas[0].objeto.descricao)}}var Ge,Oe,Ae=[{path:"",component:h,children:[{path:"home/:id",component:Xe},{path:"atividades",loadChildren:function(){return i.e(22).then(i.bind(null,"Ve1e")).then((function(e){return e.SimuladosModule}))}},{path:"atividades/criar",component:_},{path:"turmas",loadChildren:function(){return i.e(23).then(i.bind(null,"4sIy")).then((function(e){return e.TurmasModule}))}},{path:"materiais",loadChildren:function(){return i.e(20).then(i.bind(null,"l2oJ")).then((function(e){return e.MateriaisModule}))}},{path:"planejamento",loadChildren:function(){return i.e(21).then(i.bind(null,"Vw9I")).then((function(e){return e.PlanejamentoModule}))}},{path:"atividade/:id",component:oe},{path:"sala/:id",component:(Ge=function(){function e(t,i,n){var o=this;_classCallCheck(this,e),this.route=t,this.professorService=i,this.sanitizer=n,this.isLoading=!0,this.route.paramMap.subscribe((function(e){o.turmaId=e.get("id"),console.log("Turma id sala",o.turmaId),o.getTurmaDetalhe(o.turmaId),o.getAulas(o.turmaId)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getTurmaDetalhe",value:function(e){var t=this;this.professorService.getTurmaDetalhe(e).subscribe((function(e){console.log(e),t.isLoading=!1,t.turmaDetalhe=e,t.meetUrl=t.sanitizer.bypassSecurityTrustResourceUrl(t.turmaDetalhe.meet.link),console.log("Turma detalhe sala",t.turmaDetalhe)}))}},{key:"getAulas",value:function(e){var t=this;this.professorService.getTimelineAulas(e).subscribe((function(e){var i=e;i.forEach((function(e){t.compareDates(e.objeto.dataInicio,e.objeto.dataFim)&&(t.aovivo=e)})),t.aulas=i,t.isLoading=!1}))}},{key:"compareDates",value:function(e,t){var i=new Date,n=new Date(e),o=new Date(t);return console.log("dataAtual",i),console.log("dataInicio",n),console.log("dataFim",o),n.getTime()<i.getTime()&&o.getTime()>i.getTime()}}]),e}(),Ge.\u0275fac=function(e){return new(e||Ge)(u.Rb(s.a),u.Rb(l.a),u.Rb(ye.b))},Ge.\u0275cmp=u.Lb({type:Ge,selectors:[["ngx-sala"]],decls:24,vars:8,consts:[[1,"row"],[1,"col-sm-9"],["size","giant","nbSpinnerStatus","primary","nbSpinnerSize","large",3,"nbSpinner"],["nbButton","","status","primary",3,"click",4,"ngIf"],["nbButton","","status","primary","size","tiny","class","btn-fullscreen",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-sm-3"],["nbSpinnerStatus","primary","nbSpinnerSize","large",3,"nbSpinner"],[1,"d-flex"],[1,"mr-3"],["icon","people-outline"],[1,"subtitle-2"],[1,"subtitle"],["nbButton","","status","primary",3,"click"],["nbButton","","status","primary","size","tiny",1,"btn-fullscreen",3,"click"],["allow","camera; microphone",1,"iframe-jitsy",3,"src","ngClass"],["icon","person-outline"],["icon","play-circle-outline"],[1,"badge","badge-primary"],[1,"paragraph-2","text-hint"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"div",1),u.Xb(2,"nb-card",2),u.Xb(3,"nb-card-header"),u.Ec(4,Ee,2,0,"button",3),u.Ec(5,Se,2,0,"button",4),u.Wb(),u.Ec(6,Ie,2,4,"nb-card-body",5),u.Wb(),u.Wb(),u.Xb(7,"div",6),u.Xb(8,"nb-card",7),u.Xb(9,"nb-card-header"),u.Xb(10,"h6"),u.Gc(11,"Sala de aula"),u.Wb(),u.Wb(),u.Xb(12,"nb-card-body"),u.Xb(13,"div",8),u.Xb(14,"div",9),u.Sb(15,"nb-icon",10),u.Wb(),u.Xb(16,"div"),u.Xb(17,"h6",11),u.Gc(18,"Turma"),u.Wb(),u.Xb(19,"h6",12),u.Xb(20,"strong"),u.Gc(21),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Ec(22,xe,19,6,"nb-card-body",5),u.Ec(23,Ce,19,6,"nb-card-body",5),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(2),u.nc("nbSpinner",t.isLoading),u.Eb(2),u.nc("ngIf",!t.fullScreenMode),u.Eb(1),u.nc("ngIf",t.fullScreenMode),u.Eb(1),u.nc("ngIf",t.turmaDetalhe),u.Eb(2),u.nc("nbSpinner",t.isLoading),u.Eb(13),u.Hc(t.turmaDetalhe.nome),u.Eb(1),u.nc("ngIf",t.aovivo),u.Eb(1),u.nc("ngIf",!t.aovivo&&t.aulas&&t.aulas.length>0))},directives:[n.x,n.lb,n.z,d.m,n.w,n.I,n.s,d.k],styles:[".iframe-jitsy[_ngcontent-%COMP%]{width:100%;height:100%}.fullscreen[_ngcontent-%COMP%]{position:fixed;z-index:99;width:100vw;height:100vh;left:0;top:0}.btn-fullscreen[_ngcontent-%COMP%]{position:fixed;top:100px;left:20px;z-index:100}"]}),Ge)},{path:"",redirectTo:"home",pathMatch:"full"}]}],Pe=((Oe=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:Oe}),Oe.\u0275inj=u.Ob({factory:function(e){return new(e||Oe)},imports:[[s.g.forChild(Ae)],s.g]}),Oe),je=i("iPsQ");i.d(t,"ProfessorModule",(function(){return De}));var Te,De=((Te=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:Te}),Te.\u0275inj=u.Ob({factory:function(e){return new(e||Te)},imports:[[n.hb,n.A,n.vb,n.K,n.M,n.n,n.D,n.G,n.eb,n.hb,n.xb,r.a,n.t,a.c,c.x,o.b,n.mb,Pe,r.a,n.Z,c.x,je.a,n.u,n.v,c.j,E.a,n.k,y.e,n.jb,n.qb,n.r]]}),Te)}}]);