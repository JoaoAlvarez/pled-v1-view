(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Yj9t:function(e,n,t){"use strict";t.r(n);var i=t("ofXK"),r=t("3Pt+"),o=t("tyNb"),a=t("McNs"),s=t("fXoL"),l=t("aceb");function c(e,n){1&e&&(s.Xb(0,"nb-alert",20),s.Xb(1,"p",21),s.Xb(2,"b"),s.Gc(3,"Oh n\xe3o!"),s.Wb(),s.Wb(),s.Xb(4,"ul",22),s.Xb(5,"li",23),s.Gc(6,"Algo deu errado :("),s.Wb(),s.Xb(7,"li",23),s.Gc(8,"Que tal tentar novamente?"),s.Wb(),s.Wb(),s.Wb())}function b(e,n){1&e&&(s.Xb(0,"nb-alert",24),s.Xb(1,"p",21),s.Xb(2,"b"),s.Gc(3,"Muito bom!"),s.Wb(),s.Wb(),s.Xb(4,"ul",22),s.Xb(5,"li",23),s.Gc(6," Seja muito bem vindo a sua plataforma de ensino :) "),s.Wb(),s.Wb(),s.Wb())}function u(e,n){1&e&&(s.Xb(0,"p",26),s.Gc(1," Email \xe9 obrigat\xf3rio! "),s.Wb())}function d(e,n){1&e&&(s.Xb(0,"p",26),s.Gc(1," Voc\xea deve fornecer um e-mail real! "),s.Wb())}function g(e,n){if(1&e&&(s.Vb(0),s.Ec(1,u,2,0,"p",25),s.Ec(2,d,2,0,"p",25),s.Ub()),2&e){s.hc();const e=s.uc(11);s.Eb(1),s.nc("ngIf",null==e.errors?null:e.errors.required),s.Eb(1),s.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function p(e,n){1&e&&(s.Xb(0,"p",26),s.Gc(1," A senha \xe9 obrigat\xf3ria! "),s.Wb())}function m(e,n){if(1&e&&(s.Xb(0,"p",26),s.Gc(1),s.Wb()),2&e){const e=s.hc(2);s.Eb(1),s.Jc(" A senha deveria entre ",e.getConfigValue("forms.validation.password.minLength")," a ",e.getConfigValue("forms.validation.password.maxLength")," caracteres ")}}function f(e,n){if(1&e&&(s.Vb(0),s.Ec(1,p,2,0,"p",25),s.Ec(2,m,2,2,"p",25),s.Ub()),2&e){s.hc();const e=s.uc(17);s.Eb(1),s.nc("ngIf",null==e.errors?null:e.errors.required),s.Eb(1),s.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function h(e,n){if(1&e){const e=s.Yb();s.Xb(0,"nb-checkbox",27),s.fc("ngModelChange",(function(n){return s.wc(e),s.hc().user.rememberMe=n})),s.Gc(1,"Lembrar"),s.Wb()}if(2&e){const e=s.hc();s.nc("ngModel",e.user.rememberMe)}}function W(e,n){if(1&e&&(s.Xb(0,"a",33),s.Gc(1),s.Wb()),2&e){const e=s.hc().$implicit;s.Ib("with-icon",e.icon),s.nc("routerLink",e.link),s.Fb("target",e.target)("class",e.icon),s.Eb(1),s.Hc(e.title)}}function v(e,n){if(1&e&&(s.Xb(0,"a"),s.Gc(1),s.Wb()),2&e){const e=s.hc().$implicit;s.Ib("with-icon",e.icon),s.Fb("href",e.url,s.zc)("target",e.target)("class",e.icon),s.Eb(1),s.Hc(e.title)}}function S(e,n){if(1&e&&(s.Vb(0),s.Ec(1,W,2,6,"a",31),s.Ec(2,v,2,6,"a",32),s.Ub()),2&e){const e=n.$implicit;s.Eb(1),s.nc("ngIf",e.link),s.Eb(1),s.nc("ngIf",e.url)}}function X(e,n){if(1&e&&(s.Xb(0,"section",28),s.Gc(1," or enter with: "),s.Xb(2,"div",29),s.Ec(3,S,3,2,"ng-container",30),s.Wb(),s.Wb()),2&e){const e=s.hc();s.Eb(3),s.nc("ngForOf",e.socialLinks)}}let I=(()=>{class e extends a.h{ngOnInit(){console.log(this.router.routerState.snapshot.url)}}return e.\u0275fac=function(n){return E(n||e)},e.\u0275cmp=s.Lb({type:e,selectors:[["ngx-login"]],features:[s.Bb],decls:26,vars:19,consts:[["id","login"],[1,"text-center"],["src","assets/images/logo.png","alt","",1,"login_logo"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],["form","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","fullWidth","","name","email","id","input-email","pattern",".+@.+\\..+","placeholder","Seu e-mail","autofocus","",3,"ngModel","status","required","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-password",1,"label"],["nbInput","","fullWidth","","name","password","type","password","id","input-password","placeholder","Senha",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["password","ngModel"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["routerLink","../recuperarsenha",1,"forgot-password"],["nbButton","","fullWidth","","status","warning",3,"disabled"],["class","links","aria-label","Social sign in",4,"ngIf"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","rememberMe",3,"ngModel","ngModelChange"],["aria-label","Social sign in",1,"links"],[1,"socials"],[4,"ngFor","ngForOf"],[3,"routerLink","with-icon",4,"ngIf"],[3,"with-icon",4,"ngIf"],[3,"routerLink"]],template:function(e,n){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Sb(2,"img",2),s.Wb(),s.Ec(3,c,9,0,"nb-alert",3),s.Ec(4,b,7,0,"nb-alert",4),s.Xb(5,"form",5,6),s.fc("ngSubmit",(function(){return n.login()})),s.Xb(7,"div",7),s.Xb(8,"label",8),s.Gc(9,"Email:"),s.Wb(),s.Xb(10,"input",9,10),s.fc("ngModelChange",(function(e){return n.user.email=e})),s.Wb(),s.Ec(12,g,3,2,"ng-container",11),s.Wb(),s.Xb(13,"div",7),s.Xb(14,"label",12),s.Gc(15,"Senha:"),s.Wb(),s.Xb(16,"input",13,14),s.fc("ngModelChange",(function(e){return n.user.password=e})),s.Wb(),s.Ec(18,f,3,2,"ng-container",11),s.Wb(),s.Xb(19,"div",15),s.Ec(20,h,2,1,"nb-checkbox",16),s.Xb(21,"a",17),s.Gc(22,"Esqueceu a senha?"),s.Wb(),s.Wb(),s.Xb(23,"button",18),s.Gc(24," Entrar "),s.Wb(),s.Wb(),s.Ec(25,X,4,1,"section",19),s.Wb()),2&e){const e=s.uc(6),t=s.uc(11),i=s.uc(17);s.Eb(3),s.nc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),s.Eb(1),s.nc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),s.Eb(6),s.nc("ngModel",n.user.email)("status",t.dirty?t.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.email.required")),s.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),s.Eb(2),s.nc("ngIf",t.invalid&&t.touched),s.Eb(4),s.nc("ngModel",n.user.password)("status",i.dirty?i.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.password.required"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("maxlength",n.getConfigValue("forms.validation.password.maxLength")),s.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),s.Eb(2),s.nc("ngIf",i.invalid&&i.touched),s.Eb(2),s.nc("ngIf",n.rememberMe),s.Eb(3),s.Ib("btn-pulse",n.submitted),s.nc("disabled",n.submitted||!e.valid),s.Eb(2),s.nc("ngIf",n.socialLinks&&n.socialLinks.length>0)}},directives:[i.m,r.D,r.r,r.s,l.L,r.c,r.x,r.q,r.t,r.z,r.m,r.l,o.f,l.s,l.o,l.C,i.l],styles:["#login[_ngcontent-%COMP%]   .login_logo[_ngcontent-%COMP%]{max-height:100px;margin-bottom:30px}  .navigation .link nb-icon{display:none!important}"]}),e})();const E=s.Zb(I);var w=t("lJxs"),G=t("tk/3");let L=(()=>{class e{constructor(e){this.httpClient=e}getInfo(e){return this.httpClient.get("/user/signup/"+e).pipe(Object(w.a)(e=>{if(console.log("response",e),e)return e}))}signUp(e){return this.httpClient.post("/user/signup/validate",e).pipe(Object(w.a)(e=>{if(console.log("response",e),e)return e}))}signIn(e){return this.httpClient.post("/user/signin",e).pipe(Object(w.a)(e=>{if(console.log("response",e),e)return e}))}recoverPassowrd(e){return this.httpClient.put("/user/sendForgotEmail",e).pipe(Object(w.a)(e=>{if(e)return e}))}}return e.\u0275fac=function(n){return new(n||e)(s.bc(G.b))},e.\u0275prov=s.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=t("nYR2"),C=t("PSD3"),k=t.n(C);function x(e,n){1&e&&(s.Xb(0,"div"),s.Xb(1,"h1",5),s.Gc(2,"Cadastre-se"),s.Wb(),s.Xb(3,"div",6),s.Gc(4," Informe seus dados e uma senha para acessar a plataforma "),s.Wb(),s.Sb(5,"br"),s.Sb(6,"br"),s.Wb())}function y(e,n){if(1&e){const e=s.Yb();s.Xb(0,"form",7),s.fc("ngSubmit",(function(){return s.wc(e),s.hc().submit()})),s.Xb(1,"div",8),s.Xb(2,"label",9),s.Gc(3,"Nome:"),s.Wb(),s.Sb(4,"input",10),s.Wb(),s.Xb(5,"div",8),s.Xb(6,"label",11),s.Gc(7,"Email:"),s.Wb(),s.Sb(8,"input",12),s.Wb(),s.Xb(9,"div",8),s.Xb(10,"label",13),s.Gc(11,"Senha:"),s.Wb(),s.Sb(12,"input",14),s.Wb(),s.Xb(13,"div",8),s.Xb(14,"label",15),s.Gc(15,"Repetir senha:"),s.Wb(),s.Sb(16,"input",16),s.Wb(),s.Xb(17,"button",17),s.Gc(18," Cadastrar "),s.Wb(),s.Wb()}if(2&e){const e=s.hc();s.nc("formGroup",e.form),s.Eb(17),s.Ib("btn-pulse",e.submitted),s.nc("disabled",e.submitted||!e.form.valid)}}function O(e,n){if(1&e&&(s.Xb(0,"nb-card",18),s.Xb(1,"nb-card-body",19),s.Gc(2),s.Wb(),s.Wb()),2&e){const e=s.hc();s.nc("nbSpinner",e.isLoading),s.Eb(2),s.Ic(" ",e.erro," ")}}let q=(()=>{class e{constructor(e,n,t,i,r){this.route=e,this.authService=n,this.formBuilder=t,this.nbTokenService=i,this.router=r,this.user={},this.erro="",this.id="",this.isLoading=!0,this.route.paramMap.subscribe(e=>{this.id=e.get("id"),this.getInfo(e.get("id"))})}ngOnInit(){localStorage.getItem("auth_app_token")&&(localStorage.removeItem("auth_app_token"),this.router.navigate(["auth/signup/"+this.id]))}createForm(e,n){this.form=this.formBuilder.group({id:[e._id,r.B.required],nome:[e.nome,r.B.required],email:[e.email,r.B.required],token:[n,r.B.required],cpf:[e.cpf,r.B.required],password:["",r.B.required],passwordConfirm:["",r.B.required]})}getInfo(e){this.isLoading=!0,this.authService.getInfo(e).pipe(Object(M.a)(()=>{})).subscribe(n=>{this.createForm(n,e),this.isLoading=!1},e=>{this.erro=e,this.isLoading=!1})}getConfigValue(e){return!1}submit(){this.isLoading=!0;const e=Object.assign({},this.form.value);this.authService.signUp(e).pipe(Object(M.a)(()=>{this.isLoading=!1})).subscribe(n=>{if(this.isLoading=!1,n){console.log(n);const t={email:e.email,password:e.password};k.a.fire("Ok","Cadastro realizado com sucesso","success"),this.router.navigateByUrl("/auth/login?email="+t.email)}})}}return e.\u0275fac=function(n){return new(n||e)(s.Rb(o.a),s.Rb(L),s.Rb(r.e),s.Rb(a.k),s.Rb(o.c))},e.\u0275cmp=s.Lb({type:e,selectors:[["ngx-signup"]],decls:7,vars:3,consts:[[4,"ngIf"],["aria-labelledby","title",3,"formGroup","ngSubmit",4,"ngIf"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner",4,"ngIf"],["aria-label","Sign in",1,"another-action"],["routerLink","auth/login",1,"text-link"],["id","title",1,"title"],[1,"subtitle","text-center"],["aria-labelledby","title",3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["nbInput","","formControlName","nome","id","input-name","name","fullName","placeholder","Nome","autofocus","","fullWidth","","disabled",""],["for","input-email",1,"label"],["nbInput","","formControlName","email","id","input-email","name","email","pattern",".+@.+..+","placeholder","Seu e-mail","fullWidth","","disabled",""],["for","input-password",1,"label"],["nbInput","","formControlName","password","type","password","id","input-password","name","password","placeholder","Senha","fullWidth",""],["for","input-re-password",1,"label"],["nbInput","","formControlName","passwordConfirm","type","password","id","input-re-password","name","rePass","placeholder","Repetir senha","fullWidth",""],["nbButton","","fullWidth","","status","primary",3,"disabled"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner"],[1,"text-center"]],template:function(e,n){1&e&&(s.Ec(0,x,7,0,"div",0),s.Ec(1,y,19,4,"form",1),s.Ec(2,O,3,2,"nb-card",2),s.Xb(3,"section",3),s.Gc(4," Tem uma conta? "),s.Xb(5,"a",4),s.Gc(6,"Fa\xe7a o login"),s.Wb(),s.Wb()),2&e&&(s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.isLoading||n.erro))},directives:[i.m,o.f,r.D,r.r,r.i,l.L,r.c,r.q,r.h,r.x,l.s,l.x,l.lb,l.w],styles:[""]}),e})();function B(e,n){1&e&&(s.Xb(0,"div"),s.Xb(1,"h1",5),s.Gc(2,"Recuperar senha"),s.Wb(),s.Xb(3,"div",6),s.Gc(4," Informe o e-mail cadastrado na plataforma para recuperar sua senha "),s.Wb(),s.Sb(5,"br"),s.Sb(6,"br"),s.Wb())}function F(e,n){if(1&e){const e=s.Yb();s.Xb(0,"form",7),s.fc("ngSubmit",(function(){return s.wc(e),s.hc().submit()})),s.Xb(1,"div",8),s.Xb(2,"label",9),s.Gc(3,"Email:"),s.Wb(),s.Sb(4,"input",10),s.Wb(),s.Xb(5,"button",11),s.Gc(6," Enviar solicita\xe7\xe3o "),s.Wb(),s.Wb()}if(2&e){const e=s.hc();s.nc("formGroup",e.form),s.Eb(5),s.Ib("btn-pulse",e.submitted),s.nc("disabled",e.submitted||!e.form.valid)}}function V(e,n){if(1&e&&(s.Xb(0,"nb-card",12),s.Xb(1,"nb-card-body",13),s.Gc(2),s.Wb(),s.Wb()),2&e){const e=s.hc();s.nc("nbSpinner",e.isLoading),s.Eb(2),s.Ic(" ",e.erro," ")}}const j=[{path:"",component:a.b,children:[{path:"login",component:I},{path:"recuperarsenha",component:(()=>{class e{constructor(e,n,t,i){this.route=e,this.authService=n,this.formBuilder=t,this.router=i,this.isLoading=!1}ngOnInit(){this.createForm()}createForm(){this.form=this.formBuilder.group({email:["",r.B.required]})}submit(){this.isLoading=!0;const e=Object.assign({},this.form.value);this.authService.recoverPassowrd(e).pipe(Object(M.a)(()=>{this.isLoading=!1})).subscribe(e=>{this.isLoading=!1,e&&(console.log(e),k.a.fire("Ok","Solicita\xe7\xe3o de recupera\xe7\xe3o de senha realizado com sucesso","success"))})}}return e.\u0275fac=function(n){return new(n||e)(s.Rb(o.a),s.Rb(L),s.Rb(r.e),s.Rb(o.c))},e.\u0275cmp=s.Lb({type:e,selectors:[["ngx-recoverpassword"]],decls:7,vars:3,consts:[[4,"ngIf"],["aria-labelledby","title",3,"formGroup","ngSubmit",4,"ngIf"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner",4,"ngIf"],["aria-label","Sign in",1,"another-action"],["routerLink","../login",1,"text-link"],["id","title",1,"title"],[1,"subtitle","text-center"],["aria-labelledby","title",3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","formControlName","email","id","input-email","name","email","pattern",".+@.+..+","placeholder","Seu e-mail","fullWidth",""],["nbButton","","fullWidth","","status","primary",3,"disabled"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner"],[1,"text-center"]],template:function(e,n){1&e&&(s.Ec(0,B,7,0,"div",0),s.Ec(1,F,7,4,"form",1),s.Ec(2,V,3,2,"nb-card",2),s.Xb(3,"section",3),s.Gc(4," Tem uma conta? "),s.Xb(5,"a",4),s.Gc(6,"Fa\xe7a o login"),s.Wb(),s.Wb()),2&e&&(s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.isLoading||n.erro))},directives:[i.m,o.f,r.D,r.r,r.i,l.L,r.c,r.q,r.h,r.x,l.s,l.x,l.lb,l.w],styles:["#login[_ngcontent-%COMP%]   .login_logo[_ngcontent-%COMP%]{max-height:100px;margin-bottom:30px}  .navigation .link nb-icon{display:none!important}"]}),e})()},{path:"logout",component:a.i},{path:"signup/:id",component:q}]}];let R=(()=>{class e{}return e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({factory:function(n){return new(n||e)},imports:[[o.g.forChild(j)],o.g]}),e})();t.d(n,"NgxAuthModule",(function(){return N}));let N=(()=>{class e{}return e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({factory:function(n){return new(n||e)},imports:[[i.c,r.k,o.g,l.p,l.M,l.t,l.D,l.A,R,r.y,a.e,l.mb]]}),e})()}}]);