(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Vw9I:function(e,i,t){"use strict";t.r(i);var n=t("aceb"),o=t("tmjD"),a=t("3Pt+"),r=t("RS3s"),c=t("UBqL"),s=t("vTDv"),l=t("tyNb"),d=t("fXoL");let b=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d.Lb({type:e,selectors:[["planejamento"]],decls:1,vars:0,template:function(e,i){1&e&&d.Sb(0,"router-outlet")},directives:[l.h],encapsulation:2}),e})();var u=t("OE9b"),m=t("nYR2"),p=t("PSD3"),f=t.n(p),h=t("5+WD"),g=t("ofXK");function v(e,i){if(1&e&&(d.Xb(0,"nb-option",21),d.Gc(1),d.Wb()),2&e){const e=i.$implicit;d.nc("value",e.idProfessorDisciplina),d.Eb(1),d.Ic(" ",e.nome," ")}}function W(e,i){if(1&e&&(d.Xb(0,"nb-option",21),d.Gc(1),d.Wb()),2&e){const e=i.$implicit;d.nc("value",e.id),d.Eb(1),d.Hc(e.nome)}}function X(e,i){1&e&&d.Sb(0,"div",39)}function D(e,i){if(1&e&&(d.Xb(0,"span",40),d.Xb(1,"div"),d.Gc(2),d.ic(3,"date"),d.Sb(4,"nb-icon",41),d.Wb(),d.Xb(5,"small",42),d.Gc(6),d.ic(7,"date"),d.Wb(),d.Xb(8,"small",42),d.Gc(9),d.ic(10,"date"),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(2),d.Ic(" ",d.kc(3,3,e.controls.dataInicio.value,"dd/MM/yyyy")," "),d.Eb(4),d.Hc("Das "+d.kc(7,6,e.controls.dataInicio.value,"HH:mm")+"h "),d.Eb(3),d.Hc("as "+d.kc(10,9,e.controls.dataFim.value,"HH:mm")+"h ")}}function S(e,i){if(1&e&&(d.Xb(0,"div"),d.Gc(1),d.ic(2,"date"),d.ic(3,"date"),d.Sb(4,"nb-icon",41),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(1),d.Jc(" ",d.kc(2,2,e.controls.dataInicio.value,"dd/MM/yyyy")," | ",d.kc(3,5,e.controls.dataInicio.value,"HH:mm")+"h "," ")}}function x(e,i){1&e&&(d.Xb(0,"div"),d.Gc(1," Data inicial "),d.Sb(2,"nb-icon",41),d.Wb())}function P(e,i){if(1&e&&(d.Xb(0,"div"),d.Gc(1),d.ic(2,"date"),d.ic(3,"date"),d.Sb(4,"nb-icon",41),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(1),d.Jc(" ",d.kc(2,2,e.controls.dataFim.value,"dd/MM/yyyy")," | ",d.kc(3,5,e.controls.dataFim.value,"HH:mm")+"h "," ")}}function I(e,i){1&e&&(d.Xb(0,"div"),d.Gc(1," Data final "),d.Sb(2,"nb-icon",41),d.Wb())}function k(e,i){if(1&e){const e=d.Yb();d.Xb(0,"nb-accordion-item",22),d.Ec(1,X,1,0,"div",23),d.Xb(2,"nb-accordion-item-header"),d.Sb(3,"nb-icon",24),d.Xb(4,"div"),d.Xb(5,"span"),d.Gc(6),d.Wb(),d.Sb(7,"br"),d.Xb(8,"small"),d.Gc(9),d.Wb(),d.Wb(),d.Xb(10,"div",25),d.Ec(11,D,11,12,"span",26),d.Xb(12,"button",27),d.fc("click",(function(){d.wc(e);const t=i.index;return d.hc().deleteAula(t)})),d.Sb(13,"nb-icon",28),d.Wb(),d.Wb(),d.Wb(),d.Xb(14,"nb-accordion-item-body"),d.Xb(15,"div",29),d.Sb(16,"input",30),d.Wb(),d.Xb(17,"div",29),d.Sb(18,"textarea",31),d.Wb(),d.Xb(19,"div",4),d.Xb(20,"label",32),d.Gc(21,"Inicio e fim da aula"),d.Wb(),d.Xb(22,"div",6),d.Xb(23,"div",33),d.Xb(24,"div",34),d.Xb(25,"div"),d.Ec(26,S,5,8,"div",35),d.Ec(27,x,3,0,"div",35),d.Wb(),d.Wb(),d.Sb(28,"input",36),d.Wb(),d.Xb(29,"div",37),d.Xb(30,"div",34),d.Xb(31,"div"),d.Ec(32,P,5,8,"div",35),d.Ec(33,I,3,0,"div",35),d.Wb(),d.Wb(),d.Sb(34,"input",38),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){const e=i.$implicit,t=i.index;d.nc("formGroupName",t),d.Eb(6),d.Jc("Aula ",t+1," ",""!=e.controls.titulo.value?"- "+e.controls.titulo.value:"",""),d.Eb(3),d.Hc(e.controls.descricao.value),d.Eb(2),d.nc("ngIf",""!=e.controls.dataInicio.value||""!=e.controls.dataFim.value),d.Eb(15),d.nc("ngIf",e.controls.dataInicio.value),d.Eb(1),d.nc("ngIf",!e.controls.dataInicio.value),d.Eb(1),d.nc("altInput",!1)("enableTime",!0)("time24hr",!0),d.Eb(4),d.nc("ngIf",e.controls.dataFim.value),d.Eb(1),d.nc("ngIf",!e.controls.dataFim.value),d.Eb(1),d.nc("altInput",!1)("enableTime",!0)("time24hr",!0)}}let E=(()=>{class e{constructor(e,i,t){this.formBuilder=e,this.ProfessorService=i,this.router=t,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[]}ngOnInit(){this.getTurmasProfessor(),this.getDetalhesProfessor(),this.createForm()}filtrarTurma(e){console.log(e),this.turmasFiltered=[],this.planos.clear(),this.form.controls.turma.setValue(""),this.turmasFiltered=this.turmas.filter(i=>i.disciplinas.some(i=>i.idProfessorDisciplina==e)),console.log(this.form)}getAulas(e,i){this.isLoading=!0,this.ProfessorService.getPlanejamentos(e,i).pipe(Object(m.a)(()=>{})).subscribe(e=>{this.isLoading=!1,e&&e.forEach(e=>{this.addAula(e)})})}onDrop(e){e.previousContainer===e.container?Object(h.f)(e.container.data,e.previousIndex,e.currentIndex):Object(h.g)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}get planos(){return this.form.get("planos")}getTurmasProfessor(){this.ProfessorService.getTurmas().subscribe(e=>{this.isLoading=!1,this.turmas=e})}getDetalhesProfessor(){this.ProfessorService.getProfessorDetalhes().subscribe(e=>{this.isLoading=!1,this.disciplinas=e.disciplinas})}addAula(e){this.planos.push(this.formBuilder.group(e?{titulo:[e.titulo,a.A.required],descricao:[e.descricao,a.A.required],dataInicio:[e.dataInicio,a.A.required],dataFim:[e.dataFim,a.A.required]}:{titulo:["",a.A.required],descricao:["",a.A.required],dataInicio:["",a.A.required],dataFim:["",a.A.required]}))}deleteAula(e){this.planos.removeAt(e)}createForm(){this.form=this.formBuilder.group({turma:["",a.A.required],disciplinaProfessor:["",a.A.required],planos:this.formBuilder.array([])})}Adicionar(){this.isLoading=!0;const e=Object.assign({},this.form.value);this.ProfessorService.criarPlanejamento(e).pipe(Object(m.a)(()=>{this.isLoading=!1})).subscribe(e=>{this.isLoading=!1,e&&f.a.fire("Ok","Plano de aula adicionada com sucesso","success")})}}return e.\u0275fac=function(i){return new(i||e)(d.Rb(a.d),d.Rb(u.a),d.Rb(l.c))},e.\u0275cmp=d.Lb({type:e,selectors:[["ngx-criar"]],decls:34,vars:10,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],["action","",3,"formGroup"],[1,"form-group","row"],["for","disciplina",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10","d-flex"],["placeholder","Selecione a disciplina","id","disciplina","formControlName","disciplinaProfessor",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","turmas",1,"label","col-sm-2","col-form-label"],["placeholder","Selecione as turmas","id","turmas","formControlName","turma",3,"selected","selectedChange"],["formArrayName","planos",1,"form-group","row"],["for","planos",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10"],["cdkDropList","",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"offset-sm-2","col-sm-10","mb-4"],["type","button","nbButton","","status","info","size","small",3,"disabled","click"],["icon","plus-outline"],[1,"offset-sm-2","col-sm-10"],["type","submit","nbButton","","status","primary",3,"disabled","click"],[3,"value"],["cdkDrag","",3,"formGroupName"],["class","questao-placeholder",4,"cdkDragPlaceholder"],["icon","move-outline","cdkDragHandle","",1,"mr-4","text-disabled"],[1,"ml-auto","text-right","mr-5","d-flex","align-items-center"],["class","mr-5 ",4,"ngIf"],["type","button","nbButton","","status","danger","size","tiny",1,"",3,"click"],["icon","trash-2-outline"],[1,"form-group"],["type","text","nbInput","","fullWidth","","placeholder","T\xedtulo","formControlName","titulo"],["type","text","nbInput","","fullWidth","","placeholder","Descri\xe7\xe3o","formControlName","descricao"],["for","dataInicio",1,"label","col-sm-2","col-form-label"],[1,"mr-2","timepicker"],[1,"timepicker__placeholder","btn","btn-outline-secondary"],[4,"ngIf"],["type","text","nbInput","","id","dataInicio","placeholder","Data Inicio","formControlName","dataInicio","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],[1,"timepicker"],["type","text","nbInput","","id","dataFim","placeholder","Data Fim","formControlName","dataFim","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],[1,"questao-placeholder"],[1,"mr-5"],["icon","calendar-outline",1,"text-hint"],[1,"subtitle-2"]],template:function(e,i){1&e&&(d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"div",1),d.Xb(3,"div",2),d.Xb(4,"h4"),d.Gc(5,"Planos de aulas"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"nb-card-body"),d.Xb(7,"form",3),d.Xb(8,"div",4),d.Xb(9,"label",5),d.Gc(10,"Disciplina"),d.Wb(),d.Xb(11,"div",6),d.Xb(12,"nb-select",7),d.fc("selectedChange",(function(e){return i.selectedDisciplina=e}))("selectedChange",(function(){return i.filtrarTurma(i.selectedDisciplina)})),d.Ec(13,v,2,2,"nb-option",8),d.Wb(),d.Wb(),d.Wb(),d.Xb(14,"div",4),d.Xb(15,"label",9),d.Gc(16,"Turma"),d.Wb(),d.Xb(17,"div",6),d.Xb(18,"nb-select",10),d.fc("selectedChange",(function(e){return i.selectedTurma=e}))("selectedChange",(function(){return i.getAulas(i.selectedDisciplina,i.selectedTurma)})),d.Ec(19,W,2,2,"nb-option",8),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"div",11),d.Xb(21,"label",12),d.Gc(22," Aulas:"),d.Wb(),d.Xb(23,"div",13),d.Xb(24,"nb-accordion",14),d.fc("cdkDropListDropped",(function(e){return i.onDrop(e)})),d.Ec(25,k,35,15,"nb-accordion-item",15),d.Wb(),d.Wb(),d.Wb(),d.Xb(26,"div",4),d.Xb(27,"div",16),d.Xb(28,"button",17),d.fc("click",(function(){return i.addAula()})),d.Sb(29,"nb-icon",18),d.Gc(30," Adicionar aula "),d.Wb(),d.Wb(),d.Xb(31,"div",19),d.Xb(32,"button",20),d.fc("click",(function(){return i.Adicionar()})),d.Gc(33,"Salvar"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.nc("nbSpinner",i.isLoading),d.Eb(7),d.nc("formGroup",i.form),d.Eb(5),d.nc("selected",i.selectedDisciplina),d.Eb(1),d.nc("ngForOf",i.disciplinas),d.Eb(5),d.nc("selected",i.selectedTurma),d.Eb(1),d.nc("ngForOf",i.turmasFiltered),d.Eb(5),d.nc("cdkDropListData",i.planos.controls),d.Eb(1),d.nc("ngForOf",i.planos.controls),d.Eb(3),d.nc("disabled",""==i.form.controls.disciplinaProfessor.value||""==i.form.controls.turma.value),d.Eb(4),d.nc("disabled",i.form.invalid||i.isLoading))},directives:[n.x,n.lb,n.z,n.w,a.C,a.q,a.h,n.gb,a.p,a.g,g.l,a.c,n.g,h.d,n.s,n.I,n.bb,n.i,h.a,a.i,h.c,n.j,h.b,g.m,n.h,n.L,a.b,c.b],pipes:[g.e],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;padding:1.25rem}.cdk-drag-animating[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.questao-placeholder[_ngcontent-%COMP%]{min-height:60px}.alternativa-placeholder[_ngcontent-%COMP%], .questao-placeholder[_ngcontent-%COMP%]{background:#fff6f6;border:3px dotted #ddd;transition:transform .25s cubic-bezier(0,0,.2,1)}.alternativa-placeholder[_ngcontent-%COMP%]{min-height:100px}"]}),e})();var F=t("sRfN");function C(e,i){if(1&e&&(d.Xb(0,"nb-option",12),d.Gc(1),d.Wb()),2&e){const e=i.$implicit;d.nc("value",e.idProfessorDisciplina),d.Eb(1),d.Ic(" ",e.nome,"")}}function y(e,i){if(1&e&&(d.Xb(0,"nb-option",12),d.Gc(1),d.Wb()),2&e){const e=i.$implicit;d.nc("value",e.id),d.Eb(1),d.Hc(e.nome)}}function A(e,i){if(1&e&&(d.Xb(0,"nb-option",21),d.Gc(1),d.Wb()),2&e){const e=i.$implicit;d.nc("value",e.idProfessorDisciplina),d.Eb(1),d.Ic(" ",e.nome," ")}}function O(e,i){if(1&e&&(d.Xb(0,"nb-option",21),d.Gc(1),d.Wb()),2&e){const e=i.$implicit;d.nc("value",e.id),d.Eb(1),d.Hc(e.nome)}}function G(e,i){1&e&&d.Sb(0,"div",36)}function L(e,i){if(1&e&&(d.Xb(0,"span",37),d.Xb(1,"div"),d.Gc(2),d.ic(3,"date"),d.Sb(4,"nb-icon",38),d.Wb(),d.Xb(5,"small",39),d.Gc(6),d.ic(7,"date"),d.Wb(),d.Xb(8,"small",39),d.Gc(9),d.ic(10,"date"),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(2),d.Ic(" ",d.kc(3,3,e.controls.dataInicio.value,"dd/MM/yyyy")," "),d.Eb(4),d.Hc("Das "+d.kc(7,6,e.controls.dataInicio.value,"HH:mm")+"h "),d.Eb(3),d.Hc("as "+d.kc(10,9,e.controls.dataFim.value,"HH:mm")+"h ")}}function T(e,i){if(1&e){const e=d.Yb();d.Xb(0,"nb-accordion-item",22),d.Ec(1,G,1,0,"div",23),d.Xb(2,"nb-accordion-item-header"),d.Sb(3,"nb-icon",24),d.Xb(4,"div"),d.Xb(5,"span"),d.Gc(6),d.Wb(),d.Sb(7,"br"),d.Xb(8,"small"),d.Gc(9),d.Wb(),d.Wb(),d.Xb(10,"div",25),d.Ec(11,L,11,12,"span",26),d.Xb(12,"button",27),d.fc("click",(function(){d.wc(e);const t=i.index;return d.hc().deleteAula(t)})),d.Sb(13,"nb-icon",28),d.Wb(),d.Wb(),d.Wb(),d.Xb(14,"nb-accordion-item-body"),d.Xb(15,"div",29),d.Sb(16,"input",30),d.Wb(),d.Xb(17,"div",29),d.Sb(18,"textarea",31),d.Wb(),d.Xb(19,"div",4),d.Xb(20,"label",32),d.Gc(21,"Inicio e fim da aula"),d.Wb(),d.Xb(22,"div",6),d.Xb(23,"div",33),d.Xb(24,"input",34),d.fc("change",(function(i){return d.wc(e),d.hc().dateF(i)})),d.Wb(),d.Wb(),d.Xb(25,"div"),d.Sb(26,"input",35),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){const e=i.$implicit,t=i.index;d.nc("formGroupName",t),d.Eb(6),d.Jc("Aula ",t+1," ",""!=e.controls.titulo.value?"- "+e.controls.titulo.value:"",""),d.Eb(3),d.Hc(e.controls.descricao.value),d.Eb(2),d.nc("ngIf",""!=e.controls.dataInicio.value||""!=e.controls.dataFim.value),d.Eb(13),d.nc("altInput",!1)("enableTime",!0)("time24hr",!0),d.Eb(2),d.nc("altInput",!1)("enableTime",!0)("time24hr",!0)}}const w=[{path:"",component:b,children:[{path:"",redirectTo:"listar",pathMatch:"full"},{path:"criar",component:E},{path:"listar",component:(()=>{class e{constructor(e,i,t){this.service=e,this.ProfessorService=i,this.router=t,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[],this.settings={hideSubHeader:!0,actions:{position:"right",columnTitle:"A\xe7\xf5es",add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{titulo:{title:"T\xedtulo",type:"string",editable:!1},descricao:{title:"Descri\xe7\xe3o",type:"string",editable:!1},dataInicio:{title:"Inicio",type:"date",editable:!1},dataFim:{title:"Fim",type:"date",editable:!1}}},this.source=new r.a}ngOnInit(){this.getDetalhesProfessor(),this.getTurmasProfessor()}filtrarTurma(e){console.log(e),this.turmasFiltered=this.turmas.filter(i=>i.disciplinas.some(i=>i.idProfessorDisciplina==e)),console.log(this.turmasFiltered)}getTurmasProfessor(){this.ProfessorService.getTurmas().subscribe(e=>{this.isLoading=!1,this.turmas=e})}getDetalhesProfessor(){this.ProfessorService.getProfessorDetalhes().subscribe(e=>{this.isLoading=!1,this.disciplinas=e.disciplinas})}getAulas(e,i){this.isLoading=!0,this.ProfessorService.getPlanejamentos(e,i).pipe(Object(m.a)(()=>{})).subscribe(e=>{this.source.load(e),this.source.refresh(),this.isLoading=!1})}onSearch(e=""){""!=e?this.source.setFilter([{field:"id",search:e},{field:"nome",search:e},{field:"descricao",search:e},{field:"onboardStatus",search:e}],!1):this.source.reset()}onCustomAction(e){console.log(e),this.router.navigateByUrl("/instituicao/disciplinas/editar/"+e.data._id)}onDeleteConfirm(e){console.log(e),window.confirm("Tem certeza que deseja rejeitar a aprova\xe7\xe3o deste usu\xe1rio?")||e.confirm.reject()}onEditConfirm(e){console.log(e)}}return e.\u0275fac=function(i){return new(i||e)(d.Rb(F.a),d.Rb(u.a),d.Rb(l.c))},e.\u0275cmp=d.Lb({type:e,selectors:[["ngx-listar"]],decls:17,vars:7,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],[1,"ml-auto","text-right"],["placeholder","Selecione uma disciplina","filled","","status","primary",1,"mr-4",3,"selected","selectedChange"],["disciplinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecione uma turma","filled","","status","primary",1,"mr-4",3,"selected","selectedChange"],["turmaSelect",""],["nbInput","","type","text","placeholder","Buscar",1,"search",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","custom","editConfirm"],[3,"value"]],template:function(e,i){if(1&e){const e=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"div",1),d.Xb(3,"div",2),d.Xb(4,"h4"),d.Gc(5,"Planos de aula"),d.Wb(),d.Wb(),d.Xb(6,"div",3),d.Xb(7,"nb-select",4,5),d.fc("selectedChange",(function(e){return i.selectedDisciplina=e}))("selectedChange",(function(){return i.filtrarTurma(i.selectedDisciplina)})),d.Ec(9,C,2,2,"nb-option",6),d.Wb(),d.Xb(10,"nb-select",7,8),d.fc("selectedChange",(function(e){return i.selectedTurma=e}))("selectedChange",(function(){return i.getAulas(i.selectedDisciplina,i.selectedTurma)})),d.Ec(12,y,2,2,"nb-option",6),d.Wb(),d.Xb(13,"input",9,10),d.fc("keydown.enter",(function(){d.wc(e);const t=d.uc(14);return i.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(15,"nb-card-body"),d.Xb(16,"ng2-smart-table",11),d.fc("deleteConfirm",(function(e){return i.onDeleteConfirm(e)}))("custom",(function(e){return i.onCustomAction(e)}))("editConfirm",(function(e){return i.onEditConfirm(e)})),d.Wb(),d.Wb(),d.Wb()}2&e&&(d.nc("nbSpinner",i.isLoading),d.Eb(7),d.nc("selected",i.selectedDisciplina),d.Eb(2),d.nc("ngForOf",i.disciplinas),d.Eb(1),d.nc("selected",i.selectedTurma),d.Eb(2),d.nc("ngForOf",i.turmasFiltered),d.Eb(4),d.nc("settings",i.settings)("source",i.source))},directives:[n.x,n.lb,n.z,n.gb,g.l,n.L,n.w,r.b,n.bb],styles:[""]}),e})()},{path:"criaraula",component:(()=>{class e{constructor(e,i,t){this.formBuilder=e,this.ProfessorService=i,this.router=t,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[]}ngOnInit(){this.getTurmasProfessor(),this.getDetalhesProfessor(),this.createForm()}filtrarTurma(e){console.log(e),this.turmasFiltered=[],this.planos.clear(),this.form.controls.turma.setValue(""),this.turmasFiltered=this.turmas.filter(i=>i.disciplinas.some(i=>i.idProfessorDisciplina==e)),console.log(this.form)}getAulas(e,i){this.isLoading=!0,this.ProfessorService.getPlanejamentos(e,i).pipe(Object(m.a)(()=>{})).subscribe(e=>{this.isLoading=!1,e&&e.forEach(e=>{this.addAula(e)})})}onDrop(e){e.previousContainer===e.container?Object(h.f)(e.container.data,e.previousIndex,e.currentIndex):Object(h.g)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}get planos(){return this.form.get("planos")}getTurmasProfessor(){this.ProfessorService.getTurmas().subscribe(e=>{this.isLoading=!1,this.turmas=e})}getDetalhesProfessor(){this.ProfessorService.getProfessorDetalhes().subscribe(e=>{this.isLoading=!1,this.disciplinas=e.disciplinas})}addAula(e){this.planos.push(this.formBuilder.group(e?{titulo:[e.titulo,a.A.required],descricao:[e.descricao,a.A.required],dataInicio:[e.dataInicio,a.A.required],dataFim:[e.dataFim,a.A.required]}:{titulo:["",a.A.required],descricao:["",a.A.required],dataInicio:["",a.A.required],dataFim:["",a.A.required]}))}deleteAula(e){this.planos.removeAt(e)}dateF(e){console.log(e)}createForm(){this.form=this.formBuilder.group({turma:["",a.A.required],disciplinaProfessor:["",a.A.required],planos:this.formBuilder.array([])})}Adicionar(){this.isLoading=!0;const e=Object.assign({},this.form.value);this.ProfessorService.criarPlanejamento(e).pipe(Object(m.a)(()=>{this.isLoading=!1})).subscribe(e=>{this.isLoading=!1,e&&f.a.fire("Ok","Plano de aula adicionada com sucesso","success")})}}return e.\u0275fac=function(i){return new(i||e)(d.Rb(a.d),d.Rb(u.a),d.Rb(l.c))},e.\u0275cmp=d.Lb({type:e,selectors:[["ngx-criar"]],decls:34,vars:10,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],["action","",3,"formGroup"],[1,"form-group","row"],["for","disciplina",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10","d-flex"],["placeholder","Selecione a disciplina","id","disciplina","formControlName","disciplinaProfessor",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","turmas",1,"label","col-sm-2","col-form-label"],["placeholder","Selecione as turmas","id","turmas","formControlName","turma",3,"selected","selectedChange"],["formArrayName","planos",1,"form-group","row"],["for","planos",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10"],["cdkDropList","",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"offset-sm-2","col-sm-10","mb-4"],["type","button","nbButton","","status","info","size","small",3,"disabled","click"],["icon","plus-outline"],[1,"offset-sm-2","col-sm-10"],["type","submit","nbButton","","status","primary",3,"disabled","click"],[3,"value"],["cdkDrag","",3,"formGroupName"],["class","questao-placeholder",4,"cdkDragPlaceholder"],["icon","move-outline","cdkDragHandle","",1,"mr-4","text-disabled"],[1,"ml-auto","text-right","mr-5","d-flex","align-items-center"],["class","mr-5 ",4,"ngIf"],["type","button","nbButton","","status","danger","size","tiny",1,"",3,"click"],["icon","trash-2-outline"],[1,"form-group"],["type","text","nbInput","","fullWidth","","placeholder","T\xedtulo","formControlName","titulo"],["type","text","nbInput","","fullWidth","","placeholder","Descri\xe7\xe3o","formControlName","descricao"],["for","dataInicio",1,"label","col-sm-2","col-form-label"],[1,"mr-2"],["type","text","nbInput","","id","dataInicio","placeholder","Data Inicio","formControlName","dataInicio","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",3,"altInput","enableTime","time24hr","change"],["type","text","nbInput","","id","dataFim","placeholder","Data Fim","formControlName","dataFim","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",3,"altInput","enableTime","time24hr"],[1,"questao-placeholder"],[1,"mr-5"],["icon","calendar-outline",1,"text-hint"],[1,"subtitle-2"]],template:function(e,i){1&e&&(d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"div",1),d.Xb(3,"div",2),d.Xb(4,"h4"),d.Gc(5,"Planos de aulas"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"nb-card-body"),d.Xb(7,"form",3),d.Xb(8,"div",4),d.Xb(9,"label",5),d.Gc(10,"Disciplina"),d.Wb(),d.Xb(11,"div",6),d.Xb(12,"nb-select",7),d.fc("selectedChange",(function(e){return i.selectedDisciplina=e}))("selectedChange",(function(){return i.filtrarTurma(i.selectedDisciplina)})),d.Ec(13,A,2,2,"nb-option",8),d.Wb(),d.Wb(),d.Wb(),d.Xb(14,"div",4),d.Xb(15,"label",9),d.Gc(16,"Turma"),d.Wb(),d.Xb(17,"div",6),d.Xb(18,"nb-select",10),d.fc("selectedChange",(function(e){return i.selectedTurma=e}))("selectedChange",(function(){return i.getAulas(i.selectedDisciplina,i.selectedTurma)})),d.Ec(19,O,2,2,"nb-option",8),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"div",11),d.Xb(21,"label",12),d.Gc(22," Aulas:"),d.Wb(),d.Xb(23,"div",13),d.Xb(24,"nb-accordion",14),d.fc("cdkDropListDropped",(function(e){return i.onDrop(e)})),d.Ec(25,T,27,11,"nb-accordion-item",15),d.Wb(),d.Wb(),d.Wb(),d.Xb(26,"div",4),d.Xb(27,"div",16),d.Xb(28,"button",17),d.fc("click",(function(){return i.addAula()})),d.Sb(29,"nb-icon",18),d.Gc(30," Adicionar aula "),d.Wb(),d.Wb(),d.Xb(31,"div",19),d.Xb(32,"button",20),d.fc("click",(function(){return i.Adicionar()})),d.Gc(33,"Salvar"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.nc("nbSpinner",i.isLoading),d.Eb(7),d.nc("formGroup",i.form),d.Eb(5),d.nc("selected",i.selectedDisciplina),d.Eb(1),d.nc("ngForOf",i.disciplinas),d.Eb(5),d.nc("selected",i.selectedTurma),d.Eb(1),d.nc("ngForOf",i.turmasFiltered),d.Eb(5),d.nc("cdkDropListData",i.planos.controls),d.Eb(1),d.nc("ngForOf",i.planos.controls),d.Eb(3),d.nc("disabled",""==i.form.controls.disciplinaProfessor.value||""==i.form.controls.turma.value),d.Eb(4),d.nc("disabled",i.form.invalid||i.isLoading))},directives:[n.x,n.lb,n.z,n.w,a.C,a.q,a.h,n.gb,a.p,a.g,g.l,a.c,n.g,h.d,n.s,n.I,n.bb,n.i,h.a,a.i,h.c,n.j,h.b,g.m,n.h,n.L,a.b,c.b],pipes:[g.e],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;padding:1.25rem}.cdk-drag-animating[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.questao-placeholder[_ngcontent-%COMP%]{min-height:60px}.alternativa-placeholder[_ngcontent-%COMP%], .questao-placeholder[_ngcontent-%COMP%]{background:#fff6f6;border:3px dotted #ddd;transition:transform .25s cubic-bezier(0,0,.2,1)}.alternativa-placeholder[_ngcontent-%COMP%]{min-height:100px}"]}),e})()}]}];let q=(()=>{class e{}return e.\u0275mod=d.Pb({type:e}),e.\u0275inj=d.Ob({factory:function(i){return new(i||e)},imports:[[l.g.forChild(w)],l.g]}),e})();t.d(i,"PlanejamentoModule",(function(){return M}));let M=(()=>{class e{}return e.\u0275mod=d.Pb({type:e}),e.\u0275inj=d.Ob({factory:function(i){return new(i||e)},imports:[[n.A,n.vb,n.K,n.M,n.n,n.D,n.G,n.eb,n.hb,n.xb,s.a,n.t,q,r.c,a.x,o.b,n.mb,a.j,c.a,n.k,h.e]]}),e})()}}]);