function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Ve1e:function(e,t,i){"use strict";i.r(t);var n=i("aceb"),s=i("tmjD"),r=i("3Pt+"),o=i("RS3s"),a=i("vTDv"),c=i("tyNb"),l=i("ofXK"),u=i("sRfN"),d=i("OE9b"),f=i("nYR2"),b=i("fXoL");function m(e,t){if(1&e&&(b.Xb(0,"nb-option",11),b.Gc(1),b.Wb()),2&e){var i=t.$implicit;b.nc("value",i),b.Eb(1),b.Ic(" ",i.nome,"")}}function h(e,t){if(1&e&&(b.Xb(0,"nb-option",11),b.Gc(1),b.Wb()),2&e){var i=t.$implicit;b.nc("value",i.id),b.Eb(1),b.Hc(i.nome)}}var p,v,g=[{path:"",component:(p=function(){function e(t,i,n){_classCallCheck(this,e),this.service=t,this.ProfessorService=i,this.sidebarService=n,this.settings={hideSubHeader:!0,actions:{add:!1,position:"right",columnTitle:"A\xe7\xf5es",edit:!1,delete:!1},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{titulo:{title:"T\xedtulo",type:"html",editable:!1,valuePrepareFunction:function(e,t){return'<a href="#/professor/atividade/'+t.id+'" >'+e+"</a>"}},descricao:{title:"Descri\xe7\xe3o",type:"string",editable:!1},tipo:{title:"Tipo",type:"string",editable:!1},prazoInicial:{title:"Prazo Inicial",type:"string",valuePrepareFunction:function(e){return new l.e("en-US").transform(e,"dd/MM/yyyy")}},prazoFinal:{title:"Prazo Final",type:"string",valuePrepareFunction:function(e){return new l.e("en-US").transform(e,"dd/MM/yyyy")}}}},this.source=new o.a,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[],this.service.getData(),this.getSimulados(),this.getDisciplinas(),this.getTurmasProfessor()}return _createClass(e,[{key:"getTurmasProfessor",value:function(){var e=this;this.ProfessorService.getTurmas().subscribe((function(t){e.isLoading=!1,e.turmas=t}))}},{key:"getDisciplinas",value:function(){this.disciplinas=this.ProfessorService.professorDetalhe.disciplinas}},{key:"filtrarTurma",value:function(e){delete this.turmasFiltered,delete this.selectedTurma,this.turmasFiltered=this.turmas.filter((function(t){return t.disciplinas.some((function(t){return t.idProfessorDisciplina==e.idProfessorDisciplina}))}))}},{key:"getSimulados",value:function(){var e=this;this.ProfessorService.getSimulados().pipe(Object(f.a)((function(){}))).subscribe((function(t){e.simulados=t.sort((function(e,t){return new Date(t.prazoFinal)-new Date(e.prazoFinal)})),e.source.load(e.simulados),e.source.refresh()}))}},{key:"filterSimulados",value:function(e,t){console.log("oi"),this.simuladosFiltered=this.simulados.filter((function(i){return i.contidoEm.some((function(e){return e.idTurma==t}))&&i.contidoEm.some((function(t){return t.disciplina.nome==e.nome}))})),this.source.load(this.simuladosFiltered),this.source.refresh()}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""!=e?this.source.setFilter([{field:"id",search:e},{field:"titulo",search:e},{field:"descricao",search:e},{field:"tipo",search:e},{field:"prazoInicial",search:e},{field:"prazoFinal",search:e},{field:"onboardStatus",search:e}],!1):this.source.reset()}},{key:"onDeleteConfirm",value:function(e){console.log(e),window.confirm("Tem certeza que deseja rejeitar a aprova\xe7\xe3o deste usu\xe1rio?")||e.confirm.reject()}},{key:"onEditConfirm",value:function(e){console.log(e)}},{key:"onUserRowSelect",value:function(e,t){console.log(e.settings)}}]),e}(),p.\u0275fac=function(e){return new(e||p)(b.Rb(u.a),b.Rb(d.a),b.Rb(n.kb))},p.\u0275cmp=b.Lb({type:p,selectors:[["ngx-simulados"]],decls:17,vars:7,consts:[[1,"d-flex","flex-column","flex-md-row"],[1,""],[1,"ml-auto","text-right","d-flex","flex-column","flex-md-row"],["placeholder","Selecione uma disciplina","filled","","status","primary",1,"mr-4",3,"selected","selectedChange"],["disciplinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecione uma turma","filled","","status","primary",1,"mr-4",3,"selected","disabled","selectedChange"],["turmaSelect",""],["nbInput","","type","text","placeholder","Search...",1,"search",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","editConfirm"],[3,"value"]],template:function(e,t){if(1&e){var i=b.Yb();b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Xb(2,"div",0),b.Xb(3,"div",1),b.Xb(4,"h4"),b.Gc(5,"Atividades"),b.Wb(),b.Wb(),b.Xb(6,"div",2),b.Xb(7,"nb-select",3,4),b.fc("selectedChange",(function(e){return t.selectedDisciplina=e}))("selectedChange",(function(){return t.filtrarTurma(t.selectedDisciplina)})),b.Ec(9,m,2,2,"nb-option",5),b.Wb(),b.Xb(10,"nb-select",6,7),b.fc("selectedChange",(function(e){return t.selectedTurma=e}))("selectedChange",(function(){return t.filterSimulados(t.selectedDisciplina,t.selectedTurma)})),b.Ec(12,h,2,2,"nb-option",5),b.Wb(),b.Xb(13,"input",8,9),b.fc("keydown.enter",(function(){b.wc(i);var e=b.uc(14);return t.onSearch(e.value)})),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(15,"nb-card-body"),b.Xb(16,"ng2-smart-table",10),b.fc("deleteConfirm",(function(e){return t.onDeleteConfirm(e)}))("editConfirm",(function(e){return t.onEditConfirm(e)})),b.Wb(),b.Wb(),b.Wb()}2&e&&(b.Eb(7),b.nc("selected",t.selectedDisciplina),b.Eb(2),b.nc("ngForOf",t.disciplinas),b.Eb(1),b.nc("selected",t.selectedTurma)("disabled",t.turmasFiltered.length<=0),b.Eb(2),b.nc("ngForOf",t.turmasFiltered),b.Eb(4),b.nc("settings",t.settings)("source",t.source))},directives:[n.x,n.z,n.gb,l.l,n.L,n.w,o.b,n.bb],styles:[""]}),p)}],y=((v=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:v}),v.\u0275inj=b.Ob({factory:function(e){return new(e||v)},imports:[[c.g.forChild(g)],c.g]}),v),C=i("5+WD");i.d(t,"SimuladosModule",(function(){return k})),i.d(t,"PageModule",(function(){return S}));var w,k=((w=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:w}),w.\u0275inj=b.Ob({factory:function(e){return new(e||w)},imports:[[n.A,n.vb,n.K,n.M,n.n,n.D,n.G,n.eb,n.hb,n.xb,a.a,n.t,y,o.c,r.x,s.b,n.mb,n.v,n.k,C.e]]}),w),S=function e(){_classCallCheck(this,e)}}}]);