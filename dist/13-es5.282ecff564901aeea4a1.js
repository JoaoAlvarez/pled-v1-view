function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var t,r=_getPrototypeOf(e);if(n){var i=_getPrototypeOf(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(e):n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Yj9t:function(e,n,t){"use strict";t.r(n);var r=t("ofXK"),i=t("3Pt+"),o=t("tyNb"),a=t("McNs"),s=t("fXoL"),c=t("aceb");function l(e,n){1&e&&(s.Xb(0,"nb-alert",20),s.Xb(1,"p",21),s.Xb(2,"b"),s.Gc(3,"Oh n\xe3o!"),s.Wb(),s.Wb(),s.Xb(4,"ul",22),s.Xb(5,"li",23),s.Gc(6,"Algo deu errado :("),s.Wb(),s.Xb(7,"li",23),s.Gc(8,"Que tal tentar novamente?"),s.Wb(),s.Wb(),s.Wb())}function u(e,n){1&e&&(s.Xb(0,"nb-alert",24),s.Xb(1,"p",21),s.Xb(2,"b"),s.Gc(3,"Muito bom!"),s.Wb(),s.Wb(),s.Xb(4,"ul",22),s.Xb(5,"li",23),s.Gc(6," Seja muito bem vindo a sua plataforma de ensino :) "),s.Wb(),s.Wb(),s.Wb())}function b(e,n){1&e&&(s.Xb(0,"p",26),s.Gc(1," Email \xe9 obrigat\xf3rio! "),s.Wb())}function f(e,n){1&e&&(s.Xb(0,"p",26),s.Gc(1," Voc\xea deve fornecer um e-mail real! "),s.Wb())}function d(e,n){if(1&e&&(s.Vb(0),s.Ec(1,b,2,0,"p",25),s.Ec(2,f,2,0,"p",25),s.Ub()),2&e){s.hc();var t=s.uc(11);s.Eb(1),s.nc("ngIf",null==t.errors?null:t.errors.required),s.Eb(1),s.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function p(e,n){1&e&&(s.Xb(0,"p",26),s.Gc(1," A senha \xe9 obrigat\xf3ria! "),s.Wb())}function g(e,n){if(1&e&&(s.Xb(0,"p",26),s.Gc(1),s.Wb()),2&e){var t=s.hc(2);s.Eb(1),s.Jc(" A senha deveria entre ",t.getConfigValue("forms.validation.password.minLength")," a ",t.getConfigValue("forms.validation.password.maxLength")," caracteres ")}}function m(e,n){if(1&e&&(s.Vb(0),s.Ec(1,p,2,0,"p",25),s.Ec(2,g,2,2,"p",25),s.Ub()),2&e){s.hc();var t=s.uc(17);s.Eb(1),s.nc("ngIf",null==t.errors?null:t.errors.required),s.Eb(1),s.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function h(e,n){if(1&e){var t=s.Yb();s.Xb(0,"nb-checkbox",27),s.fc("ngModelChange",(function(e){return s.wc(t),s.hc().user.rememberMe=e})),s.Gc(1,"Lembrar"),s.Wb()}if(2&e){var r=s.hc();s.nc("ngModel",r.user.rememberMe)}}function v(e,n){if(1&e&&(s.Xb(0,"a",33),s.Gc(1),s.Wb()),2&e){var t=s.hc().$implicit;s.Ib("with-icon",t.icon),s.nc("routerLink",t.link),s.Fb("target",t.target)("class",t.icon),s.Eb(1),s.Hc(t.title)}}function y(e,n){if(1&e&&(s.Xb(0,"a"),s.Gc(1),s.Wb()),2&e){var t=s.hc().$implicit;s.Ib("with-icon",t.icon),s.Fb("href",t.url,s.zc)("target",t.target)("class",t.icon),s.Eb(1),s.Hc(t.title)}}function S(e,n){if(1&e&&(s.Vb(0),s.Ec(1,v,2,6,"a",31),s.Ec(2,y,2,6,"a",32),s.Ub()),2&e){var t=n.$implicit;s.Eb(1),s.nc("ngIf",t.link),s.Eb(1),s.nc("ngIf",t.url)}}function W(e,n){if(1&e&&(s.Xb(0,"section",28),s.Gc(1," or enter with: "),s.Xb(2,"div",29),s.Ec(3,S,3,2,"ng-container",30),s.Wb(),s.Wb()),2&e){var t=s.hc();s.Eb(3),s.nc("ngForOf",t.socialLinks)}}var X,w,I=((X=function(e){_inherits(t,e);var n=_createSuper(t);function t(){return _classCallCheck(this,t),n.apply(this,arguments)}return _createClass(t,[{key:"ngOnInit",value:function(){console.log(this.router.routerState.snapshot.url)}}]),t}(a.h)).\u0275fac=function(e){return C(e||X)},X.\u0275cmp=s.Lb({type:X,selectors:[["ngx-login"]],features:[s.Bb],decls:26,vars:19,consts:[["id","login"],[1,"text-center"],["src","assets/images/logo.png","alt","",1,"login_logo"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],["form","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","fullWidth","","name","email","id","input-email","pattern",".+@.+\\..+","placeholder","Seu e-mail","autofocus","",3,"ngModel","status","required","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-password",1,"label"],["nbInput","","fullWidth","","name","password","type","password","id","input-password","placeholder","Senha",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["password","ngModel"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["routerLink","../recuperarsenha",1,"forgot-password"],["nbButton","","fullWidth","","status","warning",3,"disabled"],["class","links","aria-label","Social sign in",4,"ngIf"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","rememberMe",3,"ngModel","ngModelChange"],["aria-label","Social sign in",1,"links"],[1,"socials"],[4,"ngFor","ngForOf"],[3,"routerLink","with-icon",4,"ngIf"],[3,"with-icon",4,"ngIf"],[3,"routerLink"]],template:function(e,n){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Sb(2,"img",2),s.Wb(),s.Ec(3,l,9,0,"nb-alert",3),s.Ec(4,u,7,0,"nb-alert",4),s.Xb(5,"form",5,6),s.fc("ngSubmit",(function(){return n.login()})),s.Xb(7,"div",7),s.Xb(8,"label",8),s.Gc(9,"Email:"),s.Wb(),s.Xb(10,"input",9,10),s.fc("ngModelChange",(function(e){return n.user.email=e})),s.Wb(),s.Ec(12,d,3,2,"ng-container",11),s.Wb(),s.Xb(13,"div",7),s.Xb(14,"label",12),s.Gc(15,"Senha:"),s.Wb(),s.Xb(16,"input",13,14),s.fc("ngModelChange",(function(e){return n.user.password=e})),s.Wb(),s.Ec(18,m,3,2,"ng-container",11),s.Wb(),s.Xb(19,"div",15),s.Ec(20,h,2,1,"nb-checkbox",16),s.Xb(21,"a",17),s.Gc(22,"Esqueceu a senha?"),s.Wb(),s.Wb(),s.Xb(23,"button",18),s.Gc(24," Entrar "),s.Wb(),s.Wb(),s.Ec(25,W,4,1,"section",19),s.Wb()),2&e){var t=s.uc(6),r=s.uc(11),i=s.uc(17);s.Eb(3),s.nc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),s.Eb(1),s.nc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),s.Eb(6),s.nc("ngModel",n.user.email)("status",r.dirty?r.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.email.required")),s.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),s.Eb(2),s.nc("ngIf",r.invalid&&r.touched),s.Eb(4),s.nc("ngModel",n.user.password)("status",i.dirty?i.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.password.required"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("maxlength",n.getConfigValue("forms.validation.password.maxLength")),s.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),s.Eb(2),s.nc("ngIf",i.invalid&&i.touched),s.Eb(2),s.nc("ngIf",n.rememberMe),s.Eb(3),s.Ib("btn-pulse",n.submitted),s.nc("disabled",n.submitted||!t.valid),s.Eb(2),s.nc("ngIf",n.socialLinks&&n.socialLinks.length>0)}},directives:[r.m,i.D,i.r,i.s,c.L,i.c,i.x,i.q,i.t,i.z,i.m,i.l,o.f,c.s,c.o,c.C,r.l],styles:["#login[_ngcontent-%COMP%]   .login_logo[_ngcontent-%COMP%]{max-height:100px;margin-bottom:30px}  .navigation .link nb-icon{display:none!important}"]}),X),C=s.Zb(I),E=t("lJxs"),k=t("tk/3"),_=((w=function(){function e(n){_classCallCheck(this,e),this.httpClient=n}return _createClass(e,[{key:"getInfo",value:function(e){return this.httpClient.get("/user/signup/"+e).pipe(Object(E.a)((function(e){if(console.log("response",e),e)return e})))}},{key:"signUp",value:function(e){return this.httpClient.post("/user/signup/validate",e).pipe(Object(E.a)((function(e){if(console.log("response",e),e)return e})))}},{key:"signIn",value:function(e){return this.httpClient.post("/user/signin",e).pipe(Object(E.a)((function(e){if(console.log("response",e),e)return e})))}},{key:"recoverPassowrd",value:function(e){return this.httpClient.put("/user/sendForgotEmail",e).pipe(Object(E.a)((function(e){if(e)return e})))}}]),e}()).\u0275fac=function(e){return new(e||w)(s.bc(k.b))},w.\u0275prov=s.Nb({token:w,factory:w.\u0275fac,providedIn:"root"}),w),G=t("nYR2"),O=t("PSD3"),L=t.n(O);function M(e,n){1&e&&(s.Xb(0,"div"),s.Xb(1,"h1",5),s.Gc(2,"Cadastre-se"),s.Wb(),s.Xb(3,"div",6),s.Gc(4," Informe seus dados e uma senha para acessar a plataforma "),s.Wb(),s.Sb(5,"br"),s.Sb(6,"br"),s.Wb())}function x(e,n){if(1&e){var t=s.Yb();s.Xb(0,"form",7),s.fc("ngSubmit",(function(){return s.wc(t),s.hc().submit()})),s.Xb(1,"div",8),s.Xb(2,"label",9),s.Gc(3,"Nome:"),s.Wb(),s.Sb(4,"input",10),s.Wb(),s.Xb(5,"div",8),s.Xb(6,"label",11),s.Gc(7,"Email:"),s.Wb(),s.Sb(8,"input",12),s.Wb(),s.Xb(9,"div",8),s.Xb(10,"label",13),s.Gc(11,"Senha:"),s.Wb(),s.Sb(12,"input",14),s.Wb(),s.Xb(13,"div",8),s.Xb(14,"label",15),s.Gc(15,"Repetir senha:"),s.Wb(),s.Sb(16,"input",16),s.Wb(),s.Xb(17,"button",17),s.Gc(18," Cadastrar "),s.Wb(),s.Wb()}if(2&e){var r=s.hc();s.nc("formGroup",r.form),s.Eb(17),s.Ib("btn-pulse",r.submitted),s.nc("disabled",r.submitted||!r.form.valid)}}function P(e,n){if(1&e&&(s.Xb(0,"nb-card",18),s.Xb(1,"nb-card-body",19),s.Gc(2),s.Wb(),s.Wb()),2&e){var t=s.hc();s.nc("nbSpinner",t.isLoading),s.Eb(2),s.Ic(" ",t.erro," ")}}var R,j=((R=function(){function e(n,t,r,i,o){var a=this;_classCallCheck(this,e),this.route=n,this.authService=t,this.formBuilder=r,this.nbTokenService=i,this.router=o,this.user={},this.erro="",this.id="",this.isLoading=!0,this.route.paramMap.subscribe((function(e){a.id=e.get("id"),a.getInfo(e.get("id"))}))}return _createClass(e,[{key:"ngOnInit",value:function(){localStorage.getItem("auth_app_token")&&(localStorage.removeItem("auth_app_token"),this.router.navigate(["auth/signup/"+this.id]))}},{key:"createForm",value:function(e,n){this.form=this.formBuilder.group({id:[e._id,i.B.required],nome:[e.nome,i.B.required],email:[e.email,i.B.required],token:[n,i.B.required],cpf:[e.cpf,i.B.required],password:["",i.B.required],passwordConfirm:["",i.B.required]})}},{key:"getInfo",value:function(e){var n=this;this.isLoading=!0,this.authService.getInfo(e).pipe(Object(G.a)((function(){}))).subscribe((function(t){n.createForm(t,e),n.isLoading=!1}),(function(e){n.erro=e,n.isLoading=!1}))}},{key:"getConfigValue",value:function(e){return!1}},{key:"submit",value:function(){var e=this;this.isLoading=!0;var n=Object.assign({},this.form.value);this.authService.signUp(n).pipe(Object(G.a)((function(){e.isLoading=!1}))).subscribe((function(t){if(e.isLoading=!1,t){console.log(t);var r={email:n.email,password:n.password};L.a.fire("Ok","Cadastro realizado com sucesso","success"),e.router.navigateByUrl("/auth/login?email="+r.email)}}))}}]),e}()).\u0275fac=function(e){return new(e||R)(s.Rb(o.a),s.Rb(_),s.Rb(i.e),s.Rb(a.k),s.Rb(o.c))},R.\u0275cmp=s.Lb({type:R,selectors:[["ngx-signup"]],decls:7,vars:3,consts:[[4,"ngIf"],["aria-labelledby","title",3,"formGroup","ngSubmit",4,"ngIf"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner",4,"ngIf"],["aria-label","Sign in",1,"another-action"],["routerLink","auth/login",1,"text-link"],["id","title",1,"title"],[1,"subtitle","text-center"],["aria-labelledby","title",3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["nbInput","","formControlName","nome","id","input-name","name","fullName","placeholder","Nome","autofocus","","fullWidth","","disabled",""],["for","input-email",1,"label"],["nbInput","","formControlName","email","id","input-email","name","email","pattern",".+@.+..+","placeholder","Seu e-mail","fullWidth","","disabled",""],["for","input-password",1,"label"],["nbInput","","formControlName","password","type","password","id","input-password","name","password","placeholder","Senha","fullWidth",""],["for","input-re-password",1,"label"],["nbInput","","formControlName","passwordConfirm","type","password","id","input-re-password","name","rePass","placeholder","Repetir senha","fullWidth",""],["nbButton","","fullWidth","","status","primary",3,"disabled"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner"],[1,"text-center"]],template:function(e,n){1&e&&(s.Ec(0,M,7,0,"div",0),s.Ec(1,x,19,4,"form",1),s.Ec(2,P,3,2,"nb-card",2),s.Xb(3,"section",3),s.Gc(4," Tem uma conta? "),s.Xb(5,"a",4),s.Gc(6,"Fa\xe7a o login"),s.Wb(),s.Wb()),2&e&&(s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.isLoading||n.erro))},directives:[r.m,o.f,i.D,i.r,i.i,c.L,i.c,i.q,i.h,i.x,c.s,c.x,c.lb,c.w],styles:[""]}),R);function q(e,n){1&e&&(s.Xb(0,"div"),s.Xb(1,"h1",5),s.Gc(2,"Recuperar senha"),s.Wb(),s.Xb(3,"div",6),s.Gc(4," Informe o e-mail cadastrado na plataforma para recuperar sua senha "),s.Wb(),s.Sb(5,"br"),s.Sb(6,"br"),s.Wb())}function B(e,n){if(1&e){var t=s.Yb();s.Xb(0,"form",7),s.fc("ngSubmit",(function(){return s.wc(t),s.hc().submit()})),s.Xb(1,"div",8),s.Xb(2,"label",9),s.Gc(3,"Email:"),s.Wb(),s.Sb(4,"input",10),s.Wb(),s.Xb(5,"button",11),s.Gc(6," Enviar solicita\xe7\xe3o "),s.Wb(),s.Wb()}if(2&e){var r=s.hc();s.nc("formGroup",r.form),s.Eb(5),s.Ib("btn-pulse",r.submitted),s.nc("disabled",r.submitted||!r.form.valid)}}function F(e,n){if(1&e&&(s.Xb(0,"nb-card",12),s.Xb(1,"nb-card-body",13),s.Gc(2),s.Wb(),s.Wb()),2&e){var t=s.hc();s.nc("nbSpinner",t.isLoading),s.Eb(2),s.Ic(" ",t.erro," ")}}var V,N,z=[{path:"",component:a.b,children:[{path:"login",component:I},{path:"recuperarsenha",component:(V=function(){function e(n,t,r,i){_classCallCheck(this,e),this.route=n,this.authService=t,this.formBuilder=r,this.router=i,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.createForm()}},{key:"createForm",value:function(){this.form=this.formBuilder.group({email:["",i.B.required]})}},{key:"submit",value:function(){var e=this;this.isLoading=!0;var n=Object.assign({},this.form.value);this.authService.recoverPassowrd(n).pipe(Object(G.a)((function(){e.isLoading=!1}))).subscribe((function(n){e.isLoading=!1,n&&(console.log(n),L.a.fire("Ok","Solicita\xe7\xe3o de recupera\xe7\xe3o de senha realizado com sucesso","success"))}))}}]),e}(),V.\u0275fac=function(e){return new(e||V)(s.Rb(o.a),s.Rb(_),s.Rb(i.e),s.Rb(o.c))},V.\u0275cmp=s.Lb({type:V,selectors:[["ngx-recoverpassword"]],decls:7,vars:3,consts:[[4,"ngIf"],["aria-labelledby","title",3,"formGroup","ngSubmit",4,"ngIf"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner",4,"ngIf"],["aria-label","Sign in",1,"another-action"],["routerLink","../login",1,"text-link"],["id","title",1,"title"],[1,"subtitle","text-center"],["aria-labelledby","title",3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","formControlName","email","id","input-email","name","email","pattern",".+@.+..+","placeholder","Seu e-mail","fullWidth",""],["nbButton","","fullWidth","","status","primary",3,"disabled"],["accent","danger","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","Validando acesso",3,"nbSpinner"],[1,"text-center"]],template:function(e,n){1&e&&(s.Ec(0,q,7,0,"div",0),s.Ec(1,B,7,4,"form",1),s.Ec(2,F,3,2,"nb-card",2),s.Xb(3,"section",3),s.Gc(4," Tem uma conta? "),s.Xb(5,"a",4),s.Gc(6,"Fa\xe7a o login"),s.Wb(),s.Wb()),2&e&&(s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.form),s.Eb(1),s.nc("ngIf",n.isLoading||n.erro))},directives:[r.m,o.f,i.D,i.r,i.i,c.L,i.c,i.q,i.h,i.x,c.s,c.x,c.lb,c.w],styles:["#login[_ngcontent-%COMP%]   .login_logo[_ngcontent-%COMP%]{max-height:100px;margin-bottom:30px}  .navigation .link nb-icon{display:none!important}"]}),V)},{path:"logout",component:a.i},{path:"signup/:id",component:j}]}],D=((N=function e(){_classCallCheck(this,e)}).\u0275mod=s.Pb({type:N}),N.\u0275inj=s.Ob({factory:function(e){return new(e||N)},imports:[[o.g.forChild(z)],o.g]}),N);t.d(n,"NgxAuthModule",(function(){return U}));var T,U=((T=function e(){_classCallCheck(this,e)}).\u0275mod=s.Pb({type:T}),T.\u0275inj=s.Ob({factory:function(e){return new(e||T)},imports:[[r.c,i.k,o.g,c.p,c.M,c.t,c.D,c.A,D,i.y,a.e,c.mb]]}),T)}}]);