(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{OE9b:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var o=i("lJxs"),n=i("fXoL"),a=i("tk/3");let r=(()=>{class e{constructor(e){this.httpClient=e}getSimulados(){return this.httpClient.get("/professor/simulado/listar").pipe(Object(o.a)(e=>{if(e)return e}))}criarSimulado(e){return this.httpClient.post("/professor/simulado/novo",e).pipe(Object(o.a)(e=>{if(e)return e}))}getTurmas(){return this.httpClient.get("/professor/turma").pipe(Object(o.a)(e=>{if(e)return e}))}getProfessorDetalhes(){return this.httpClient.get("/professor/detalhado").pipe(Object(o.a)(e=>{if(e)return e}))}get professorDetalhe(){return JSON.parse(localStorage.getItem("professor"))}inserirSimuladoTurma(e){return this.httpClient.post("/professor/simulado/turma",e).pipe(Object(o.a)(e=>e))}getMateriais(e,t){return this.httpClient.put("/professor/turma/material/listar",{turma:t,disciplina:e}).pipe(Object(o.a)(e=>{if(e)return e}))}inserirMateriais(e){let t,i;return console.log(e),"arquivo"==e.tipo_material?(t=new FormData,t.append("file",e.fileSource),t.append("dados",JSON.stringify(e)),i="/professor/turma/material/arquivo"):"url"==e.tipo_material&&(i="/professor/turma/material/url",t=e,delete t.file),console.log("SEND",t),this.httpClient.post(i,t,void 0).pipe(Object(o.a)(e=>e))}editarMateriais(e){return this.httpClient.put("/professor/turma/material",e).pipe(Object(o.a)(e=>e))}deletarMaterial(e){return this.httpClient.delete("/professor/turma/material/"+e).pipe(Object(o.a)(e=>e))}criarPlanejamento(e){return this.httpClient.post("/professor/turma/planodeaula",e).pipe(Object(o.a)(e=>{if(e)return e}))}getPlanejamentos(e,t){return this.httpClient.put("/professor/turma/planodeaula/listar",{turmaId:t,disciplinaProfessor:e}).pipe(Object(o.a)(e=>{if(e)return e}))}getTimelineAtividades(e){return this.httpClient.get("/timeline/simulados/"+e).pipe(Object(o.a)(e=>{if(e)return e}))}getTimelineAulas(e){return this.httpClient.get("/timeline/aulas/"+e).pipe(Object(o.a)(e=>{if(e)return e}))}getTimelineMateriais(e){return this.httpClient.get("/timeline/materiais/"+e).pipe(Object(o.a)(e=>{if(e)return e}))}getTurmaDetalhe(e){return this.httpClient.get("/professor/turma/id/"+e).pipe(Object(o.a)(e=>{if(e)return e}))}getAtividade(e){return this.httpClient.get("/professor/simulado/id/"+e).pipe(Object(o.a)(e=>{if(e)return e}))}getRespostasAlunos(e){return this.httpClient.get("/professor/simulado/poraluno/idsimulado/"+e).pipe(Object(o.a)(e=>{if(e)return e}))}enviarRespostas(e,t){return this.httpClient.put("/professor/simulado/corrigir/"+e,t).pipe(Object(o.a)(e=>{if(e)return e}))}}return e.\u0275fac=function(t){return new(t||e)(n.bc(a.b))},e.\u0275prov=n.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},PTne:function(e,t,i){"use strict";i.r(t);var o=i("aceb"),n=i("tmjD"),a=i("RS3s"),r=i("vTDv"),s=i("3Pt+"),c=i("tyNb");const b=[{title:"Home",icon:"home-outline",link:"/professor/home"},{title:"Turmas",icon:"people-outline",children:[{title:"Listar",link:"/professor/turmas"}]},{title:"Atividades",icon:"edit-2-outline",children:[{title:"Criar",link:"/professor/atividades/criar"},{title:"Listar",link:"/professor/atividades"}]},{title:"Materiais",icon:"book-open-outline",children:[{title:"Criar",link:"/professor/materiais/cadastrar"},{title:"Listar",link:"/professor/materiais/listar"}]},{title:"Planejamento de Aulas",icon:"calendar-outline",children:[{title:"Planos de aula",link:"/professor/planejamento/criar"}]}];var l=i("OE9b"),d=i("fXoL"),u=i("ofXK"),p=i("mgFL");function m(e,t){if(1&e&&(d.Xb(0,"nb-option",9),d.Gc(1),d.Wb()),2&e){const e=t.$implicit;d.nc("value",e),d.Eb(1),d.Hc(e.nome)}}function f(e,t){if(1&e){const e=d.Yb();d.Xb(0,"ngx-one-column-layout"),d.Sb(1,"nb-menu",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Xb(4,"h6",4),d.Gc(5),d.Wb(),d.Wb(),d.Xb(6,"div",5),d.Xb(7,"nb-select",6,7),d.fc("selectedChange",(function(t){return d.wc(e),d.hc().selectedTurma=t}))("selectedChange",(function(){d.wc(e);const t=d.hc();return t.navigateToTurma(t.selectedTurma)})),d.Ec(9,m,2,2,"nb-option",8),d.Wb(),d.Wb(),d.Wb(),d.Sb(10,"router-outlet"),d.Wb()}if(2&e){const e=d.hc();d.Eb(1),d.nc("items",e.menu),d.Eb(4),d.Ic("Ol\xe1 ",e.professor.nome," "),d.Eb(2),d.nc("selected",e.selectedTurma),d.Eb(2),d.nc("ngForOf",e.turmas)}}let h=(()=>{class e{constructor(e,t,i,o){this.professorService=e,this.router=t,this.route=i,this.sidebarService=o,this.menu=b,this.isLoading=!0,this.turmas=[],this.selectedTurma="",console.log(this.router.url),this.router.url.includes("/professor/home/")||"/professor"===this.router.url?this.getTurmas(!0):this.getTurmas(!1)}ngOnInit(){this.getProfessorDetalhes()}getProfessorDetalhes(){this.professorService.getProfessorDetalhes().subscribe(e=>{this.isLoading=!1,this.professor=e,localStorage.setItem("professor",JSON.stringify(this.professor))})}getTurmas(e){this.professorService.getTurmas().subscribe(t=>{if(this.isLoading=!1,this.turmas=t,localStorage.getItem("turmaSelected")){let e=JSON.parse(localStorage.getItem("turmaSelected")),t=this.turmas.filter(t=>t.id==e.id);this.selectedTurma=t[0]}else this.selectedTurma=this.turmas[0];e&&this.navigateToTurma(this.selectedTurma)})}navigateToTurma(e){console.log("Select turma",e),this.router.navigate(["/professor/home/"+e.id]),localStorage.setItem("turmaSelected",JSON.stringify(e))}navigate(e){return this.router.navigate([e]),!1}ngOnDestroy(){localStorage.removeItem("professor")}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(l.a),d.Rb(c.c),d.Rb(c.a),d.Rb(o.kb))},e.\u0275cmp=d.Lb({type:e,selectors:[["ngx-professor"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"items"],["sub-header","",1,"sub-header"],[1,"sub-header__displayname"],[1,"text-alternate","mb-0","subtitle"],[1,"sub-header__actions"],["placeholder","Selecione uma turma","filled","","status","primary",1,"mr-md-4","action__select",3,"selected","selectedChange"],["turmaSelect",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&d.Ec(0,f,11,4,"ngx-one-column-layout",0),2&e&&d.nc("ngIf",t.professor)},directives:[u.m,p.a,o.Y,o.gb,u.l,c.h,o.bb],encapsulation:2}),e})();var g=i("nYR2"),v=i("PSD3"),W=i.n(v),X=i("5+WD"),E=i("UBqL");function S(e,t){if(1&e&&(d.Xb(0,"div"),d.Gc(1),d.ic(2,"date"),d.ic(3,"date"),d.Sb(4,"nb-icon",37),d.Wb()),2&e){const e=d.hc();d.Eb(1),d.Jc(" ",d.kc(2,2,e.form.controls.prazoInicial.value,"dd/MM/yyyy")," | ",d.kc(3,5,e.form.controls.prazoInicial.value,"HH:mm")+"h "," ")}}function I(e,t){1&e&&(d.Xb(0,"div"),d.Gc(1," Data inicial "),d.Sb(2,"nb-icon",37),d.Wb())}function y(e,t){if(1&e&&(d.Xb(0,"div"),d.Gc(1),d.ic(2,"date"),d.ic(3,"date"),d.Sb(4,"nb-icon",37),d.Wb()),2&e){const e=d.hc();d.Eb(1),d.Jc(" ",d.kc(2,2,e.form.controls.prazoFinal.value,"dd/MM/yyyy")," | ",d.kc(3,5,e.form.controls.prazoFinal.value,"HH:mm")+"h "," ")}}function x(e,t){1&e&&(d.Xb(0,"div"),d.Gc(1," Prazo final "),d.Sb(2,"nb-icon",37),d.Wb())}function G(e,t){if(1&e&&(d.Xb(0,"nb-option",38),d.Gc(1),d.Wb()),2&e){const e=t.$implicit;d.nc("value",e.idProfessorDisciplina),d.Eb(1),d.Ic(" ",e.nome," ")}}function k(e,t){if(1&e&&(d.Xb(0,"nb-option",38),d.Gc(1),d.Wb()),2&e){const e=t.$implicit;d.nc("value",e.id),d.Eb(1),d.Hc(e.nome)}}function O(e,t){1&e&&d.Sb(0,"div",50)}function C(e,t){1&e&&d.Sb(0,"div",63)}function P(e,t){if(1&e){const e=d.Yb();d.Xb(0,"nb-card",56),d.Ec(1,C,1,0,"div",57),d.Xb(2,"nb-card-header",58),d.Sb(3,"nb-icon",41),d.Xb(4,"div",52),d.Gc(5),d.Wb(),d.Xb(6,"button",59),d.fc("click",(function(){d.wc(e);const i=t.index,o=d.hc(2).$implicit;return d.hc().deleteAlternativa(o.controls.alternativas,i)})),d.Sb(7,"nb-icon",43),d.Wb(),d.Wb(),d.Xb(8,"nb-card-body",60),d.Xb(9,"div",44),d.Sb(10,"input",61),d.Wb(),d.Xb(11,"nb-checkbox",62),d.Gc(12,"Esta \xe9 a resposta certa? "),d.Wb(),d.Wb(),d.Wb()}if(2&e){const e=t.index;d.Eb(5),d.Ic("Resposta ",e+1,""),d.Eb(3),d.nc("formGroupName",e),d.Eb(2),d.pc("placeholder","Resposta ",e+1,"")}}function D(e,t){if(1&e){const e=d.Yb();d.Xb(0,"nb-card",51),d.Xb(1,"nb-card-header"),d.Xb(2,"h6",52),d.Gc(3,"Alternativas"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body",30),d.fc("cdkDropListDropped",(function(t){return d.wc(e),d.hc(2).onDrop(t)})),d.Ec(5,P,13,3,"nb-card",53),d.Wb(),d.Xb(6,"nb-card-footer"),d.Xb(7,"div",54),d.Xb(8,"button",55),d.fc("click",(function(){d.wc(e);const t=d.hc().$implicit;return d.hc().addAlternativa(t.controls.alternativas)})),d.Sb(9,"nb-icon",34),d.Gc(10," Adicionar alternativa "),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){const e=d.hc().$implicit;d.Eb(4),d.nc("cdkDropListData",e.get("alternativas").controls),d.Eb(1),d.nc("ngForOf",e.get("alternativas").controls)}}function j(e,t){if(1&e){const e=d.Yb();d.Xb(0,"nb-accordion-item",39),d.Ec(1,O,1,0,"div",40),d.Xb(2,"nb-accordion-item-header"),d.Sb(3,"nb-icon",41),d.Xb(4,"div"),d.Xb(5,"span"),d.Gc(6),d.Wb(),d.Sb(7,"br"),d.Xb(8,"small"),d.Gc(9),d.Wb(),d.Wb(),d.Xb(10,"button",42),d.fc("click",(function(){d.wc(e);const i=t.index;return d.hc().deleteQuestoes(i)})),d.Sb(11,"nb-icon",43),d.Wb(),d.Wb(),d.Xb(12,"nb-accordion-item-body"),d.Xb(13,"div",44),d.Sb(14,"textarea",45),d.Wb(),d.Xb(15,"div",4),d.Xb(16,"div",46),d.Sb(17,"input",47),d.Wb(),d.Xb(18,"div",46),d.Xb(19,"nb-checkbox",48),d.Gc(20," Tem alternativas?"),d.Wb(),d.Wb(),d.Wb(),d.Ec(21,D,11,2,"nb-card",49),d.Wb(),d.Wb()}if(2&e){const e=t.$implicit,i=t.index;d.nc("formGroupName",i),d.Eb(6),d.Ic("Quest\xe3o ",i+1,""),d.Eb(3),d.Hc(e.controls.enunciado.value),d.Eb(12),d.nc("ngIf",e.get("isMultiplaEscolha").value)}}let A=(()=>{class e{constructor(e,t,i){this.formBuilder=e,this.ProfessorService=t,this.router=i,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[]}ngOnInit(){this.getTurmasProfessor(),this.getDetalhesProfessor(),this.createForm(),this.form.get("disciplina").valueChanges.subscribe(e=>{this.turmasFiltered=this.turmas.filter(t=>t.disciplinas.some(t=>t.idProfessorDisciplina==e))})}onDrop(e){e.previousContainer===e.container?Object(X.f)(e.container.data,e.previousIndex,e.currentIndex):Object(X.g)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}get questoes(){return this.form.get("questoes")}getTurmasProfessor(){this.ProfessorService.getTurmas().subscribe(e=>{this.isLoading=!1,this.turmas=e})}getDetalhesProfessor(){this.ProfessorService.getProfessorDetalhes().subscribe(e=>{this.isLoading=!1,this.disciplinas=e.disciplinas})}addQuestoes(){this.questoes.push(this.formBuilder.group({enunciado:["",s.A.required],pontos:["",s.A.required],isMultiplaEscolha:[!0,s.A.required],alternativas:this.formBuilder.array([])}))}deleteQuestoes(e){this.questoes.removeAt(e)}addAlternativa(e){e.push(this.formBuilder.group({texto:["",s.A.required],isResposta:[!1,s.A.required]}))}deleteAlternativa(e,t){e.removeAt(t)}filterDisciplinas(e){console.log(e)}createForm(){this.form=this.formBuilder.group({titulo:["",s.A.required],descricao:["",s.A.required],tipo:["",s.A.required],questoes:this.formBuilder.array([]),prazoInicial:["",s.A.required],prazoFinal:["",s.A.required],turmas:["",s.A.required],disciplina:["",s.A.required]})}createFormSimuladoTurma(){this.formSimuladoTurma=this.formBuilder.group({idSimulado:["",s.A.required],turmas:["",s.A.required],disciplina:["",s.A.required]})}Adicionar(){this.isLoading=!0;const e=Object.assign({},this.form.value);this.ProfessorService.criarSimulado(e).pipe(Object(g.a)(()=>{this.isLoading=!1})).subscribe(e=>{this.isLoading=!1,e&&this.inserirSimuladoTurma(e._id)})}inserirSimuladoTurma(e){this.isLoading=!0;let t={idSimulado:e,turmas:this.form.controls.turmas.value,idDisciplinaProfessor:this.form.controls.disciplina.value};console.log(t),this.ProfessorService.inserirSimuladoTurma(t).pipe(Object(g.a)(()=>{this.isLoading=!1})).subscribe(e=>{this.isLoading=!1,e&&(W.a.fire("Ok","Atividade adicionada com sucesso","success"),this.router.navigateByUrl("/atividades"))})}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(s.d),d.Rb(l.a),d.Rb(c.c))},e.\u0275cmp=d.Lb({type:e,selectors:[["nb-select-clean"]],decls:71,vars:17,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],["action","",3,"formGroup"],[1,"form-group","row"],["for","titulo",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","nbInput","","fullWidth","","id","titulo","placeholder","T\xedtulo","formControlName","titulo"],["for","descricao",1,"label","col-sm-2","col-form-label"],["type","text","nbInput","","fullWidth","","id","descricao","placeholder","Descri\xe7\xe3o","formControlName","descricao"],["for","tipo",1,"label","col-sm-2","col-form-label"],["fullWidth","","id","tipo","placeholder","Selecione um Tipo","formControlName","tipo"],["value","Exercicio"],["value","Prova"],["value","Simulado"],["for","prazoInicial",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10","d-flex"],[1,"mr-2","timepicker"],[1,"timepicker__placeholder","btn","btn-outline-secondary"],[4,"ngIf"],["type","text","nbInput","","id","prazoInicial","placeholder","Data Inicio","formControlName","prazoInicial","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],[1,"timepicker"],["type","text","nbInput","","id","prazoFinal","placeholder","Prazo Final","formControlName","prazoFinal","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],["for","disciplina",1,"label","col-sm-2","col-form-label"],["placeholder","Selecione a disciplina","id","disciplina","formControlName","disciplina"],[3,"value",4,"ngFor","ngForOf"],["for","turmas",1,"label","col-sm-2","col-form-label"],["multiple","","placeholder","Selecione as turmas","id","turmas","formControlName","turmas",3,"selectedChange"],["formArrayName","questoes",1,"form-group","row"],["for","questao",1,"label","col-sm-2","col-form-label"],["cdkDropList","",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"offset-sm-2","col-sm-10","mb-4"],["type","button","nbButton","","status","info","size","small",3,"click"],["icon","plus-outline"],[1,"offset-sm-2","col-sm-10"],["type","submit","nbButton","","status","primary",3,"disabled","click"],["icon","calendar-outline",1,"text-hint"],[3,"value"],["cdkDrag","",3,"formGroupName"],["class","questao-placeholder",4,"cdkDragPlaceholder"],["icon","move-outline","cdkDragHandle","",1,"mr-4","text-disabled"],["type","button","nbButton","","status","danger","size","tiny",1,"ml-auto","mr-5",3,"click"],["icon","trash-2-outline"],[1,"form-group"],["type","text","nbInput","","fullWidth","","id","enunciado","placeholder","Enunciado","formControlName","enunciado"],[1,"col-sm-6"],["type","number","min","1","max","10","nbInput","","fullWidth","","id","pontos","placeholder","Pontos","formControlName","pontos"],["id","isMultiplaEscolha","formControlName","isMultiplaEscolha"],["formArrayName","alternativas",4,"ngIf"],[1,"questao-placeholder"],["formArrayName","alternativas"],[1,"subtitle"],["accent","info","cdkDrag","",4,"ngFor","ngForOf"],[1,"text-center"],["nbButton","","status","info","size","small","status","primary","type","button",3,"click"],["accent","info","cdkDrag",""],["class","alternativa-placeholder",4,"cdkDragPlaceholder"],[1,"d-flex"],["type","button","nbButton","","status","danger","size","tiny",1,"ml-auto",3,"click"],[3,"formGroupName"],["type","text","nbInput","","fullWidth","","formControlName","texto",3,"placeholder"],["formControlName","isResposta"],[1,"alternativa-placeholder"]],template:function(e,t){1&e&&(d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"div",1),d.Xb(3,"div",2),d.Xb(4,"h4"),d.Gc(5,"Criar atividade"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"nb-card-body"),d.Xb(7,"form",3),d.Xb(8,"div",4),d.Xb(9,"label",5),d.Gc(10,"T\xedtulo"),d.Wb(),d.Xb(11,"div",6),d.Sb(12,"input",7),d.Wb(),d.Wb(),d.Xb(13,"div",4),d.Xb(14,"label",8),d.Gc(15,"Descri\xe7\xe3o"),d.Wb(),d.Xb(16,"div",6),d.Sb(17,"input",9),d.Wb(),d.Wb(),d.Xb(18,"div",4),d.Xb(19,"label",10),d.Gc(20,"Tipo"),d.Wb(),d.Xb(21,"div",6),d.Xb(22,"nb-select",11),d.Xb(23,"nb-option",12),d.Gc(24,"Exerc\xedcio"),d.Wb(),d.Xb(25,"nb-option",13),d.Gc(26,"Avalia\xe7\xe3o"),d.Wb(),d.Xb(27,"nb-option",14),d.Gc(28,"Simulado"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(29,"div",4),d.Xb(30,"label",15),d.Gc(31,"Prazo"),d.Wb(),d.Xb(32,"div",16),d.Xb(33,"div",17),d.Xb(34,"div",18),d.Xb(35,"div"),d.Ec(36,S,5,8,"div",19),d.Ec(37,I,3,0,"div",19),d.Wb(),d.Wb(),d.Sb(38,"input",20),d.Wb(),d.Xb(39,"div",21),d.Xb(40,"div",18),d.Xb(41,"div"),d.Ec(42,y,5,8,"div",19),d.Ec(43,x,3,0,"div",19),d.Wb(),d.Wb(),d.Sb(44,"input",22),d.Wb(),d.Wb(),d.Wb(),d.Xb(45,"div",4),d.Xb(46,"label",23),d.Gc(47,"Disciplina"),d.Wb(),d.Xb(48,"div",16),d.Xb(49,"nb-select",24),d.Ec(50,G,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Xb(51,"div",4),d.Xb(52,"label",26),d.Gc(53,"Turmas"),d.Wb(),d.Xb(54,"div",16),d.Xb(55,"nb-select",27),d.fc("selectedChange",(function(e){return t.filterDisciplinas(e)})),d.Ec(56,k,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Xb(57,"div",28),d.Xb(58,"label",29),d.Gc(59," Quest\xf5es:"),d.Wb(),d.Xb(60,"div",6),d.Xb(61,"nb-accordion",30),d.fc("cdkDropListDropped",(function(e){return t.onDrop(e)})),d.Ec(62,j,22,4,"nb-accordion-item",31),d.Wb(),d.Wb(),d.Wb(),d.Xb(63,"div",4),d.Xb(64,"div",32),d.Xb(65,"button",33),d.fc("click",(function(){return t.addQuestoes()})),d.Sb(66,"nb-icon",34),d.Gc(67," Adicionar quest\xe3o "),d.Wb(),d.Wb(),d.Xb(68,"div",35),d.Xb(69,"button",36),d.fc("click",(function(){return t.Adicionar()})),d.Gc(70,"Adicionar"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.nc("nbSpinner",t.isLoading),d.Eb(7),d.nc("formGroup",t.form),d.Eb(29),d.nc("ngIf",t.form.controls.prazoInicial.value),d.Eb(1),d.nc("ngIf",!t.form.controls.prazoInicial.value),d.Eb(1),d.nc("altInput",!1)("enableTime",!0)("time24hr",!0),d.Eb(4),d.nc("ngIf",t.form.controls.prazoFinal.value),d.Eb(1),d.nc("ngIf",!t.form.controls.prazoFinal.value),d.Eb(1),d.nc("altInput",!1)("enableTime",!0)("time24hr",!0),d.Eb(6),d.nc("ngForOf",t.disciplinas),d.Eb(6),d.nc("ngForOf",t.turmasFiltered),d.Eb(5),d.nc("cdkDropListData",t.questoes.controls),d.Eb(1),d.nc("ngForOf",t.questoes.controls),d.Eb(7),d.nc("disabled",t.form.invalid||t.isLoading))},directives:[o.x,o.lb,o.z,o.w,s.C,s.q,s.h,o.L,s.b,s.p,s.g,o.gb,o.bb,u.m,E.b,u.l,s.c,o.g,X.d,o.s,o.I,o.i,X.a,s.i,X.c,o.j,X.b,o.h,s.v,o.C,o.y],pipes:[u.e],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;padding:1.25rem}.cdk-drag-animating[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.questao-placeholder[_ngcontent-%COMP%]{min-height:60px}.alternativa-placeholder[_ngcontent-%COMP%], .questao-placeholder[_ngcontent-%COMP%]{background:#fff6f6;border:3px dotted #ddd;transition:transform .25s cubic-bezier(0,0,.2,1)}.alternativa-placeholder[_ngcontent-%COMP%]{min-height:100px}"]}),e})();var M=i("cp0P");function T(e,t){1&e&&d.Sb(0,"nb-icon",26)}function F(e,t){1&e&&d.Sb(0,"nb-icon",27)}function w(e,t){if(1&e&&(d.Xb(0,"div"),d.Ec(1,T,1,0,"nb-icon",24),d.Ec(2,F,1,0,"nb-icon",25),d.Xb(3,"span"),d.Gc(4),d.Wb(),d.Wb()),2&e){const e=t.$implicit;d.Eb(1),d.nc("ngIf",e.isResposta),d.Eb(1),d.nc("ngIf",!e.isResposta),d.Eb(2),d.Hc(e.texto)}}function L(e,t){if(1&e&&(d.Xb(0,"div",22),d.Xb(1,"div"),d.Ec(2,w,5,3,"div",23),d.Wb(),d.Wb()),2&e){const e=d.hc(2).$implicit;d.Eb(2),d.nc("ngForOf",e.alternativas)}}const z=function(e,t){return{"badge-success":e,"badge-danger":t}};function H(e,t){if(1&e&&(d.Xb(0,"div",28),d.Xb(1,"div",0),d.Xb(2,"div",29),d.Sb(3,"nb-icon",30),d.Gc(4),d.Wb(),d.Xb(5,"div",31),d.Xb(6,"span",32),d.Gc(7),d.Wb(),d.Wb(),d.Wb(),d.Sb(8,"hr",33),d.Wb()),2&e){const e=t.$implicit;d.Eb(4),d.Ic(" ",e.aluno.nome," "),d.Eb(2),d.nc("ngClass",d.sc(3,z,e.acertou,!e.acertou)),d.Eb(1),d.Ic(" ",e.acertou?"Acertou":"Errou"," ")}}function _(e,t){if(1&e&&(d.Xb(0,"div"),d.Ec(1,L,3,1,"div",18),d.Xb(2,"nb-accordion"),d.Xb(3,"nb-accordion-item"),d.Xb(4,"nb-accordion-item-header"),d.Xb(5,"h6",19),d.Sb(6,"nb-icon",20),d.Gc(7," Respostas dos alunos: "),d.Wb(),d.Wb(),d.Xb(8,"nb-accordion-item-body"),d.Ec(9,H,9,6,"div",21),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(1),d.nc("ngIf",e.isMultiplaEscolha),d.Eb(8),d.nc("ngForOf",e.respostasAlunos)}}function R(e,t){if(1&e&&(d.Xb(0,"div",39),d.Xb(1,"span",32),d.Gc(2),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(1),d.nc("ngClass",d.sc(2,z,e.acertou,!e.acertou)),d.Eb(1),d.Ic(" ",e.acertou?"Acertou":"Errou"," ")}}function q(e,t){if(1&e&&(d.Xb(0,"div",39),d.Xb(1,"span",40),d.Gc(2),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(2),d.Ic(" ",e.comentarioProfessor," ")}}const N=function(e){return[e]};function $(e,t){if(1&e){const e=d.Yb();d.Xb(0,"nb-accordion-item-body",34),d.Xb(1,"div",41),d.Xb(2,"textarea",42),d.fc("ngModelChange",(function(t){return d.wc(e),[d.hc().$implicit.idResposta].comentarioProfessor=t})),d.Wb(),d.Wb(),d.Xb(3,"div",41),d.Xb(4,"nb-radio-group",43),d.fc("ngModelChange",(function(t){return d.wc(e),[d.hc().$implicit.idResposta].acertou=t})),d.Xb(5,"nb-radio",44),d.Gc(6," Acertou "),d.Wb(),d.Xb(7,"nb-radio",44),d.Gc(8," Errou "),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){const e=d.hc().$implicit;d.oc("ngModelGroup",e.idResposta),d.Eb(2),d.pc("placeholder","Deseja comentar a resposta de ",e.aluno.nome," ?"),d.nc("ngModel",d.rc(7,N,e.idResposta).comentarioProfessor),d.Eb(2),d.pc("name","acertou_",e.idResposta,""),d.nc("ngModel",d.rc(9,N,e.idResposta).acertou),d.Eb(1),d.nc("value",!0),d.Eb(2),d.nc("value",!1)}}function B(e,t){if(1&e&&(d.Xb(0,"nb-accordion-item-body"),d.Xb(1,"nb-card",45),d.Xb(2,"nb-card-header"),d.Xb(3,"h6",19),d.Sb(4,"nb-icon",20),d.Gc(5," Sua resposta "),d.Wb(),d.Wb(),d.Xb(6,"nb-card-body"),d.Xb(7,"div",41),d.Xb(8,"p"),d.Sb(9,"nb-icon",37),d.Gc(10),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(1),d.nc("accent",e.acertou?"success":"danger"),d.Eb(9),d.Ic(" ",e.comentarioProfessor," ")}}function J(e,t){if(1&e&&(d.Xb(0,"nb-accordion-item"),d.Xb(1,"nb-accordion-item-header"),d.Xb(2,"div"),d.Xb(3,"span"),d.Sb(4,"nb-icon",30),d.Gc(5),d.Wb(),d.Sb(6,"br"),d.Xb(7,"small"),d.Sb(8,"nb-icon",37),d.Gc(9),d.Wb(),d.Wb(),d.Ec(10,R,3,5,"div",38),d.Ec(11,q,3,1,"div",38),d.Wb(),d.Ec(12,$,9,11,"nb-accordion-item-body",17),d.Ec(13,B,11,2,"nb-accordion-item-body",4),d.Wb()),2&e){const e=t.$implicit,i=d.hc(5);d.Eb(5),d.Ic(" ",e.aluno.nome," "),d.Eb(4),d.Ic(" ",e.respostaAberta," "),d.Eb(1),d.nc("ngIf",e.comentarioProfessor!=i.strRespostaProfessor),d.Eb(1),d.nc("ngIf",e.comentarioProfessor==i.strRespostaProfessor),d.Eb(1),d.nc("ngIf",e.comentarioProfessor==i.strRespostaProfessor),d.Eb(1),d.nc("ngIf",e.comentarioProfessor!=i.strRespostaProfessor)}}function Y(e,t){if(1&e&&(d.Xb(0,"div",36),d.Xb(1,"h6",19),d.Sb(2,"nb-icon",20),d.Gc(3," Respostas dos alunos: "),d.Wb(),d.Xb(4,"nb-accordion"),d.Ec(5,J,14,6,"nb-accordion-item",23),d.Wb(),d.Wb()),2&e){const e=d.hc(2).$implicit;d.Eb(5),d.nc("ngForOf",e.respostasAlunos)}}function Q(e,t){if(1&e&&(d.Xb(0,"div",34),d.Ec(1,Y,6,1,"div",35),d.Wb()),2&e){const e=d.hc().$implicit;d.oc("ngModelGroup",e.id),d.Eb(1),d.nc("ngIf",e.respostasAlunos.length>0)}}function V(e,t){if(1&e&&(d.Xb(0,"nb-card",13),d.Xb(1,"nb-card-header",14),d.Xb(2,"h6"),d.Gc(3),d.Wb(),d.Xb(4,"div",15),d.Gc(5),d.Wb(),d.Wb(),d.Xb(6,"nb-card-body"),d.Xb(7,"h6",16),d.Gc(8),d.Wb(),d.Ec(9,_,10,2,"div",4),d.Ec(10,Q,2,2,"div",17),d.Wb(),d.Wb()),2&e){const e=t.$implicit,i=t.index;d.Eb(3),d.Ic("Quest\xe3o ",i+1," "),d.Eb(2),d.Ic(" Pontos: ",e.pontos," "),d.Eb(3),d.Hc(e.enunciado),d.Eb(1),d.nc("ngIf",e.alternativas&&0!=e.alternativas.length),d.Eb(1),d.nc("ngIf",e.alternativas&&0==e.alternativas.length)}}function K(e,t){1&e&&(d.Xb(0,"button",46),d.Gc(1,"Corrigir atividade"),d.Wb())}function U(e,t){if(1&e){const e=d.Yb();d.Xb(0,"div",5),d.Xb(1,"nb-tabset"),d.Xb(2,"nb-tab",6),d.Xb(3,"form",7,8),d.fc("ngSubmit",(function(){d.wc(e);const t=d.uc(4);return d.hc().submitForm(t.value)})),d.Ec(5,V,11,5,"nb-card",9),d.Ec(6,K,2,0,"button",10),d.Wb(),d.Wb(),d.Xb(7,"nb-tab",11),d.Sb(8,"ng2-smart-table",12),d.Wb(),d.Wb(),d.Wb()}if(2&e){const e=d.hc();d.Eb(3),d.nc("nbSpinner",e.isLoading),d.Eb(2),d.nc("ngForOf",e.atividade.questoes),d.Eb(1),d.nc("ngIf",!e.atividade.isExecutado),d.Eb(2),d.nc("settings",e.settings)("source",e.source)}}function Z(e,t){if(1&e&&(d.Xb(0,"div",47),d.Xb(1,"div",48),d.Sb(2,"nb-icon",26),d.Wb(),d.Xb(3,"div"),d.Xb(4,"h6",16),d.Gc(5,"Pontua\xe7\xe3o obtida "),d.Xb(6,"strong"),d.Xb(7,"span",55),d.Gc(8),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=d.hc(2);d.Eb(7),d.nc("ngClass",d.sc(2,z,e.atividade.pontuacaoObtida>0,0==e.atividade.pontuacaoObtida)),d.Eb(1),d.Hc(e.atividade.pontuacaoObtida)}}function ee(e,t){if(1&e&&(d.Xb(0,"nb-card-body"),d.Xb(1,"div",47),d.Xb(2,"div",48),d.Sb(3,"nb-icon",49),d.Wb(),d.Xb(4,"div"),d.Xb(5,"small",50),d.Gc(6),d.Wb(),d.Xb(7,"h6",16),d.Gc(8),d.Wb(),d.Xb(9,"p",51),d.Gc(10),d.Wb(),d.Wb(),d.Wb(),d.Xb(11,"div",47),d.Xb(12,"div",48),d.Sb(13,"nb-icon",52),d.Wb(),d.Xb(14,"div"),d.Xb(15,"h6",16),d.Gc(16,"Prazo final: "),d.Xb(17,"strong"),d.Gc(18),d.ic(19,"date"),d.ic(20,"date"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"div",47),d.Xb(22,"div",48),d.Sb(23,"nb-icon",53),d.Wb(),d.Xb(24,"div"),d.Xb(25,"h6",16),d.Gc(26,"Professor "),d.Xb(27,"strong"),d.Gc(28),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Ec(29,Z,9,5,"div",54),d.Wb()),2&e){const e=d.hc();d.Eb(6),d.Hc(e.atividade.tipo),d.Eb(2),d.Hc(e.atividade.titulo),d.Eb(2),d.Hc(e.atividade.descricao),d.Eb(8),d.Jc("",d.kc(19,7,e.atividade.prazoFinal,"dd/MM/yyyy")," as ",d.kc(20,10,e.atividade.prazoFinal,"HH:mm")+"h ",""),d.Eb(10),d.Hc(e.atividade.professor.nome),d.Eb(1),d.nc("ngIf",e.atividade.isExecutado)}}let te=(()=>{class e{constructor(e,t){this.route=e,this.professorService=t,this.isLoading=!0,this.strRespostaProfessor="Aguardando corre\xe7\xe3o do professor",this.settings={hideSubHeader:!0,noDataMessage:"N\xe3o h\xe1 nenhum dado para exibir",actions:{add:!1,position:"right",columnTitle:"A\xe7\xf5es",edit:!1,delete:!1},columns:{aluno:{title:"Aluno",type:"string",editable:!1,valuePrepareFunction:(e,t)=>e.nome},pontuacaoObtida:{title:"Pontua\xe7\xe3o na atividade",type:"string",editable:!1}}},this.source=new a.a,this.teste=[{id:"",acertou:"",comentarioProfessor:""}],this.route.paramMap.subscribe(e=>{this.atividadeId=e.get("id"),this.turmaId=e.get("turmaid"),console.log("Turma id sala",this.atividadeId),this.getAtividade(this.atividadeId)})}ngOnInit(){}getAtividade(e){this.isLoading=!0,Object(M.a)([this.professorService.getAtividade(e),this.professorService.getRespostasAlunos(e)]).subscribe(e=>{this.isLoading=!1,this.atividade=e[0],this.respostasAlunos=e[1],this.source.load(this.respostasAlunos)})}getValueOfKey(e){for(const[t,i]of Object.entries(e))if(t.includes("acertou"))return i}submitForm(e){this.isLoading=!0;let t=[];for(const[i,o]of Object.entries(e)){let e=o,n=[];for(const[t,i]of Object.entries(e))console.log("respostaAluno",t),console.log("respostaAlunoValues",i),i.comentarioProfessor&&null!=this.getValueOfKey(i)&&n.push({id:t,comentarioProfessor:i.comentarioProfessor,acertou:this.getValueOfKey(i)});0!=n.length&&t.push({id:i,respostasAlunos:n})}console.log("Respostas >>>>",t),this.professorService.enviarRespostas(this.atividadeId,t).subscribe(e=>{this.isLoading=!1,e&&(W.a.fire("Ok","Atividade respondida com sucesso","success"),this.getAtividade(this.atividadeId))},e=>{this.isLoading=!1})}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(c.a),d.Rb(l.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["ngx-atividade"]],decls:8,vars:3,consts:[[1,"row"],["class","col-sm-9",4,"ngIf"],[1,"col-sm-3"],["nbSpinnerStatus","primary","nbSpinnerSize","large",3,"nbSpinner"],[4,"ngIf"],[1,"col-sm-9"],["tabTitle","Quest\xf5es"],["action","","nbSpinnerSize","giant","nbSpinnerStatus","primary",3,"nbSpinner","ngSubmit"],["form","ngForm"],["class","shadow",4,"ngFor","ngForOf"],["type","submit","nbButton","","status","primary",4,"ngIf"],["tabTitle","Pontua\xe7\xf5es"],[3,"settings","source"],[1,"shadow"],[1,"d-flex","align-items-center",2,"position","relative"],[1,"ml-auto","subtitle-2","text-hint"],[1,"subtitle"],[3,"ngModelGroup",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"subtitle-2","text-hint"],["icon","people-outline",1,"text-hint"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-4"],[4,"ngFor","ngForOf"],["icon","checkmark-outline","class","text-success",4,"ngIf"],["icon","close-outline","class","text-danger",4,"ngIf"],["icon","checkmark-outline",1,"text-success"],["icon","close-outline",1,"text-danger"],[1,"mb-3"],[1,"col-sm-6"],["icon","person-outline",1,"mr-2","text-hint"],[1,"col-sm-6","text-right"],["type","button","status","primary","size","tiny",1,"badge","p-1",3,"ngClass"],[1,"text-hint"],[3,"ngModelGroup"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["icon","corner-down-right-outline",1,"mr-2","text-disabled"],["class","ml-auto text-right mr-5 d-flex align-items-center",4,"ngIf"],[1,"ml-auto","text-right","mr-5","d-flex","align-items-center"],["type","button","status","primary","size","tiny",1,"badge","p-1","badge-secondary"],[1,"form-group"],["nbInput","","fullWidth","","name","comentarioProfessor",3,"ngModel","placeholder","ngModelChange"],[3,"ngModel","name","ngModelChange"],[3,"value"],[3,"accent"],["type","submit","nbButton","","status","primary"],[1,"d-flex"],[1,"mr-3"],["icon","edit-2-outline"],[1,"badge","badge-primary","design"],[1,"paragraph-2","text-hint"],["icon","calendar-outline"],["icon","person-outline"],["class","d-flex",4,"ngIf"],[1,"badge","badge-pill",3,"ngClass"]],template:function(e,t){1&e&&(d.Xb(0,"div",0),d.Ec(1,U,9,5,"div",1),d.Xb(2,"div",2),d.Xb(3,"nb-card",3),d.Xb(4,"nb-card-header"),d.Xb(5,"h6"),d.Gc(6,"Atividade"),d.Wb(),d.Wb(),d.Ec(7,ee,30,13,"nb-card-body",4),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(1),d.nc("ngIf",t.atividade),d.Eb(2),d.nc("nbSpinner",t.isLoading),d.Eb(4),d.nc("ngIf",t.atividade))},directives:[u.m,o.x,o.lb,o.z,o.pb,o.ob,s.C,s.q,s.r,u.l,a.b,o.w,o.g,o.i,o.j,o.I,o.h,u.k,s.t,o.L,s.b,s.p,s.s,o.db,o.cb,o.s],pipes:[u.e],styles:["[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding-left:0;padding-right:0}"]}),e})();function ie(e,t){if(1&e&&(d.Xb(0,"div",12),d.Xb(1,"div",13),d.Sb(2,"nb-icon",14),d.Wb(),d.Xb(3,"div"),d.Xb(4,"small",15),d.Gc(5),d.Wb(),d.Xb(6,"h6",16),d.Gc(7),d.Wb(),d.Xb(8,"p",17),d.Gc(9),d.Wb(),d.Wb(),d.Xb(10,"div",18),d.Xb(11,"div"),d.Xb(12,"small"),d.Gc(13),d.ic(14,"date"),d.Wb(),d.Sb(15,"br"),d.Xb(16,"small"),d.Gc(17),d.ic(18,"date"),d.Wb(),d.Xb(19,"small"),d.Gc(20),d.ic(21,"date"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit;d.Eb(4),d.Dc("background-color",e.disciplina.cor),d.Eb(1),d.Hc(e.disciplina.nome),d.Eb(2),d.Hc(e.objeto.titulo),d.Eb(2),d.Hc(e.objeto.descricao),d.Eb(4),d.Hc(d.kc(14,8,e.objeto.dataInicio,"dd/MM/yyyy")),d.Eb(4),d.Ic("De ",d.kc(18,11,e.objeto.dataInicio,"HH:mm"),"h"),d.Eb(3),d.Ic(" as ",d.kc(21,14,e.objeto.dataFim,"HH:mm"),"h")}}const oe=function(e){return[e]};function ne(e,t){if(1&e&&(d.Xb(0,"nb-card",19),d.Xb(1,"nb-card-body",20),d.Xb(2,"div",13),d.Sb(3,"nb-icon",21),d.Wb(),d.Xb(4,"div"),d.Xb(5,"small",15),d.Gc(6),d.Wb(),d.Xb(7,"div",12),d.Xb(8,"h6",16),d.Gc(9),d.Wb(),d.Wb(),d.Xb(10,"p",17),d.Gc(11),d.Wb(),d.Wb(),d.Xb(12,"div",22),d.Xb(13,"div",23),d.Xb(14,"small",24),d.Gc(15,"Ao vivo agora"),d.Wb(),d.Xb(16,"div"),d.Xb(17,"small"),d.Gc(18),d.ic(19,"date"),d.Wb(),d.Sb(20,"br"),d.Xb(21,"small"),d.Gc(22),d.ic(23,"date"),d.Wb(),d.Xb(24,"small"),d.Gc(25),d.ic(26,"date"),d.Wb(),d.Wb(),d.Wb(),d.Xb(27,"div",25),d.Xb(28,"button",26),d.Gc(29,"Acessar sala de aula"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=d.hc().$implicit,t=d.hc(2);d.Eb(5),d.Dc("background-color",e.disciplina.cor),d.Eb(1),d.Hc(e.disciplina.nome),d.Eb(3),d.Hc(e.objeto.titulo),d.Eb(2),d.Hc(e.objeto.descricao),d.Eb(7),d.Hc(d.kc(19,9,e.objeto.dataInicio,"dd/MM/yyyy")),d.Eb(4),d.Ic("De ",d.kc(23,12,e.objeto.dataInicio,"HH:mm"),"h"),d.Eb(3),d.Ic(" as ",d.kc(26,15,e.objeto.dataFim,"HH:mm"),"h"),d.Eb(3),d.nc("routerLink",d.rc(18,oe,"/professor/sala/"+t.selectedTurma.id))}}function ae(e,t){if(1&e&&(d.Xb(0,"div"),d.Ec(1,ie,22,17,"div",10),d.Ec(2,ne,30,20,"nb-card",11),d.Wb()),2&e){const e=t.$implicit;d.Eb(1),d.nc("ngIf",!e.objeto.aovivo),d.Eb(1),d.nc("ngIf",e.objeto.aovivo)}}function re(e,t){if(1&e&&(d.Xb(0,"div",8),d.Ec(1,ae,3,2,"div",9),d.Wb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",e.aulas)}}const se=function(){return["/professor/planejamento/criar"]};function ce(e,t){1&e&&(d.Xb(0,"div"),d.Xb(1,"nb-card",27),d.Xb(2,"nb-card-body",28),d.Xb(3,"p",29),d.Gc(4,"Nenhuma aula pr\xf3xima. "),d.Sb(5,"br"),d.Gc(6," Talvez voc\xea deseje criar seu planejamento de aulas."),d.Wb(),d.Xb(7,"a",30),d.Gc(8,"Criar planejamento de aulas +"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(7),d.nc("routerLink",d.qc(1,se)))}function be(e,t){1&e&&d.Sb(0,"nb-icon",37)}function le(e,t){1&e&&d.Sb(0,"nb-icon",38)}const de=function(e){return{"text-hint":e}};function ue(e,t){if(1&e&&(d.Xb(0,"div",33),d.Xb(1,"div",13),d.Ec(2,be,1,0,"nb-icon",34),d.Ec(3,le,1,0,"nb-icon",35),d.Wb(),d.Xb(4,"div"),d.Xb(5,"small",15),d.Gc(6),d.Wb(),d.Xb(7,"h6",36),d.Gc(8),d.Wb(),d.Xb(9,"p",17),d.Gc(10),d.Wb(),d.Wb(),d.Xb(11,"div",18),d.Xb(12,"div"),d.Xb(13,"small"),d.Gc(14),d.ic(15,"date"),d.ic(16,"date"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=t.$implicit;d.Dc("border-left-color",e.disciplina.cor),d.nc("routerLink",d.rc(17,oe,"/professor/atividade/"+e.objeto._id)),d.Eb(2),d.nc("ngIf",!e.objeto.isExecutado),d.Eb(1),d.nc("ngIf",e.objeto.isExecutado),d.Eb(3),d.Hc(e.disciplina.nome),d.Eb(1),d.nc("ngClass",d.rc(19,de,e.objeto.isExecutado)),d.Eb(1),d.Ic(" ",e.objeto.titulo,""),d.Eb(2),d.Hc(e.objeto.descricao),d.Eb(4),d.Jc("Prazo: ",d.kc(15,11,e.objeto.prazoFinal,"dd/MM/yyyy")," as ",d.kc(16,14,e.objeto.prazoFinal,"HH:mm")+"h ","")}}function pe(e,t){if(1&e&&(d.Xb(0,"div",31),d.Ec(1,ue,17,21,"div",32),d.Wb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",e.atividades)}}const me=function(){return["/professor/atividades/criar"]};function fe(e,t){1&e&&(d.Xb(0,"div"),d.Xb(1,"nb-card"),d.Xb(2,"nb-card-body",28),d.Xb(3,"p",29),d.Gc(4,"N\xe3o h\xe1 atividades recententes. "),d.Sb(5,"br"),d.Gc(6," Deseja cadastar uma nova atividade?"),d.Wb(),d.Xb(7,"a",30),d.Gc(8,"Criar nova atividade +"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(7),d.nc("routerLink",d.qc(1,me)))}let he=(()=>{class e{constructor(e,t){this.professorService=e,this.route=t,this.disciplinas=[],this.simulados=[],this.turmas=[],this.timelineLoading=!0,this.aulas=[],this.atividades=[],this.route.paramMap.subscribe(e=>{this.turmaId=e.get("id"),this.getTimeline(this.turmaId)}),this.professorDetalhe=this.professorService.professorDetalhe}ngOnInit(){}get alunodetalhe(){if(localStorage.getItem("aluno"))return JSON.parse(localStorage.getItem("aluno"))}get selectedTurma(){if(localStorage.getItem("turmaSelected"))return JSON.parse(localStorage.getItem("turmaSelected"))}getTimeline(e){Object(M.a)([this.professorService.getTimelineAulas(e),this.professorService.getTimelineAtividades(e)]).subscribe(e=>{this.filtrarAulas(e[0]),this.filtrarAtividades(e[1]),this.timelineLoading=!1})}filtrarAtividades(e){this.atividades=e.filter(e=>e.objeto.professor==this.professorDetalhe.id),this.atividades=this.atividades.sort((e,t)=>new Date(t.objeto.prazoFinal)-new Date(e.objeto.prazoFinal))}filtrarAulas(e){(e=e.filter(e=>e.disciplina.professor.id==this.professorDetalhe.id)).forEach(e=>{e.objeto.aovivo=this.compareDates(e.objeto.dataInicio,e.objeto.dataFim)}),this.aulas=e}compareDates(e,t){let i=new Date,o=new Date(e),n=new Date(t);return o.getTime()<i.getTime()&&n.getTime()>i.getTime()}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(l.a),d.Rb(c.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["ngx-home"]],decls:17,vars:6,consts:[[1,"row"],[1,"col-md-7"],["accent","info","nbSpinnerStatus","primary","nbSpinnerSize","large",1,"shadow-lg",3,"nbSpinner"],["class","p-4",4,"ngIf"],[4,"ngIf"],[1,"col-md-5"],["tabTitle","Atividades recentes",1,"atividades__lista"],["class","atividades__lista-itens",4,"ngIf"],[1,"p-4"],[4,"ngFor","ngForOf"],["class","d-flex",4,"ngIf"],["class","shadow","accent","danger",4,"ngIf"],[1,"d-flex"],[1,"mr-3"],["icon","calendar-outline",1,"text-disabled"],[1,"badge","badge-primary"],[1,"subtitle"],[1,"paragraph-2","text-hint"],[1,"ml-auto","d-flex"],["accent","danger",1,"shadow"],[1,"d-flex","align-items-center"],["icon","play-circle-outline"],[1,"ml-auto"],[1,"mb-3","d-flex","align-items-center"],[1,"d-block","mb-2","badge","badge-danger","mr-4","p-2"],[1,"text-right"],["nbButton","","size","small","shape","round","hero","","status","info",1,"shadow",3,"routerLink"],[1,"m-4"],[1,"text-center","p-4"],[1,"text-muted"],["nbButton","","nbButton","","hero","","shape","round","status","primary",1,"shadow",3,"routerLink"],[1,"atividades__lista-itens"],["class","d-flex atividades__lista-item","style","cursor:pointer",3,"routerLink","border-left-color",4,"ngFor","ngForOf"],[1,"d-flex","atividades__lista-item",2,"cursor","pointer",3,"routerLink"],["icon","edit-2-outline","class","text-disabled",4,"ngIf"],["icon","checkmark-outline","class","text-success",4,"ngIf"],[1,"subtitle",3,"ngClass"],["icon","edit-2-outline",1,"text-disabled"],["icon","checkmark-outline",1,"text-success"]],template:function(e,t){1&e&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"nb-card",2),d.Xb(3,"nb-card-header"),d.Xb(4,"h6"),d.Gc(5,"Suas pr\xf3ximas aulas"),d.Wb(),d.Wb(),d.Ec(6,re,2,1,"div",3),d.Ec(7,ce,9,2,"div",4),d.Wb(),d.Wb(),d.Xb(8,"div",5),d.Xb(9,"nb-card",2),d.Xb(10,"nb-card-header"),d.Xb(11,"h6"),d.Gc(12,"Atividades recentes"),d.Wb(),d.Wb(),d.Xb(13,"nb-tabset"),d.Xb(14,"nb-tab",6),d.Ec(15,pe,2,1,"div",7),d.Ec(16,fe,9,2,"div",4),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(2),d.nc("nbSpinner",t.timelineLoading),d.Eb(4),d.nc("ngIf",t.aulas&&t.aulas.length>0&&!t.timelineLoading),d.Eb(1),d.nc("ngIf",t.aulas&&0==t.aulas.length&&!t.timelineLoading),d.Eb(2),d.nc("nbSpinner",t.timelineLoading),d.Eb(6),d.nc("ngIf",t.atividades&&t.atividades.length>0&&!t.timelineLoading),d.Eb(1),d.nc("ngIf",t.atividades&&0==t.atividades.length&&!t.timelineLoading))},directives:[o.x,o.lb,o.z,u.m,o.pb,o.ob,u.l,o.I,o.w,o.s,c.d,c.f,u.k],pipes:[u.e],styles:[".disciplina[_ngcontent-%COMP%]{border-left:3px solid}.webdesign[_ngcontent-%COMP%]{border-left-color:#8a2be2}.design[_ngcontent-%COMP%]{border-left-color:#ff8c00}.teste[_ngcontent-%COMP%]{border-left-color:#ff004c}.badge.webdesign[_ngcontent-%COMP%]{background-color:#8a2be2}.badge.design[_ngcontent-%COMP%]{background-color:#ff8c00}.badge.teste[_ngcontent-%COMP%]{background-color:#ff004c}"]}),e})();var ge=i("jhN1");function ve(e,t){if(1&e){const e=d.Yb();d.Xb(0,"button",8),d.fc("click",(function(){return d.wc(e),d.hc().fullScreenMode=!0})),d.Gc(1,"Visualizar em tela cheia"),d.Wb()}}function We(e,t){if(1&e){const e=d.Yb();d.Xb(0,"button",9),d.fc("click",(function(){return d.wc(e),d.hc().fullScreenMode=!1})),d.Gc(1,"Sair do modo tela cheia"),d.Wb()}}const Xe=function(e){return{fullscreen:e}};function Ee(e,t){if(1&e&&(d.Xb(0,"nb-card-body"),d.Sb(1,"iframe",10),d.Wb()),2&e){const e=d.hc();d.Eb(1),d.nc("src",e.meetUrl,d.yc)("ngClass",d.rc(2,Xe,e.fullScreenMode))}}function Se(e,t){if(1&e&&(d.Xb(0,"nb-card-body"),d.Xb(1,"div",11),d.Xb(2,"div",12),d.Sb(3,"nb-icon",13),d.Wb(),d.Xb(4,"div"),d.Xb(5,"h6",14),d.Gc(6,"Professor "),d.Xb(7,"strong"),d.Gc(8),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",11),d.Xb(10,"div",12),d.Sb(11,"nb-icon",15),d.Wb(),d.Xb(12,"div"),d.Xb(13,"small",16),d.Gc(14),d.Wb(),d.Xb(15,"h6",14),d.Gc(16),d.Wb(),d.Xb(17,"p",17),d.Gc(18),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=d.hc();d.Eb(8),d.Hc(e.aovivo.disciplina.professor.nome),d.Eb(5),d.Dc("background-color",e.aovivo.disciplina.cor),d.Eb(1),d.Hc(e.aovivo.disciplina.nome),d.Eb(2),d.Hc(e.aovivo.objeto.titulo),d.Eb(2),d.Hc(e.aovivo.objeto.descricao)}}function Ie(e,t){if(1&e&&(d.Xb(0,"nb-card-body"),d.Xb(1,"div",11),d.Xb(2,"div",12),d.Sb(3,"nb-icon",13),d.Wb(),d.Xb(4,"div"),d.Xb(5,"h6",14),d.Gc(6,"Professor "),d.Xb(7,"strong"),d.Gc(8),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",11),d.Xb(10,"div",12),d.Sb(11,"nb-icon",15),d.Wb(),d.Xb(12,"div"),d.Xb(13,"small",16),d.Gc(14),d.Wb(),d.Xb(15,"h6",14),d.Gc(16),d.Wb(),d.Xb(17,"p",17),d.Gc(18),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){const e=d.hc();d.Eb(8),d.Hc(e.aulas[0].disciplina.professor.nome),d.Eb(5),d.Dc("background-color",e.aulas[0].disciplina.cor),d.Eb(1),d.Hc(e.aulas[0].disciplina.nome),d.Eb(2),d.Hc(e.aulas[0].objeto.titulo),d.Eb(2),d.Hc(e.aulas[0].objeto.descricao)}}const ye=[{path:"",component:h,children:[{path:"home/:id",component:he},{path:"atividades",loadChildren:()=>i.e(22).then(i.bind(null,"Ve1e")).then(e=>e.SimuladosModule)},{path:"atividades/criar",component:A},{path:"turmas",loadChildren:()=>i.e(23).then(i.bind(null,"4sIy")).then(e=>e.TurmasModule)},{path:"materiais",loadChildren:()=>i.e(20).then(i.bind(null,"l2oJ")).then(e=>e.MateriaisModule)},{path:"planejamento",loadChildren:()=>i.e(21).then(i.bind(null,"Vw9I")).then(e=>e.PlanejamentoModule)},{path:"atividade/:id",component:te},{path:"sala/:id",component:(()=>{class e{constructor(e,t,i){this.route=e,this.professorService=t,this.sanitizer=i,this.isLoading=!0,this.route.paramMap.subscribe(e=>{this.turmaId=e.get("id"),console.log("Turma id sala",this.turmaId),this.getTurmaDetalhe(this.turmaId),this.getAulas(this.turmaId)})}ngOnInit(){}getTurmaDetalhe(e){this.professorService.getTurmaDetalhe(e).subscribe(e=>{console.log(e),this.isLoading=!1,this.turmaDetalhe=e,this.meetUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.turmaDetalhe.meet.link),console.log("Turma detalhe sala",this.turmaDetalhe)})}getAulas(e){this.professorService.getTimelineAulas(e).subscribe(e=>{let t=e;t.forEach(e=>{this.compareDates(e.objeto.dataInicio,e.objeto.dataFim)&&(this.aovivo=e)}),this.aulas=t,this.isLoading=!1})}compareDates(e,t){let i=new Date,o=new Date(e),n=new Date(t);return console.log("dataAtual",i),console.log("dataInicio",o),console.log("dataFim",n),o.getTime()<i.getTime()&&n.getTime()>i.getTime()}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(c.a),d.Rb(l.a),d.Rb(ge.b))},e.\u0275cmp=d.Lb({type:e,selectors:[["ngx-sala"]],decls:14,vars:7,consts:[[1,"row"],[1,"col-sm-9"],["size","giant","nbSpinnerStatus","primary","nbSpinnerSize","large",3,"nbSpinner"],["nbButton","","status","primary",3,"click",4,"ngIf"],["nbButton","","status","primary","size","tiny","class","btn-fullscreen",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-sm-3"],["nbSpinnerStatus","primary","nbSpinnerSize","large",3,"nbSpinner"],["nbButton","","status","primary",3,"click"],["nbButton","","status","primary","size","tiny",1,"btn-fullscreen",3,"click"],["allow","camera; microphone",1,"iframe-jitsy",3,"src","ngClass"],[1,"d-flex"],[1,"mr-3"],["icon","person-outline"],[1,"subtitle"],["icon","play-circle-outline"],[1,"badge","badge-primary"],[1,"paragraph-2","text-hint"]],template:function(e,t){1&e&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"nb-card",2),d.Xb(3,"nb-card-header"),d.Ec(4,ve,2,0,"button",3),d.Ec(5,We,2,0,"button",4),d.Wb(),d.Ec(6,Ee,2,4,"nb-card-body",5),d.Wb(),d.Wb(),d.Xb(7,"div",6),d.Xb(8,"nb-card",7),d.Xb(9,"nb-card-header"),d.Xb(10,"h6"),d.Gc(11,"Sala de aula"),d.Wb(),d.Wb(),d.Ec(12,Se,19,6,"nb-card-body",5),d.Ec(13,Ie,19,6,"nb-card-body",5),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(2),d.nc("nbSpinner",t.isLoading),d.Eb(2),d.nc("ngIf",!t.fullScreenMode),d.Eb(1),d.nc("ngIf",t.fullScreenMode),d.Eb(1),d.nc("ngIf",t.turmaDetalhe),d.Eb(2),d.nc("nbSpinner",t.isLoading),d.Eb(4),d.nc("ngIf",t.aovivo),d.Eb(1),d.nc("ngIf",!t.aovivo&&t.aulas&&t.aulas.length>0))},directives:[o.x,o.lb,o.z,u.m,o.s,o.w,u.k,o.I],styles:[".iframe-jitsy[_ngcontent-%COMP%]{width:100%;height:100%}.fullscreen[_ngcontent-%COMP%]{position:fixed;z-index:99;width:100vw;height:100vh;left:0;top:0}.btn-fullscreen[_ngcontent-%COMP%]{position:fixed;top:100px;left:20px;z-index:100}"]}),e})()},{path:"",redirectTo:"home",pathMatch:"full"}]}];let xe=(()=>{class e{}return e.\u0275mod=d.Pb({type:e}),e.\u0275inj=d.Ob({factory:function(t){return new(t||e)},imports:[[c.g.forChild(ye)],c.g]}),e})();var Ge=i("iPsQ");i.d(t,"ProfessorModule",(function(){return ke}));let ke=(()=>{class e{}return e.\u0275mod=d.Pb({type:e}),e.\u0275inj=d.Ob({factory:function(t){return new(t||e)},imports:[[o.hb,o.A,o.vb,o.K,o.M,o.n,o.D,o.G,o.eb,o.hb,o.xb,r.a,o.t,a.c,s.x,n.b,o.mb,xe,r.a,o.Z,s.x,Ge.a,o.u,o.v,s.j,E.a,o.k,X.e,o.jb,o.qb,o.r]]}),e})()}}]);