function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Vw9I:function(e,i,t){"use strict";t.r(i);var n,a=t("aceb"),o=t("tmjD"),r=t("3Pt+"),c=t("RS3s"),s=t("UBqL"),l=t("vTDv"),d=t("tyNb"),b=t("fXoL"),u=((n=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=b.Lb({type:n,selectors:[["planejamento"]],decls:1,vars:0,template:function(e,i){1&e&&b.Sb(0,"router-outlet")},directives:[d.h],encapsulation:2}),n),m=t("OE9b"),f=t("nYR2"),p=t("PSD3"),h=t.n(p),v=t("5+WD"),g=t("ofXK");function W(e,i){if(1&e&&(b.Xb(0,"nb-option",21),b.Gc(1),b.Wb()),2&e){var t=i.$implicit;b.nc("value",t.idProfessorDisciplina),b.Eb(1),b.Ic(" ",t.nome," ")}}function X(e,i){if(1&e&&(b.Xb(0,"nb-option",21),b.Gc(1),b.Wb()),2&e){var t=i.$implicit;b.nc("value",t.id),b.Eb(1),b.Hc(t.nome)}}function k(e,i){1&e&&b.Sb(0,"div",39)}function y(e,i){if(1&e&&(b.Xb(0,"span",40),b.Xb(1,"div"),b.Gc(2),b.ic(3,"date"),b.Sb(4,"nb-icon",41),b.Wb(),b.Xb(5,"small",42),b.Gc(6),b.ic(7,"date"),b.Wb(),b.Xb(8,"small",42),b.Gc(9),b.ic(10,"date"),b.Wb(),b.Wb()),2&e){var t=b.hc().$implicit;b.Eb(2),b.Ic(" ",b.kc(3,3,t.controls.dataInicio.value,"dd/MM/yyyy")," "),b.Eb(4),b.Hc("Das "+b.kc(7,6,t.controls.dataInicio.value,"HH:mm")+"h "),b.Eb(3),b.Hc("as "+b.kc(10,9,t.controls.dataFim.value,"HH:mm")+"h ")}}function C(e,i){if(1&e&&(b.Xb(0,"div"),b.Gc(1),b.ic(2,"date"),b.ic(3,"date"),b.Sb(4,"nb-icon",41),b.Wb()),2&e){var t=b.hc().$implicit;b.Eb(1),b.Jc(" ",b.kc(2,2,t.controls.dataInicio.value,"dd/MM/yyyy")," | ",b.kc(3,5,t.controls.dataInicio.value,"HH:mm")+"h "," ")}}function D(e,i){1&e&&(b.Xb(0,"div"),b.Gc(1," Data inicial "),b.Sb(2,"nb-icon",41),b.Wb())}function P(e,i){if(1&e&&(b.Xb(0,"div"),b.Gc(1),b.ic(2,"date"),b.ic(3,"date"),b.Sb(4,"nb-icon",41),b.Wb()),2&e){var t=b.hc().$implicit;b.Eb(1),b.Jc(" ",b.kc(2,2,t.controls.dataFim.value,"dd/MM/yyyy")," | ",b.kc(3,5,t.controls.dataFim.value,"HH:mm")+"h "," ")}}function S(e,i){1&e&&(b.Xb(0,"div"),b.Gc(1," Data final "),b.Sb(2,"nb-icon",41),b.Wb())}function x(e,i){if(1&e){var t=b.Yb();b.Xb(0,"nb-accordion-item",22),b.Ec(1,k,1,0,"div",23),b.Xb(2,"nb-accordion-item-header"),b.Sb(3,"nb-icon",24),b.Xb(4,"div"),b.Xb(5,"span"),b.Gc(6),b.Wb(),b.Sb(7,"br"),b.Xb(8,"small"),b.Gc(9),b.Wb(),b.Wb(),b.Xb(10,"div",25),b.Ec(11,y,11,12,"span",26),b.Xb(12,"button",27),b.fc("click",(function(){b.wc(t);var e=i.index;return b.hc().deleteAula(e)})),b.Sb(13,"nb-icon",28),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"nb-accordion-item-body"),b.Xb(15,"div",29),b.Sb(16,"input",30),b.Wb(),b.Xb(17,"div",29),b.Sb(18,"textarea",31),b.Wb(),b.Xb(19,"div",4),b.Xb(20,"label",32),b.Gc(21,"Inicio e fim da aula"),b.Wb(),b.Xb(22,"div",6),b.Xb(23,"div",33),b.Xb(24,"div",34),b.Xb(25,"div"),b.Ec(26,C,5,8,"div",35),b.Ec(27,D,3,0,"div",35),b.Wb(),b.Wb(),b.Sb(28,"input",36),b.Wb(),b.Xb(29,"div",37),b.Xb(30,"div",34),b.Xb(31,"div"),b.Ec(32,P,5,8,"div",35),b.Ec(33,S,3,0,"div",35),b.Wb(),b.Wb(),b.Sb(34,"input",38),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var n=i.$implicit,a=i.index;b.nc("formGroupName",a),b.Eb(6),b.Jc("Aula ",a+1," ",""!=n.controls.titulo.value?"- "+n.controls.titulo.value:"",""),b.Eb(3),b.Hc(n.controls.descricao.value),b.Eb(2),b.nc("ngIf",""!=n.controls.dataInicio.value||""!=n.controls.dataFim.value),b.Eb(15),b.nc("ngIf",n.controls.dataInicio.value),b.Eb(1),b.nc("ngIf",!n.controls.dataInicio.value),b.Eb(1),b.nc("altInput",!1)("enableTime",!0)("time24hr",!0),b.Eb(4),b.nc("ngIf",n.controls.dataFim.value),b.Eb(1),b.nc("ngIf",!n.controls.dataFim.value),b.Eb(1),b.nc("altInput",!1)("enableTime",!0)("time24hr",!0)}}var E,I=((E=function(){function e(i,t,n){_classCallCheck(this,e),this.formBuilder=i,this.ProfessorService=t,this.router=n,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTurmasProfessor(),this.getDetalhesProfessor(),this.createForm()}},{key:"filtrarTurma",value:function(e){console.log(e),this.turmasFiltered=[],this.planos.clear(),this.form.controls.turma.setValue(""),this.turmasFiltered=this.turmas.filter((function(i){return i.disciplinas.some((function(i){return i.idProfessorDisciplina==e}))})),console.log(this.form)}},{key:"getAulas",value:function(e,i){var t=this;this.isLoading=!0,this.ProfessorService.getPlanejamentos(e,i).pipe(Object(f.a)((function(){}))).subscribe((function(e){t.isLoading=!1,e&&e.forEach((function(e){t.addAula(e)}))}))}},{key:"onDrop",value:function(e){e.previousContainer===e.container?Object(v.f)(e.container.data,e.previousIndex,e.currentIndex):Object(v.g)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}},{key:"getTurmasProfessor",value:function(){var e=this;this.ProfessorService.getTurmas().subscribe((function(i){e.isLoading=!1,e.turmas=i}))}},{key:"getDetalhesProfessor",value:function(){var e=this;this.ProfessorService.getProfessorDetalhes().subscribe((function(i){e.isLoading=!1,e.disciplinas=i.disciplinas}))}},{key:"addAula",value:function(e){this.planos.push(this.formBuilder.group(e?{titulo:[e.titulo,r.A.required],descricao:[e.descricao,r.A.required],dataInicio:[e.dataInicio,r.A.required],dataFim:[e.dataFim,r.A.required]}:{titulo:["",r.A.required],descricao:["",r.A.required],dataInicio:["",r.A.required],dataFim:["",r.A.required]}))}},{key:"deleteAula",value:function(e){this.planos.removeAt(e)}},{key:"createForm",value:function(){this.form=this.formBuilder.group({turma:["",r.A.required],disciplinaProfessor:["",r.A.required],planos:this.formBuilder.array([])})}},{key:"Adicionar",value:function(){var e=this;this.isLoading=!0;var i=Object.assign({},this.form.value);this.ProfessorService.criarPlanejamento(i).pipe(Object(f.a)((function(){e.isLoading=!1}))).subscribe((function(i){e.isLoading=!1,i&&h.a.fire("Ok","Plano de aula adicionada com sucesso","success")}))}},{key:"planos",get:function(){return this.form.get("planos")}}]),e}()).\u0275fac=function(e){return new(e||E)(b.Rb(r.d),b.Rb(m.a),b.Rb(d.c))},E.\u0275cmp=b.Lb({type:E,selectors:[["ngx-criar"]],decls:34,vars:10,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],["action","",3,"formGroup"],[1,"form-group","row"],["for","disciplina",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10","d-flex"],["placeholder","Selecione a disciplina","id","disciplina","formControlName","disciplinaProfessor",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","turmas",1,"label","col-sm-2","col-form-label"],["placeholder","Selecione as turmas","id","turmas","formControlName","turma",3,"selected","selectedChange"],["formArrayName","planos",1,"form-group","row"],["for","planos",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10"],["cdkDropList","",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"offset-sm-2","col-sm-10","mb-4"],["type","button","nbButton","","status","info","size","small",3,"disabled","click"],["icon","plus-outline"],[1,"offset-sm-2","col-sm-10"],["type","submit","nbButton","","status","primary",3,"disabled","click"],[3,"value"],["cdkDrag","",3,"formGroupName"],["class","questao-placeholder",4,"cdkDragPlaceholder"],["icon","move-outline","cdkDragHandle","",1,"mr-4","text-disabled"],[1,"ml-auto","text-right","mr-5","d-flex","align-items-center"],["class","mr-5 ",4,"ngIf"],["type","button","nbButton","","status","danger","size","tiny",1,"",3,"click"],["icon","trash-2-outline"],[1,"form-group"],["type","text","nbInput","","fullWidth","","placeholder","T\xedtulo","formControlName","titulo"],["type","text","nbInput","","fullWidth","","placeholder","Descri\xe7\xe3o","formControlName","descricao"],["for","dataInicio",1,"label","col-sm-2","col-form-label"],[1,"mr-2","timepicker"],[1,"timepicker__placeholder","btn","btn-outline-secondary"],[4,"ngIf"],["type","text","nbInput","","id","dataInicio","placeholder","Data Inicio","formControlName","dataInicio","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],[1,"timepicker"],["type","text","nbInput","","id","dataFim","placeholder","Data Fim","formControlName","dataFim","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",1,"timepicker__input",3,"altInput","enableTime","time24hr"],[1,"questao-placeholder"],[1,"mr-5"],["icon","calendar-outline",1,"text-hint"],[1,"subtitle-2"]],template:function(e,i){1&e&&(b.Xb(0,"nb-card",0),b.Xb(1,"nb-card-header"),b.Xb(2,"div",1),b.Xb(3,"div",2),b.Xb(4,"h4"),b.Gc(5,"Planos de aulas"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(6,"nb-card-body"),b.Xb(7,"form",3),b.Xb(8,"div",4),b.Xb(9,"label",5),b.Gc(10,"Disciplina"),b.Wb(),b.Xb(11,"div",6),b.Xb(12,"nb-select",7),b.fc("selectedChange",(function(e){return i.selectedDisciplina=e}))("selectedChange",(function(){return i.filtrarTurma(i.selectedDisciplina)})),b.Ec(13,W,2,2,"nb-option",8),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"div",4),b.Xb(15,"label",9),b.Gc(16,"Turma"),b.Wb(),b.Xb(17,"div",6),b.Xb(18,"nb-select",10),b.fc("selectedChange",(function(e){return i.selectedTurma=e}))("selectedChange",(function(){return i.getAulas(i.selectedDisciplina,i.selectedTurma)})),b.Ec(19,X,2,2,"nb-option",8),b.Wb(),b.Wb(),b.Wb(),b.Xb(20,"div",11),b.Xb(21,"label",12),b.Gc(22," Aulas:"),b.Wb(),b.Xb(23,"div",13),b.Xb(24,"nb-accordion",14),b.fc("cdkDropListDropped",(function(e){return i.onDrop(e)})),b.Ec(25,x,35,15,"nb-accordion-item",15),b.Wb(),b.Wb(),b.Wb(),b.Xb(26,"div",4),b.Xb(27,"div",16),b.Xb(28,"button",17),b.fc("click",(function(){return i.addAula()})),b.Sb(29,"nb-icon",18),b.Gc(30," Adicionar aula "),b.Wb(),b.Wb(),b.Xb(31,"div",19),b.Xb(32,"button",20),b.fc("click",(function(){return i.Adicionar()})),b.Gc(33,"Salvar"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.nc("nbSpinner",i.isLoading),b.Eb(7),b.nc("formGroup",i.form),b.Eb(5),b.nc("selected",i.selectedDisciplina),b.Eb(1),b.nc("ngForOf",i.disciplinas),b.Eb(5),b.nc("selected",i.selectedTurma),b.Eb(1),b.nc("ngForOf",i.turmasFiltered),b.Eb(5),b.nc("cdkDropListData",i.planos.controls),b.Eb(1),b.nc("ngForOf",i.planos.controls),b.Eb(3),b.nc("disabled",""==i.form.controls.disciplinaProfessor.value||""==i.form.controls.turma.value),b.Eb(4),b.nc("disabled",i.form.invalid||i.isLoading))},directives:[a.x,a.lb,a.z,a.w,r.C,r.q,r.h,a.gb,r.p,r.g,g.l,r.c,a.g,v.d,a.s,a.I,a.bb,a.i,v.a,r.i,v.c,a.j,v.b,g.m,a.h,a.L,r.b,s.b],pipes:[g.e],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;padding:1.25rem}.cdk-drag-animating[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.questao-placeholder[_ngcontent-%COMP%]{min-height:60px}.alternativa-placeholder[_ngcontent-%COMP%], .questao-placeholder[_ngcontent-%COMP%]{background:#fff6f6;border:3px dotted #ddd;transition:transform .25s cubic-bezier(0,0,.2,1)}.alternativa-placeholder[_ngcontent-%COMP%]{min-height:100px}"]}),E),F=t("sRfN");function A(e,i){if(1&e&&(b.Xb(0,"nb-option",12),b.Gc(1),b.Wb()),2&e){var t=i.$implicit;b.nc("value",t.idProfessorDisciplina),b.Eb(1),b.Ic(" ",t.nome,"")}}function O(e,i){if(1&e&&(b.Xb(0,"nb-option",12),b.Gc(1),b.Wb()),2&e){var t=i.$implicit;b.nc("value",t.id),b.Eb(1),b.Hc(t.nome)}}function G(e,i){if(1&e&&(b.Xb(0,"nb-option",21),b.Gc(1),b.Wb()),2&e){var t=i.$implicit;b.nc("value",t.idProfessorDisciplina),b.Eb(1),b.Ic(" ",t.nome," ")}}function L(e,i){if(1&e&&(b.Xb(0,"nb-option",21),b.Gc(1),b.Wb()),2&e){var t=i.$implicit;b.nc("value",t.id),b.Eb(1),b.Hc(t.nome)}}function w(e,i){1&e&&b.Sb(0,"div",36)}function T(e,i){if(1&e&&(b.Xb(0,"span",37),b.Xb(1,"div"),b.Gc(2),b.ic(3,"date"),b.Sb(4,"nb-icon",38),b.Wb(),b.Xb(5,"small",39),b.Gc(6),b.ic(7,"date"),b.Wb(),b.Xb(8,"small",39),b.Gc(9),b.ic(10,"date"),b.Wb(),b.Wb()),2&e){var t=b.hc().$implicit;b.Eb(2),b.Ic(" ",b.kc(3,3,t.controls.dataInicio.value,"dd/MM/yyyy")," "),b.Eb(4),b.Hc("Das "+b.kc(7,6,t.controls.dataInicio.value,"HH:mm")+"h "),b.Eb(3),b.Hc("as "+b.kc(10,9,t.controls.dataFim.value,"HH:mm")+"h ")}}function _(e,i){if(1&e){var t=b.Yb();b.Xb(0,"nb-accordion-item",22),b.Ec(1,w,1,0,"div",23),b.Xb(2,"nb-accordion-item-header"),b.Sb(3,"nb-icon",24),b.Xb(4,"div"),b.Xb(5,"span"),b.Gc(6),b.Wb(),b.Sb(7,"br"),b.Xb(8,"small"),b.Gc(9),b.Wb(),b.Wb(),b.Xb(10,"div",25),b.Ec(11,T,11,12,"span",26),b.Xb(12,"button",27),b.fc("click",(function(){b.wc(t);var e=i.index;return b.hc().deleteAula(e)})),b.Sb(13,"nb-icon",28),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"nb-accordion-item-body"),b.Xb(15,"div",29),b.Sb(16,"input",30),b.Wb(),b.Xb(17,"div",29),b.Sb(18,"textarea",31),b.Wb(),b.Xb(19,"div",4),b.Xb(20,"label",32),b.Gc(21,"Inicio e fim da aula"),b.Wb(),b.Xb(22,"div",6),b.Xb(23,"div",33),b.Xb(24,"input",34),b.fc("change",(function(e){return b.wc(t),b.hc().dateF(e)})),b.Wb(),b.Wb(),b.Xb(25,"div"),b.Sb(26,"input",35),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var n=i.$implicit,a=i.index;b.nc("formGroupName",a),b.Eb(6),b.Jc("Aula ",a+1," ",""!=n.controls.titulo.value?"- "+n.controls.titulo.value:"",""),b.Eb(3),b.Hc(n.controls.descricao.value),b.Eb(2),b.nc("ngIf",""!=n.controls.dataInicio.value||""!=n.controls.dataFim.value),b.Eb(13),b.nc("altInput",!1)("enableTime",!0)("time24hr",!0),b.Eb(2),b.nc("altInput",!1)("enableTime",!0)("time24hr",!0)}}var q,M,j,H=[{path:"",component:u,children:[{path:"",redirectTo:"listar",pathMatch:"full"},{path:"criar",component:I},{path:"listar",component:(M=function(){function e(i,t,n){_classCallCheck(this,e),this.service=i,this.ProfessorService=t,this.router=n,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[],this.settings={hideSubHeader:!0,actions:{position:"right",columnTitle:"A\xe7\xf5es",add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{titulo:{title:"T\xedtulo",type:"string",editable:!1},descricao:{title:"Descri\xe7\xe3o",type:"string",editable:!1},dataInicio:{title:"Inicio",type:"date",editable:!1},dataFim:{title:"Fim",type:"date",editable:!1}}},this.source=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.getDetalhesProfessor(),this.getTurmasProfessor()}},{key:"filtrarTurma",value:function(e){console.log(e),this.turmasFiltered=this.turmas.filter((function(i){return i.disciplinas.some((function(i){return i.idProfessorDisciplina==e}))})),console.log(this.turmasFiltered)}},{key:"getTurmasProfessor",value:function(){var e=this;this.ProfessorService.getTurmas().subscribe((function(i){e.isLoading=!1,e.turmas=i}))}},{key:"getDetalhesProfessor",value:function(){var e=this;this.ProfessorService.getProfessorDetalhes().subscribe((function(i){e.isLoading=!1,e.disciplinas=i.disciplinas}))}},{key:"getAulas",value:function(e,i){var t=this;this.isLoading=!0,this.ProfessorService.getPlanejamentos(e,i).pipe(Object(f.a)((function(){}))).subscribe((function(e){t.source.load(e),t.source.refresh(),t.isLoading=!1}))}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""!=e?this.source.setFilter([{field:"id",search:e},{field:"nome",search:e},{field:"descricao",search:e},{field:"onboardStatus",search:e}],!1):this.source.reset()}},{key:"onCustomAction",value:function(e){console.log(e),this.router.navigateByUrl("/instituicao/disciplinas/editar/"+e.data._id)}},{key:"onDeleteConfirm",value:function(e){console.log(e),window.confirm("Tem certeza que deseja rejeitar a aprova\xe7\xe3o deste usu\xe1rio?")||e.confirm.reject()}},{key:"onEditConfirm",value:function(e){console.log(e)}}]),e}(),M.\u0275fac=function(e){return new(e||M)(b.Rb(F.a),b.Rb(m.a),b.Rb(d.c))},M.\u0275cmp=b.Lb({type:M,selectors:[["ngx-listar"]],decls:17,vars:7,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],[1,"ml-auto","text-right"],["placeholder","Selecione uma disciplina","filled","","status","primary",1,"mr-4",3,"selected","selectedChange"],["disciplinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecione uma turma","filled","","status","primary",1,"mr-4",3,"selected","selectedChange"],["turmaSelect",""],["nbInput","","type","text","placeholder","Buscar",1,"search",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","custom","editConfirm"],[3,"value"]],template:function(e,i){if(1&e){var t=b.Yb();b.Xb(0,"nb-card",0),b.Xb(1,"nb-card-header"),b.Xb(2,"div",1),b.Xb(3,"div",2),b.Xb(4,"h4"),b.Gc(5,"Planos de aula"),b.Wb(),b.Wb(),b.Xb(6,"div",3),b.Xb(7,"nb-select",4,5),b.fc("selectedChange",(function(e){return i.selectedDisciplina=e}))("selectedChange",(function(){return i.filtrarTurma(i.selectedDisciplina)})),b.Ec(9,A,2,2,"nb-option",6),b.Wb(),b.Xb(10,"nb-select",7,8),b.fc("selectedChange",(function(e){return i.selectedTurma=e}))("selectedChange",(function(){return i.getAulas(i.selectedDisciplina,i.selectedTurma)})),b.Ec(12,O,2,2,"nb-option",6),b.Wb(),b.Xb(13,"input",9,10),b.fc("keydown.enter",(function(){b.wc(t);var e=b.uc(14);return i.onSearch(e.value)})),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(15,"nb-card-body"),b.Xb(16,"ng2-smart-table",11),b.fc("deleteConfirm",(function(e){return i.onDeleteConfirm(e)}))("custom",(function(e){return i.onCustomAction(e)}))("editConfirm",(function(e){return i.onEditConfirm(e)})),b.Wb(),b.Wb(),b.Wb()}2&e&&(b.nc("nbSpinner",i.isLoading),b.Eb(7),b.nc("selected",i.selectedDisciplina),b.Eb(2),b.nc("ngForOf",i.disciplinas),b.Eb(1),b.nc("selected",i.selectedTurma),b.Eb(2),b.nc("ngForOf",i.turmasFiltered),b.Eb(4),b.nc("settings",i.settings)("source",i.source))},directives:[a.x,a.lb,a.z,a.gb,g.l,a.L,a.w,c.b,a.bb],styles:[""]}),M)},{path:"criaraula",component:(q=function(){function e(i,t,n){_classCallCheck(this,e),this.formBuilder=i,this.ProfessorService=t,this.router=n,this.isLoading=!0,this.turmas=[],this.turmasFiltered=[],this.disciplinas=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTurmasProfessor(),this.getDetalhesProfessor(),this.createForm()}},{key:"filtrarTurma",value:function(e){console.log(e),this.turmasFiltered=[],this.planos.clear(),this.form.controls.turma.setValue(""),this.turmasFiltered=this.turmas.filter((function(i){return i.disciplinas.some((function(i){return i.idProfessorDisciplina==e}))})),console.log(this.form)}},{key:"getAulas",value:function(e,i){var t=this;this.isLoading=!0,this.ProfessorService.getPlanejamentos(e,i).pipe(Object(f.a)((function(){}))).subscribe((function(e){t.isLoading=!1,e&&e.forEach((function(e){t.addAula(e)}))}))}},{key:"onDrop",value:function(e){e.previousContainer===e.container?Object(v.f)(e.container.data,e.previousIndex,e.currentIndex):Object(v.g)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}},{key:"getTurmasProfessor",value:function(){var e=this;this.ProfessorService.getTurmas().subscribe((function(i){e.isLoading=!1,e.turmas=i}))}},{key:"getDetalhesProfessor",value:function(){var e=this;this.ProfessorService.getProfessorDetalhes().subscribe((function(i){e.isLoading=!1,e.disciplinas=i.disciplinas}))}},{key:"addAula",value:function(e){this.planos.push(this.formBuilder.group(e?{titulo:[e.titulo,r.A.required],descricao:[e.descricao,r.A.required],dataInicio:[e.dataInicio,r.A.required],dataFim:[e.dataFim,r.A.required]}:{titulo:["",r.A.required],descricao:["",r.A.required],dataInicio:["",r.A.required],dataFim:["",r.A.required]}))}},{key:"deleteAula",value:function(e){this.planos.removeAt(e)}},{key:"dateF",value:function(e){console.log(e)}},{key:"createForm",value:function(){this.form=this.formBuilder.group({turma:["",r.A.required],disciplinaProfessor:["",r.A.required],planos:this.formBuilder.array([])})}},{key:"Adicionar",value:function(){var e=this;this.isLoading=!0;var i=Object.assign({},this.form.value);this.ProfessorService.criarPlanejamento(i).pipe(Object(f.a)((function(){e.isLoading=!1}))).subscribe((function(i){e.isLoading=!1,i&&h.a.fire("Ok","Plano de aula adicionada com sucesso","success")}))}},{key:"planos",get:function(){return this.form.get("planos")}}]),e}(),q.\u0275fac=function(e){return new(e||q)(b.Rb(r.d),b.Rb(m.a),b.Rb(d.c))},q.\u0275cmp=b.Lb({type:q,selectors:[["ngx-criar"]],decls:34,vars:10,consts:[["nbSpinnerStatus","primary","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-5"],["action","",3,"formGroup"],[1,"form-group","row"],["for","disciplina",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10","d-flex"],["placeholder","Selecione a disciplina","id","disciplina","formControlName","disciplinaProfessor",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","turmas",1,"label","col-sm-2","col-form-label"],["placeholder","Selecione as turmas","id","turmas","formControlName","turma",3,"selected","selectedChange"],["formArrayName","planos",1,"form-group","row"],["for","planos",1,"label","col-sm-2","col-form-label"],[1,"col-sm-10"],["cdkDropList","",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"offset-sm-2","col-sm-10","mb-4"],["type","button","nbButton","","status","info","size","small",3,"disabled","click"],["icon","plus-outline"],[1,"offset-sm-2","col-sm-10"],["type","submit","nbButton","","status","primary",3,"disabled","click"],[3,"value"],["cdkDrag","",3,"formGroupName"],["class","questao-placeholder",4,"cdkDragPlaceholder"],["icon","move-outline","cdkDragHandle","",1,"mr-4","text-disabled"],[1,"ml-auto","text-right","mr-5","d-flex","align-items-center"],["class","mr-5 ",4,"ngIf"],["type","button","nbButton","","status","danger","size","tiny",1,"",3,"click"],["icon","trash-2-outline"],[1,"form-group"],["type","text","nbInput","","fullWidth","","placeholder","T\xedtulo","formControlName","titulo"],["type","text","nbInput","","fullWidth","","placeholder","Descri\xe7\xe3o","formControlName","descricao"],["for","dataInicio",1,"label","col-sm-2","col-form-label"],[1,"mr-2"],["type","text","nbInput","","id","dataInicio","placeholder","Data Inicio","formControlName","dataInicio","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",3,"altInput","enableTime","time24hr","change"],["type","text","nbInput","","id","dataFim","placeholder","Data Fim","formControlName","dataFim","mwlFlatpickr","","altFormat","d/m/Y  ( H:i )","dateFormat","Z",3,"altInput","enableTime","time24hr"],[1,"questao-placeholder"],[1,"mr-5"],["icon","calendar-outline",1,"text-hint"],[1,"subtitle-2"]],template:function(e,i){1&e&&(b.Xb(0,"nb-card",0),b.Xb(1,"nb-card-header"),b.Xb(2,"div",1),b.Xb(3,"div",2),b.Xb(4,"h4"),b.Gc(5,"Planos de aulas"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(6,"nb-card-body"),b.Xb(7,"form",3),b.Xb(8,"div",4),b.Xb(9,"label",5),b.Gc(10,"Disciplina"),b.Wb(),b.Xb(11,"div",6),b.Xb(12,"nb-select",7),b.fc("selectedChange",(function(e){return i.selectedDisciplina=e}))("selectedChange",(function(){return i.filtrarTurma(i.selectedDisciplina)})),b.Ec(13,G,2,2,"nb-option",8),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"div",4),b.Xb(15,"label",9),b.Gc(16,"Turma"),b.Wb(),b.Xb(17,"div",6),b.Xb(18,"nb-select",10),b.fc("selectedChange",(function(e){return i.selectedTurma=e}))("selectedChange",(function(){return i.getAulas(i.selectedDisciplina,i.selectedTurma)})),b.Ec(19,L,2,2,"nb-option",8),b.Wb(),b.Wb(),b.Wb(),b.Xb(20,"div",11),b.Xb(21,"label",12),b.Gc(22," Aulas:"),b.Wb(),b.Xb(23,"div",13),b.Xb(24,"nb-accordion",14),b.fc("cdkDropListDropped",(function(e){return i.onDrop(e)})),b.Ec(25,_,27,11,"nb-accordion-item",15),b.Wb(),b.Wb(),b.Wb(),b.Xb(26,"div",4),b.Xb(27,"div",16),b.Xb(28,"button",17),b.fc("click",(function(){return i.addAula()})),b.Sb(29,"nb-icon",18),b.Gc(30," Adicionar aula "),b.Wb(),b.Wb(),b.Xb(31,"div",19),b.Xb(32,"button",20),b.fc("click",(function(){return i.Adicionar()})),b.Gc(33,"Salvar"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.nc("nbSpinner",i.isLoading),b.Eb(7),b.nc("formGroup",i.form),b.Eb(5),b.nc("selected",i.selectedDisciplina),b.Eb(1),b.nc("ngForOf",i.disciplinas),b.Eb(5),b.nc("selected",i.selectedTurma),b.Eb(1),b.nc("ngForOf",i.turmasFiltered),b.Eb(5),b.nc("cdkDropListData",i.planos.controls),b.Eb(1),b.nc("ngForOf",i.planos.controls),b.Eb(3),b.nc("disabled",""==i.form.controls.disciplinaProfessor.value||""==i.form.controls.turma.value),b.Eb(4),b.nc("disabled",i.form.invalid||i.isLoading))},directives:[a.x,a.lb,a.z,a.w,r.C,r.q,r.h,a.gb,r.p,r.g,g.l,r.c,a.g,v.d,a.s,a.I,a.bb,a.i,v.a,r.i,v.c,a.j,v.b,g.m,a.h,a.L,r.b,s.b],pipes:[g.e],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;padding:1.25rem}.cdk-drag-animating[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.questao-placeholder[_ngcontent-%COMP%]{min-height:60px}.alternativa-placeholder[_ngcontent-%COMP%], .questao-placeholder[_ngcontent-%COMP%]{background:#fff6f6;border:3px dotted #ddd;transition:transform .25s cubic-bezier(0,0,.2,1)}.alternativa-placeholder[_ngcontent-%COMP%]{min-height:100px}"]}),q)}]}],B=((j=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:j}),j.\u0275inj=b.Ob({factory:function(e){return new(e||j)},imports:[[d.g.forChild(H)],d.g]}),j);t.d(i,"PlanejamentoModule",(function(){return z}));var N,z=((N=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:N}),N.\u0275inj=b.Ob({factory:function(e){return new(e||N)},imports:[[a.A,a.vb,a.K,a.M,a.n,a.D,a.G,a.eb,a.hb,a.xb,l.a,a.t,B,c.c,r.x,o.b,a.mb,r.j,s.a,a.k,v.e]]}),N)}}]);